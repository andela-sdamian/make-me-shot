  [1m[36m (3.1ms)[0m  [1mCREATE TABLE "links" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "long" varchar, "short" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "click_count" integer DEFAULT 0, "active" boolean DEFAULT 't') [0m
  [1m[35m (1.5ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "price" integer, "description" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (1.7ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "provider" varchar, "uid" varchar, "full_name" varchar, "links_count" integer DEFAULT 0, "authentication_token" varchar) [0m
  [1m[35m (0.3ms)[0m  select sqlite_version(*)
  [1m[36m (1.7ms)[0m  [1mCREATE  INDEX "index_users_on_authentication_token" ON "users" ("authentication_token")[0m
  [1m[35m (0.4ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_authentication_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_authentication_token' AND type='index'

  [1m[36m (1.4ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_authentication_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_authentication_token' AND type='index'
[0m
  [1m[35m (1.4ms)[0m  CREATE  INDEX "index_users_on_links_count" ON "users" ("links_count")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_links_count' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_links_count' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_authentication_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_authentication_token' AND type='index'
[0m
  [1m[35m (1.6ms)[0m  CREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "visits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "link_id" integer, "ip" varchar, "browser" varchar, "browser_version" varchar, "os" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "referer" varchar) [0m
  [1m[35m (2.2ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar NOT NULL) 
  [1m[36m (1.7ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.2ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (1.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160403132641')[0m
  [1m[35m (1.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160318094703')
  [1m[36m (1.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160318100340')[0m
  [1m[35m (2.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160318112914')
  [1m[36m (1.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160318145753')[0m
  [1m[35m (2.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160324002901')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160324151158')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160325061209')
  [1m[36m (1.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160325090138')[0m
  [1m[35m (1.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160325091426')
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-07 15:10:04', '2016-04-07 15:10:04', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$8HPyztTP5sDUTnX/GpDMyOKMw9/vkdqvyb8H/3Yg7fD8PV5GhhvFW', '2016-04-07 15:10:04', '2016-04-07 15:10:04', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$.GzcUNWrUjyqDMZb.O7NxeEKeQKAUufyuH7iMpti3.AXSsusgbU/y', '2016-04-07 15:10:04', '2016-04-07 15:10:04', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-07 15:10:04', '2016-04-07 15:10:04', 980190962)[0m
  [1m[35m (2.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:10:04.860114"], ["updated_at", "2016-04-07 15:10:04.860114"], ["short", "Dq0g7Q"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (317.8ms)
  Rendered links/partials/_form.html.erb (24.3ms)
  Rendered links/edit.html.erb within layouts/application (350.5ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 375ms (Views: 369.7ms | ActiveRecord: 0.2ms)
  [1m[35m (13.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:10:05.270399"], ["updated_at", "2016-04-07 15:10:05.270399"], ["short", "JktpeQ"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.3ms)
  [1m[35mVisit Exists (0.2ms)[0m  SELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (26.9ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 32ms (Views: 31.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:10:05.309725"], ["updated_at", "2016-04-07 15:10:05.309725"], ["short", "-yS0MA"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"-yS0MA", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/links/980190963
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:10:05.325734"], ["updated_at", "2016-04-07 15:10:05.325734"], ["short", "-gOwKQ"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.0ms)
  Rendered links/partials/_form.html.erb (1.3ms)
  Rendered links/new.html.erb within layouts/application (3.7ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 24ms (Views: 15.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:10:05.358180"], ["updated_at", "2016-04-07 15:10:05.358180"], ["short", "zYByFQ"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.9ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (6.7ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 13ms (Views: 10.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:10:05.378355"], ["updated_at", "2016-04-07 15:10:05.378355"], ["short", "MMc8Jw"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"MMc8Jw", "user_id"=>"980190962"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "MMc8Jw"], ["created_at", "2016-04-07 15:10:05.385625"], ["updated_at", "2016-04-07 15:10:05.385625"]]
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 11ms (ActiveRecord: 1.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:10:05.398922"], ["updated_at", "2016-04-07 15:10:05.398922"], ["short", "mF2dNg"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "links" WHERE "links"."id" = ?  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/dashboard
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (8.4ms)
  Rendered links/partials/_popular_links.html.erb (0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (5.5ms)
  Rendered links/partials/_recent.html.erb (0.6ms)
  Rendered pages/index.html.erb within layouts/application (22.2ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (1.0ms)
Completed 200 OK in 33ms (Views: 30.7ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (1.4ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 10.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["link_id", 980190962], ["created_at", "2016-04-07 15:10:05.528013"], ["updated_at", "2016-04-07 15:10:05.528013"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (9.1ms)
  Rendered visits/new.html.erb within layouts/application (11.5ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 16ms (Views: 15.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.0ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/_form.html.erb (2.6ms)
  Rendered visits/edit.html.erb within layouts/application (3.4ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 7.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "visits" WHERE "visits"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[35mVisit Load (0.1ms)[0m  SELECT "visits".* FROM "visits"
  Rendered visits/index.html.erb within layouts/application (1.6ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?  [["authentication_token", "NYBMqCq41_4dp39ZciCy"]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["authentication_token", "NYBMqCq41_4dp39ZciCy"], ["updated_at", "2016-04-07 15:10:05.604658"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------
VisitTest: test_valid
---------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-07 16:10:05 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.8ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 17ms (Views: 7.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Started GET "/" for 127.0.0.1 at 2016-04-07 16:10:05 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.3ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (2.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.7ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Started GET "/login" for 127.0.0.1 at 2016-04-07 16:10:05 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (3.1ms)
  Rendered devise/sessions/new.html.erb within layouts/application (12.3ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 31ms (Views: 28.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Started GET "/pages/about" for 127.0.0.1 at 2016-04-07 16:10:05 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.5ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 5.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Started GET "/register" for 127.0.0.1 at 2016-04-07 16:10:05 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.8ms)
  Rendered devise/registrations/new.html.erb within layouts/application (4.6ms)
  Rendered shared/_nav_bar.html.erb (1.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 17ms (Views: 15.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-07 16:10:05 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
VisitorVisitsSite: test_visitor_should_login
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Started GET "/login" for 127.0.0.1 at 2016-04-07 16:10:09 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.5ms)
  Rendered devise/sessions/new.html.erb within layouts/application (3.4ms)
  Rendered shared/_nav_bar.html.erb (1.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 12ms (Views: 9.6ms | ActiveRecord: 0.0ms)
Started GET "/assets/application-76c01fba91e5d9b0b350a4b6aa281e2abc3ced7fa9edf64a03924d6f0be807c0.css" for 127.0.0.1 at 2016-04-07 16:10:09 +0100
Started GET "/assets/application-6af8c7608905532ea8db24e46c871de0004eb6ca322e4372c09e416db5644c8a.js" for 127.0.0.1 at 2016-04-07 16:10:09 +0100
Started GET "/assets/roboto/Roboto-Regular-b5c9c23bd12593523a46d79dd0aee80e3226bbde4c9ac05fc30a95e2c1510de0.woff2" for 127.0.0.1 at 2016-04-07 16:10:10 +0100
Started POST "/login" for 127.0.0.1 at 2016-04-07 16:10:11 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"one@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "one@test.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "cRHrxk1a_zY8YKK8vz4G"]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["last_sign_in_at", "2016-04-07 15:10:11.973547"], ["current_sign_in_at", "2016-04-07 15:10:11.973547"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["authentication_token", "cRHrxk1a_zY8YKK8vz4G"], ["updated_at", "2016-04-07 15:10:11.976030"], ["id", 980190962]]
  [1m[36m (545.7ms)[0m  [1mcommit transaction[0m
SQLite3::BusyException: database is locked: commit transaction
  [1m[35m (5.6ms)[0m  rollback transaction
Completed 500 Internal Server Error in 565ms (ActiveRecord: 552.6ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Started GET "/" for 127.0.0.1 at 2016-04-07 16:10:15 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.5ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (3.6ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (6.4ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 12ms (Views: 9.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Started GET "/" for 127.0.0.1 at 2016-04-07 16:10:15 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.5ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (2.6ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (5.3ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 12ms (Views: 9.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_create_an_account
--------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Started GET "/register" for 127.0.0.1 at 2016-04-07 16:10:15 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.4ms)
  Rendered devise/registrations/new.html.erb within layouts/application (2.2ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.0ms)
Started POST "/" for 127.0.0.1 at 2016-04-07 16:10:16 +0100
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"full_name"=>"Jack Python", "email"=>"jack@jack.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'jack@jack.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "TwcQsQfrdszq8Sh7Ykqe"]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["full_name", "Jack Python"], ["email", "jack@jack.com"], ["encrypted_password", "$2a$04$F.MngtYak/XTX4s0WAygQu6NHNJwyed.PAmHv8iJLjf.6zImCk96e"], ["authentication_token", "TwcQsQfrdszq8Sh7Ykqe"], ["created_at", "2016-04-07 15:10:16.293329"], ["updated_at", "2016-04-07 15:10:16.293329"]]
  [1m[36m (550.9ms)[0m  [1mcommit transaction[0m
SQLite3::BusyException: database is locked: commit transaction
  [1m[35m (5.7ms)[0m  rollback transaction
Completed 500 Internal Server Error in 568ms (ActiveRecord: 557.8ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["active", "f"], ["updated_at", "2016-04-07 15:10:19.138721"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["click_count", 1], ["updated_at", "2016-04-07 15:10:19.151248"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-07 15:10:19.157270"], ["updated_at", "2016-04-07 15:10:19.157270"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to https://google.com.ng
Completed 302 Found in 11ms (ActiveRecord: 1.1ms)
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-07 15:10:19', '2016-04-07 15:10:19', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$vfS3b2fZGtxUYeHKtmMSben46I.TIY5afio7NpWOOMfZwLcyAisxq', '2016-04-07 15:10:19', '2016-04-07 15:10:19', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$6OnnTsHraQwONiMvVvaVp.7vGB0CrxR0bjLjciBP29.YbBMWj/rTK', '2016-04-07 15:10:19', '2016-04-07 15:10:19', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-07 15:10:19', '2016-04-07 15:10:19', 980190962)[0m
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[35mLink Load (0.4ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mBEGIN TRANSACTION; END;[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-07 15:11:46', '2016-04-07 15:11:46', 980190962)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$K8ctqjx5phoayzxlepoAYOBm5qMduV/6N9DGknLvZoP6JOOFkdQq2', '2016-04-07 15:11:46', '2016-04-07 15:11:46', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$lrjvm6nEkSj65cOhNrZZD.gcMaVLr/IE3de7D7PMWwRLNazEzXr56', '2016-04-07 15:11:46', '2016-04-07 15:11:46', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-07 15:11:46', '2016-04-07 15:11:46', 980190962)[0m
  [1m[35m (3.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[35mVisit Load (0.3ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
VisitTest: test_valid
---------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["link_id", 980190962], ["created_at", "2016-04-07 15:11:46.454946"], ["updated_at", "2016-04-07 15:11:46.454946"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190963
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (15.5ms)
  Rendered visits/new.html.erb within layouts/application (21.7ms)
  Rendered shared/_nav_bar.html.erb (14.5ms)
  Rendered shared/_footer.html.erb (0.7ms)
Completed 200 OK in 359ms (Views: 358.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT "visits".* FROM "visits"[0m
  Rendered visits/index.html.erb within layouts/application (3.2ms)
  Rendered shared/_nav_bar.html.erb (1.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 14ms (Views: 13.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (1.8ms)
  Rendered shared/_nav_bar.html.erb (1.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 13ms (Views: 10.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "visits" WHERE "visits"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (1.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mVisit Load (0.5ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/_form.html.erb (6.1ms)
  Rendered visits/edit.html.erb within layouts/application (7.7ms)
  Rendered shared/_nav_bar.html.erb (1.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 20ms (Views: 18.5ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?  [["authentication_token", "Xx4sxx62jGKF8aRr4Fgu"]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["authentication_token", "Xx4sxx62jGKF8aRr4Fgu"], ["updated_at", "2016-04-07 15:11:46.944691"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:11:46.958385"], ["updated_at", "2016-04-07 15:11:46.958385"], ["short", "mHTcIg"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "links" WHERE "links"."id" = ?[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/dashboard
Completed 302 Found in 9ms (ActiveRecord: 1.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:11:46.988564"], ["updated_at", "2016-04-07 15:11:46.988564"], ["short", "vW3xcg"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"vW3xcg", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/links/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:11:47.002572"], ["updated_at", "2016-04-07 15:11:47.002572"], ["short", "OBohrQ"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (6.7ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 16ms (Views: 13.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:11:47.025293"], ["updated_at", "2016-04-07 15:11:47.025293"], ["short", "16JS5A"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.5ms)
  [1m[36mVisit Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1[0m  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (16.3ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 21ms (Views: 19.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:11:47.053591"], ["updated_at", "2016-04-07 15:11:47.053591"], ["short", "EcaCDg"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.9ms)
  Rendered links/partials/_form.html.erb (2.0ms)
  Rendered links/new.html.erb within layouts/application (5.4ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 9.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:11:47.102088"], ["updated_at", "2016-04-07 15:11:47.102088"], ["short", "J6xNJQ"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.9ms)
  Rendered links/partials/_form.html.erb (6.6ms)
  Rendered links/edit.html.erb within layouts/application (9.7ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 13.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:11:47.124278"], ["updated_at", "2016-04-07 15:11:47.124278"], ["short", "bIIF1A"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"bIIF1A", "user_id"=>"980190962"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "bIIF1A"], ["created_at", "2016-04-07 15:11:47.131218"], ["updated_at", "2016-04-07 15:11:47.131218"]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Started GET "/" for 127.0.0.1 at 2016-04-07 16:11:47 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (5.6ms)
  Rendered links/partials/_recent.html.erb (0.6ms)
  Rendered pages/index.html.erb within layouts/application (14.2ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 21.1ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Started GET "/login" for 127.0.0.1 at 2016-04-07 16:11:47 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (2.9ms)
  Rendered devise/sessions/new.html.erb within layouts/application (10.3ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 29ms (Views: 25.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-07 16:11:47 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.5ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Started GET "/" for 127.0.0.1 at 2016-04-07 16:11:47 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (2.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.4ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Started GET "/" for 127.0.0.1 at 2016-04-07 16:11:47 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.6ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (4.0ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (6.9ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 14ms (Views: 10.7ms | ActiveRecord: 0.7ms)
Started POST "/links" for 127.0.0.1 at 2016-04-07 16:11:47 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-07 15:11:47.285343"], ["updated_at", "2016-04-07 15:11:47.285343"], ["short", "0FpgZw"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2016-04-07 16:11:47 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.8ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (4.8ms)
  Rendered links/partials/_recent.html.erb (0.6ms)
  Rendered pages/index.html.erb within layouts/application (8.6ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.7ms)
Completed 200 OK in 16ms (Views: 13.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-07 16:11:47 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Started GET "/" for 127.0.0.1 at 2016-04-07 16:11:47 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.6ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (6.4ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (9.4ms)
  Rendered shared/_nav_bar.html.erb (1.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 18ms (Views: 15.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Started GET "/register" for 127.0.0.1 at 2016-04-07 16:11:47 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.8ms)
  Rendered devise/registrations/new.html.erb within layouts/application (4.6ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 20ms (Views: 18.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Started GET "/pages/about" for 127.0.0.1 at 2016-04-07 16:11:47 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (1.2ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 9.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Started GET "/" for 127.0.0.1 at 2016-04-07 16:11:47 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.6ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (3.0ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (5.6ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 8.6ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitorVisitsSite: test_visitor_should_login
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Started GET "/login" for 127.0.0.1 at 2016-04-07 16:11:50 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.8ms)
  Rendered devise/sessions/new.html.erb within layouts/application (3.7ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 7.5ms | ActiveRecord: 0.0ms)
Started GET "/assets/application-76c01fba91e5d9b0b350a4b6aa281e2abc3ced7fa9edf64a03924d6f0be807c0.css" for 127.0.0.1 at 2016-04-07 16:11:50 +0100
Started GET "/assets/application-6af8c7608905532ea8db24e46c871de0004eb6ca322e4372c09e416db5644c8a.js" for 127.0.0.1 at 2016-04-07 16:11:50 +0100
Started GET "/assets/roboto/Roboto-Regular-b5c9c23bd12593523a46d79dd0aee80e3226bbde4c9ac05fc30a95e2c1510de0.woff2" for 127.0.0.1 at 2016-04-07 16:11:52 +0100
Started POST "/login" for 127.0.0.1 at 2016-04-07 16:11:53 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"one@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["email", "one@test.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?  [["authentication_token", "1_h_gpCKwWSwSNNihPe3"]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["last_sign_in_at", "2016-04-07 15:11:53.054487"], ["current_sign_in_at", "2016-04-07 15:11:53.054487"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["authentication_token", "1_h_gpCKwWSwSNNihPe3"], ["updated_at", "2016-04-07 15:11:53.057147"], ["id", 980190962]]
  [1m[35m (552.9ms)[0m  commit transaction
SQLite3::BusyException: database is locked: commit transaction
  [1m[36m (18.9ms)[0m  [1mrollback transaction[0m
Completed 500 Internal Server Error in 584ms (ActiveRecord: 573.2ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_create_an_account
--------------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Started GET "/register" for 127.0.0.1 at 2016-04-07 16:11:53 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.6ms)
  Rendered devise/registrations/new.html.erb within layouts/application (2.9ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.0ms)
Started POST "/" for 127.0.0.1 at 2016-04-07 16:11:54 +0100
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"full_name"=>"Jack Python", "email"=>"jack@jack.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'jack@jack.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "6uQ6qaoVrMyzT3rQyHSD"]]
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["full_name", "Jack Python"], ["email", "jack@jack.com"], ["encrypted_password", "$2a$04$IBPfIHH1GlT00H9QJrfo6eRB2BANySZjYvQL6Dl8i/FR1IgEyU6hy"], ["authentication_token", "6uQ6qaoVrMyzT3rQyHSD"], ["created_at", "2016-04-07 15:11:54.659012"], ["updated_at", "2016-04-07 15:11:54.659012"]]
  [1m[36m (545.5ms)[0m  [1mcommit transaction[0m
SQLite3::BusyException: database is locked: commit transaction
  [1m[35m (0.6ms)[0m  rollback transaction
Completed 500 Internal Server Error in 557ms (ActiveRecord: 547.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?[0m  [["active", "f"], ["updated_at", "2016-04-07 15:11:55.328938"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "custom"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?[0m  [["click_count", 1], ["updated_at", "2016-04-07 15:11:55.347214"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-07 15:11:55.350852"], ["updated_at", "2016-04-07 15:11:55.350852"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to https://google.com.ng
Completed 302 Found in 8ms (ActiveRecord: 1.1ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "links"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-07 15:11:55', '2016-04-07 15:11:55', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$dfJkYRbVdmNsPkZ0zMxLne15SeK816a9Rg15m3npdfOuJcKrp65Ca', '2016-04-07 15:11:55', '2016-04-07 15:11:55', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$rpvITNbnY7RRrx9WS.itTO3BXRBqQqFHI2s2UUJEpbkU3NQE4RpWq', '2016-04-07 15:11:55', '2016-04-07 15:11:55', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-07 15:11:55', '2016-04-07 15:11:55', 980190962)
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.5ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.8ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 7.9ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-07 15:12:52', '2016-04-07 15:12:52', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$jC1aUtW4o1JtF50oQaunheHk/X/F6YLSnpP1hS8RscPQGBR3nVzYe', '2016-04-07 15:12:52', '2016-04-07 15:12:52', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$gMz9p7r/cOKda/bujtGRt.u5D9DVqEZq87XJDsFxEvHCc1bjGjdXm', '2016-04-07 15:12:52', '2016-04-07 15:12:52', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-07 15:12:52', '2016-04-07 15:12:52', 980190962)[0m
  [1m[35m (3.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
VisitTest: test_valid
---------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (21.9ms)
  Rendered links/partials/_popular_links.html.erb (0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (310.4ms)
  Rendered links/partials/_recent.html.erb (1.0ms)
  Rendered pages/index.html.erb within layouts/application (350.2ms)
  Rendered shared/_nav_bar.html.erb (3.1ms)
  Rendered shared/_footer.html.erb (1.1ms)
Completed 200 OK in 386ms (Views: 381.8ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:12:53.187044"], ["updated_at", "2016-04-07 15:12:53.187044"], ["short", "N8WP_Q"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"N8WP_Q", "user_id"=>"980190962"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "N8WP_Q"], ["created_at", "2016-04-07 15:12:53.208271"], ["updated_at", "2016-04-07 15:12:53.208271"]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 12ms (ActiveRecord: 1.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (2.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:12:53.224133"], ["updated_at", "2016-04-07 15:12:53.224133"], ["short", "j5w-mw"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"j5w-mw", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/links/980190963
Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:12:53.245774"], ["updated_at", "2016-04-07 15:12:53.245774"], ["short", "W3IauQ"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (3.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35mLink Load (0.3ms)[0m  SELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (13.1ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 31ms (Views: 27.6ms | ActiveRecord: 0.6ms)
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:12:53.293160"], ["updated_at", "2016-04-07 15:12:53.293160"], ["short", "psviaQ"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "links" WHERE "links"."id" = ?[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/dashboard
Completed 302 Found in 8ms (ActiveRecord: 1.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:12:53.317507"], ["updated_at", "2016-04-07 15:12:53.317507"], ["short", "SJD2Mg"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.7ms)
  [1m[35mVisit Exists (0.2ms)[0m  SELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (24.1ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 36ms (Views: 32.8ms | ActiveRecord: 0.4ms)
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:12:53.368564"], ["updated_at", "2016-04-07 15:12:53.368564"], ["short", "ZQVbmw"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.7ms)
  Rendered links/partials/_form.html.erb (2.0ms)
  Rendered links/new.html.erb within layouts/application (5.4ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 17ms (Views: 13.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:12:53.398477"], ["updated_at", "2016-04-07 15:12:53.398477"], ["short", "VcdPlQ"]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.4ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.4ms)
  Rendered links/partials/_form.html.erb (35.5ms)
  Rendered links/edit.html.erb within layouts/application (38.7ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 49ms (Views: 44.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "custom"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?[0m  [["click_count", 1], ["updated_at", "2016-04-07 15:12:53.462586"], ["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-07 15:12:53.469949"], ["updated_at", "2016-04-07 15:12:53.469949"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to https://google.com.ng
Completed 302 Found in 11ms (ActiveRecord: 1.7ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["active", "f"], ["updated_at", "2016-04-07 15:12:53.475354"], ["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (1.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-07 16:12:53 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (2.2ms)
  Rendered devise/registrations/new.html.erb within layouts/application (12.1ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 35ms (Views: 24.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-07 16:12:53 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.5ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitorVisitsSite: test_visitor_should_login
--------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-07 16:12:56 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.9ms)
  Rendered devise/sessions/new.html.erb within layouts/application (8.8ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 19ms (Views: 17.6ms | ActiveRecord: 0.0ms)
Started GET "/assets/application-76c01fba91e5d9b0b350a4b6aa281e2abc3ced7fa9edf64a03924d6f0be807c0.css" for 127.0.0.1 at 2016-04-07 16:12:56 +0100
Started GET "/assets/application-6af8c7608905532ea8db24e46c871de0004eb6ca322e4372c09e416db5644c8a.js" for 127.0.0.1 at 2016-04-07 16:12:56 +0100
Started GET "/assets/roboto/Roboto-Regular-b5c9c23bd12593523a46d79dd0aee80e3226bbde4c9ac05fc30a95e2c1510de0.woff2" for 127.0.0.1 at 2016-04-07 16:12:58 +0100
Started POST "/login" for 127.0.0.1 at 2016-04-07 16:13:00 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"two@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "two@test.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "7hMs62YgKzUnudyTAV6U"]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["last_sign_in_at", "2016-04-07 15:13:00.092650"], ["current_sign_in_at", "2016-04-07 15:13:00.092650"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["authentication_token", "7hMs62YgKzUnudyTAV6U"], ["updated_at", "2016-04-07 15:13:00.096735"], ["id", 298486374]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
Redirected to http://127.0.0.1:51591/dashboard
Completed 302 Found in 35ms (ActiveRecord: 3.0ms)
Started GET "/dashboard" for 127.0.0.1 at 2016-04-07 16:13:00 +0100
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 298486374]]
  Rendered shared/_side_bar.html.erb (1.6ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 298486374]]
  Rendered links/index.html.erb within layouts/application (2.8ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 10ms (Views: 6.2ms | ActiveRecord: 0.6ms)
Started GET "/assets/jack-fdeaf761bf14b73a5f4757595efa229ce855d65d7bc00d62e1eb651f9e1af9cb.png" for 127.0.0.1 at 2016-04-07 16:13:00 +0100
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-07 16:13:00 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (2.1ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (2.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (5.7ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 7.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-07 16:13:00 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.4ms)
  Rendered devise/sessions/new.html.erb within layouts/application (2.5ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-07 16:13:00 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (2.7ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.6ms)
  Rendered shared/_nav_bar.html.erb (1.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 8.7ms | ActiveRecord: 0.6ms)
Started POST "/links" for 127.0.0.1 at 2016-04-07 16:13:00 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)[0m  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-07 15:13:00.489335"], ["updated_at", "2016-04-07 15:13:00.489335"], ["short", "iLi7VQ"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2016-04-07 16:13:00 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.6ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 0.7ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-07 16:13:00 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.7ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-07 16:13:00 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.3ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-07 16:13:00 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (1.0ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 7.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-07 16:13:00 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.8ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_create_an_account
--------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-07 16:13:00 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.5ms)
  Rendered devise/registrations/new.html.erb within layouts/application (3.1ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.0ms)
Started POST "/" for 127.0.0.1 at 2016-04-07 16:13:01 +0100
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"full_name"=>"Jack Python", "email"=>"jack@jack.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'jack@jack.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "TKPsxnWXaXXPFFoGsn5G"]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["full_name", "Jack Python"], ["email", "jack@jack.com"], ["encrypted_password", "$2a$04$aBPMWMd1eR661fMf1ALTQe5TDRXQ3WePE9c2H4UwNj1a1Ok1TJqKm"], ["authentication_token", "TKPsxnWXaXXPFFoGsn5G"], ["created_at", "2016-04-07 15:13:01.505249"], ["updated_at", "2016-04-07 15:13:01.505249"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["last_sign_in_at", "2016-04-07 15:13:01.509520"], ["current_sign_in_at", "2016-04-07 15:13:01.509520"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2016-04-07 15:13:01.510245"], ["id", 980190963]]
  [1m[35m (1.1ms)[0m  commit transaction
Redirected to http://127.0.0.1:51591/dashboard
Completed 302 Found in 21ms (ActiveRecord: 3.9ms)
Started GET "/dashboard" for 127.0.0.1 at 2016-04-07 16:13:01 +0100
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190963]]
  Rendered shared/_side_bar.html.erb (0.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190963]]
  Rendered links/index.html.erb within layouts/application (1.7ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 5.3ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-07 16:13:01 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.6ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (4.7ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[35mVisit Load (0.2ms)[0m  SELECT "visits".* FROM "visits"
  Rendered visits/index.html.erb within layouts/application (4.0ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 15ms (Views: 13.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["link_id", 980190962], ["created_at", "2016-04-07 15:13:01.868536"], ["updated_at", "2016-04-07 15:13:01.868536"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (1.0ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (5.9ms)
  Rendered visits/new.html.erb within layouts/application (8.1ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 13ms (Views: 12.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "visits" WHERE "visits"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/_form.html.erb (2.5ms)
  Rendered visits/edit.html.erb within layouts/application (3.4ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 9.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-07 15:13:01', '2016-04-07 15:13:01', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$Mk6fjZ7XmldAyREfafGoYO48vCOyYhxxUEglple6IU75egUYY4pMu', '2016-04-07 15:13:01', '2016-04-07 15:13:01', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$H6B7.6ePm.7ueOlYXsy3L.ydidnCyhcm49zLqYjff2nhs8K6fLEyG', '2016-04-07 15:13:01', '2016-04-07 15:13:01', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-07 15:13:01', '2016-04-07 15:13:01', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "zsKa8ZAzvqNzNLadsxus"]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["authentication_token", "zsKa8ZAzvqNzNLadsxus"], ["updated_at", "2016-04-07 15:13:01.933596"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-07 15:35:09', '2016-04-07 15:35:09', 980190962)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$J4bRRF2Dmwivhg1IJzsHp.13zDnm1.ca22eqYkl7ciAkxupFAfA5q', '2016-04-07 15:35:09', '2016-04-07 15:35:09', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$/E7H3WPsFRjy43x/UcDu5uzO.Mlg8gIEAkGCYWrsF1qNUnXD7IEtS', '2016-04-07 15:35:09', '2016-04-07 15:35:09', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-07 15:35:09', '2016-04-07 15:35:09', 980190962)[0m
  [1m[35m (31.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT "visits".* FROM "visits"[0m
  Rendered visits/index.html.erb within layouts/application (4.1ms)
  Rendered shared/_nav_bar.html.erb (15.2ms)
  Rendered shared/_footer.html.erb (0.7ms)
Completed 200 OK in 366ms (Views: 362.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/_form.html.erb (53.6ms)
  Rendered visits/edit.html.erb within layouts/application (58.3ms)
  Rendered shared/_nav_bar.html.erb (1.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 73ms (Views: 67.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "visits" WHERE "visits"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (1.6ms)
  Rendered shared/_nav_bar.html.erb (1.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 13ms (Views: 11.5ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (4.2ms)
  Rendered visits/new.html.erb within layouts/application (5.3ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 11.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[35mVisit Load (0.3ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["link_id", 980190962], ["created_at", "2016-04-07 15:35:09.633086"], ["updated_at", "2016-04-07 15:35:09.633086"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
VisitTest: test_valid
---------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?[0m  [["active", "f"], ["updated_at", "2016-04-07 15:35:09.703871"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "custom"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?[0m  [["click_count", 1], ["updated_at", "2016-04-07 15:35:09.716029"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-07 15:35:09.720191"], ["updated_at", "2016-04-07 15:35:09.720191"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to https://google.com.ng
Completed 302 Found in 8ms (ActiveRecord: 0.9ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-07 16:35:09 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.8ms)
  Rendered links/partials/_popular_links.html.erb (0.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (32.2ms)
  Rendered links/partials/_recent.html.erb (0.6ms)
  Rendered pages/index.html.erb within layouts/application (42.9ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 64ms (Views: 50.4ms | ActiveRecord: 0.6ms)
Started POST "/links" for 127.0.0.1 at 2016-04-07 16:35:09 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)[0m  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-07 15:35:09.817741"], ["updated_at", "2016-04-07 15:35:09.817741"], ["short", "eZN09g"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2016-04-07 16:35:09 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.2ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (4.3ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 8.3ms | ActiveRecord: 0.4ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-07 16:35:09 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.6ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-07 16:35:09 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.6ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.7ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (5.3ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 7.8ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-07 16:35:09 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.3ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.4ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 8.7ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-07 16:35:09 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.3ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (5.1ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 7.6ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-07 16:35:09 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.8ms)
  Rendered devise/sessions/new.html.erb within layouts/application (16.8ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 29ms (Views: 27.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-07 16:35:09 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.2ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.3ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitorVisitsSite: test_visitor_should_login
--------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-07 16:35:15 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.5ms)
  Rendered devise/sessions/new.html.erb within layouts/application (3.8ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 7.9ms | ActiveRecord: 0.0ms)
Started GET "/assets/application-76c01fba91e5d9b0b350a4b6aa281e2abc3ced7fa9edf64a03924d6f0be807c0.css" for 127.0.0.1 at 2016-04-07 16:35:15 +0100
Started GET "/assets/application-6af8c7608905532ea8db24e46c871de0004eb6ca322e4372c09e416db5644c8a.js" for 127.0.0.1 at 2016-04-07 16:35:15 +0100
Started GET "/assets/roboto/Roboto-Regular-b5c9c23bd12593523a46d79dd0aee80e3226bbde4c9ac05fc30a95e2c1510de0.woff2" for 127.0.0.1 at 2016-04-07 16:35:17 +0100
Started POST "/login" for 127.0.0.1 at 2016-04-07 16:35:18 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"two@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "two@test.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "GyscgH89hgA2EP-NV12t"]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["last_sign_in_at", "2016-04-07 15:35:18.043257"], ["current_sign_in_at", "2016-04-07 15:35:18.043257"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["authentication_token", "GyscgH89hgA2EP-NV12t"], ["updated_at", "2016-04-07 15:35:18.045830"], ["id", 298486374]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
Redirected to http://127.0.0.1:51931/dashboard
Completed 302 Found in 32ms (ActiveRecord: 2.6ms)
Started GET "/dashboard" for 127.0.0.1 at 2016-04-07 16:35:18 +0100
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 298486374]]
  Rendered shared/_side_bar.html.erb (2.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 298486374]]
  Rendered links/index.html.erb within layouts/application (6.7ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 21ms (Views: 16.0ms | ActiveRecord: 0.7ms)
Started GET "/assets/jack-fdeaf761bf14b73a5f4757595efa229ce855d65d7bc00d62e1eb651f9e1af9cb.png" for 127.0.0.1 at 2016-04-07 16:35:18 +0100
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-07 16:35:18 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-07 16:35:18 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.4ms)
  Rendered devise/registrations/new.html.erb within layouts/application (3.2ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 10.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_create_an_account
--------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-07 16:35:18 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.2ms)
  Rendered devise/registrations/new.html.erb within layouts/application (1.5ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
Started POST "/" for 127.0.0.1 at 2016-04-07 16:35:19 +0100
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"full_name"=>"Jackson Mike", "email"=>"jack@mike.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'jack@mike.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?  [["authentication_token", "T1B9XKzit6LeFZ5-dagM"]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["full_name", "Jackson Mike"], ["email", "jack@mike.com"], ["encrypted_password", "$2a$04$psidkHq3tNM3DPz8fKzzOeTdhjLJbNTGbpgnFeDqgb/7VaQ0MHecu"], ["authentication_token", "T1B9XKzit6LeFZ5-dagM"], ["created_at", "2016-04-07 15:35:19.369349"], ["updated_at", "2016-04-07 15:35:19.369349"]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["last_sign_in_at", "2016-04-07 15:35:19.373165"], ["current_sign_in_at", "2016-04-07 15:35:19.373165"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2016-04-07 15:35:19.374029"], ["id", 980190964]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
Redirected to http://127.0.0.1:51931/dashboard
Completed 302 Found in 48ms (ActiveRecord: 3.9ms)
Started GET "/dashboard" for 127.0.0.1 at 2016-04-07 16:35:19 +0100
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190964]]
  Rendered shared/_side_bar.html.erb (1.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190964]]
  Rendered links/index.html.erb within layouts/application (2.1ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 6.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-07 16:35:19 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.5ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "links"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-07 15:35:19', '2016-04-07 15:35:19', 980190962)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$rd5QanE26s6D7GtamRt/fu.eF5At5YysrjbRbWeaHr48pz/x/1MFm', '2016-04-07 15:35:19', '2016-04-07 15:35:19', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$51CEu0gPth7vA87PNs8FI.1w3HYdR8uS4jp3aECq/zOV7frv1Ovu6', '2016-04-07 15:35:19', '2016-04-07 15:35:19', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-07 15:35:19', '2016-04-07 15:35:19', 980190962)
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.7ms)
  Rendered links/partials/_popular_links.html.erb (0.3ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (3.5ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (6.6ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 9.1ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?  [["authentication_token", "ByySeswcc15FZvKK3Wcd"]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["authentication_token", "ByySeswcc15FZvKK3Wcd"], ["updated_at", "2016-04-07 15:35:19.744300"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:35:19.751724"], ["updated_at", "2016-04-07 15:35:19.751724"], ["short", "RnEjWg"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"RnEjWg", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/links/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:35:19.767483"], ["updated_at", "2016-04-07 15:35:19.767483"], ["short", "UXoTgg"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (4.1ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.4ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:35:19.783984"], ["updated_at", "2016-04-07 15:35:19.783984"], ["short", "dU6yPQ"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"dU6yPQ", "user_id"=>"980190962"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "dU6yPQ"], ["created_at", "2016-04-07 15:35:19.791136"], ["updated_at", "2016-04-07 15:35:19.791136"]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 9ms (ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:35:19.804020"], ["updated_at", "2016-04-07 15:35:19.804020"], ["short", "kTGZfg"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (2.4ms)
  [1m[36mVisit Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1[0m  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (9.3ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 17ms (Views: 14.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:35:19.830024"], ["updated_at", "2016-04-07 15:35:19.830024"], ["short", "jEtESQ"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.9ms)
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/new.html.erb within layouts/application (2.9ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 16ms (Views: 13.5ms | ActiveRecord: 0.1ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:35:19.854542"], ["updated_at", "2016-04-07 15:35:19.854542"], ["short", "pBhllg"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "links" WHERE "links"."id" = ?[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/dashboard
Completed 302 Found in 9ms (ActiveRecord: 1.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (1.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:35:19.875857"], ["updated_at", "2016-04-07 15:35:19.875857"], ["short", "24hg7w"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (2.8ms)
  Rendered links/partials/_form.html.erb (2.5ms)
  Rendered links/edit.html.erb within layouts/application (7.0ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 14ms (Views: 11.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-07 15:35:51', '2016-04-07 15:35:51', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$b9Dx9o6eQNtIXkvhwhFlOuoXDBEeAzMSMC3Pgx7Ve.2fPLPLwmNra', '2016-04-07 15:35:51', '2016-04-07 15:35:51', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$7hisgViZpmE/kCo6f9vSkelGmoN8uAI1PdKlF9Ke4BOWdGffzyQ2u', '2016-04-07 15:35:51', '2016-04-07 15:35:51', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-07 15:35:51', '2016-04-07 15:35:51', 980190962)[0m
  [1m[35m (17.2ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:35:51.617254"], ["updated_at", "2016-04-07 15:35:51.617254"], ["short", "FdYvjA"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (305.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35mLink Load (0.2ms)[0m  SELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (331.5ms)
  Rendered shared/_nav_bar.html.erb (2.2ms)
  Rendered shared/_footer.html.erb (0.7ms)
Completed 200 OK in 374ms (Views: 359.1ms | ActiveRecord: 0.7ms)
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:35:52.020902"], ["updated_at", "2016-04-07 15:35:52.020902"], ["short", "mPCH6g"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.6ms)
  [1m[36mVisit Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1[0m  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (24.9ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 36ms (Views: 32.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:35:52.069923"], ["updated_at", "2016-04-07 15:35:52.069923"], ["short", "BMq-_A"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.6ms)
  Rendered links/partials/_form.html.erb (18.8ms)
  Rendered links/new.html.erb within layouts/application (26.6ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 40ms (Views: 35.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:35:52.123909"], ["updated_at", "2016-04-07 15:35:52.123909"], ["short", "e4wd9w"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"e4wd9w", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/links/980190963
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:35:52.144395"], ["updated_at", "2016-04-07 15:35:52.144395"], ["short", "JXvqnQ"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"JXvqnQ", "user_id"=>"980190962"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "JXvqnQ"], ["created_at", "2016-04-07 15:35:52.158533"], ["updated_at", "2016-04-07 15:35:52.158533"]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 11ms (ActiveRecord: 1.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:35:52.172119"], ["updated_at", "2016-04-07 15:35:52.172119"], ["short", "5nS6wA"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "links" WHERE "links"."id" = ?  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/dashboard
Completed 302 Found in 9ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:35:52.196647"], ["updated_at", "2016-04-07 15:35:52.196647"], ["short", "YQ7oCg"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.6ms)
  Rendered links/partials/_form.html.erb (5.9ms)
  Rendered links/edit.html.erb within layouts/application (9.7ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 20ms (Views: 17.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mVisit Load (0.3ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[35mVisit Load (0.2ms)[0m  SELECT "visits".* FROM "visits"
  Rendered visits/index.html.erb within layouts/application (3.9ms)
  Rendered shared/_nav_bar.html.erb (9.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 26ms (Views: 25.0ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.0ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (0.9ms)
  Rendered shared/_nav_bar.html.erb (1.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 7.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "visits" WHERE "visits"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["link_id", 980190962], ["created_at", "2016-04-07 15:35:52.331051"], ["updated_at", "2016-04-07 15:35:52.331051"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190963
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/_form.html.erb (8.2ms)
  Rendered visits/edit.html.erb within layouts/application (11.6ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 20ms (Views: 19.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (4.1ms)
  Rendered visits/new.html.erb within layouts/application (5.2ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 10.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?  [["authentication_token", "ubGNLpaWxpdrLo-PFvwj"]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["authentication_token", "ubGNLpaWxpdrLo-PFvwj"], ["updated_at", "2016-04-07 15:35:52.381779"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-07 16:35:52 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.3ms)
  Rendered links/partials/_popular_links.html.erb (0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (5.1ms)
  Rendered links/partials/_recent.html.erb (0.6ms)
  Rendered pages/index.html.erb within layouts/application (13.8ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 36ms (Views: 24.2ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-07 16:35:52 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.6ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (4.3ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (7.1ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 14ms (Views: 10.9ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-07 16:35:52 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (2.7ms)
  Rendered devise/registrations/new.html.erb within layouts/application (11.2ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 33ms (Views: 30.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-07 16:35:52 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.5ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-07 16:35:52 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.7ms)
  Rendered devise/sessions/new.html.erb within layouts/application (4.4ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 18ms (Views: 16.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-07 16:35:52 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (3.7ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (5.9ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 13ms (Views: 10.4ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-07 16:35:52 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (1.1ms)
  Rendered shared/_nav_bar.html.erb (1.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 10.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-07 16:35:52 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.8ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitorVisitsSite: test_visitor_should_login
--------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-07 16:35:55 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.9ms)
  Rendered devise/sessions/new.html.erb within layouts/application (4.7ms)
  Rendered shared/_nav_bar.html.erb (1.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 13ms (Views: 11.0ms | ActiveRecord: 0.0ms)
Started GET "/assets/application-76c01fba91e5d9b0b350a4b6aa281e2abc3ced7fa9edf64a03924d6f0be807c0.css" for 127.0.0.1 at 2016-04-07 16:35:55 +0100
Started GET "/assets/application-6af8c7608905532ea8db24e46c871de0004eb6ca322e4372c09e416db5644c8a.js" for 127.0.0.1 at 2016-04-07 16:35:55 +0100
Started GET "/assets/roboto/Roboto-Regular-b5c9c23bd12593523a46d79dd0aee80e3226bbde4c9ac05fc30a95e2c1510de0.woff2" for 127.0.0.1 at 2016-04-07 16:35:57 +0100
Started POST "/login" for 127.0.0.1 at 2016-04-07 16:35:57 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"two@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "two@test.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "pwZsZjtkdXVBVCtsh_qF"]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["last_sign_in_at", "2016-04-07 15:35:57.946739"], ["current_sign_in_at", "2016-04-07 15:35:57.946739"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["authentication_token", "pwZsZjtkdXVBVCtsh_qF"], ["updated_at", "2016-04-07 15:35:57.949531"], ["id", 298486374]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
Redirected to http://127.0.0.1:52054/dashboard
Completed 302 Found in 30ms (ActiveRecord: 2.2ms)
Started GET "/dashboard" for 127.0.0.1 at 2016-04-07 16:35:57 +0100
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 298486374]]
  Rendered shared/_side_bar.html.erb (1.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 298486374]]
  Rendered links/index.html.erb within layouts/application (2.6ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 5.5ms | ActiveRecord: 0.6ms)
Started GET "/assets/jack-fdeaf761bf14b73a5f4757595efa229ce855d65d7bc00d62e1eb651f9e1af9cb.png" for 127.0.0.1 at 2016-04-07 16:35:58 +0100
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-07 16:35:58 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.9ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (2.6ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (5.6ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_create_an_account
--------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-07 16:35:58 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.4ms)
  Rendered devise/registrations/new.html.erb within layouts/application (1.9ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.0ms)
Started POST "/" for 127.0.0.1 at 2016-04-07 16:35:59 +0100
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"full_name"=>"Jackson Mike", "email"=>"jack@mike.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'jack@mike.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?  [["authentication_token", "fxx2JJqGrNasXzQQo-xR"]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["full_name", "Jackson Mike"], ["email", "jack@mike.com"], ["encrypted_password", "$2a$04$zT.HTv2W5QFvND9gPfNg5OGRwjcvAj4xkeNZ08Oy.PEfdxCbzsabe"], ["authentication_token", "fxx2JJqGrNasXzQQo-xR"], ["created_at", "2016-04-07 15:35:59.233937"], ["updated_at", "2016-04-07 15:35:59.233937"]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["last_sign_in_at", "2016-04-07 15:35:59.239068"], ["current_sign_in_at", "2016-04-07 15:35:59.239068"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2016-04-07 15:35:59.240259"], ["id", 980190965]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
Redirected to http://127.0.0.1:52054/dashboard
Completed 302 Found in 23ms (ActiveRecord: 4.3ms)
Started GET "/dashboard" for 127.0.0.1 at 2016-04-07 16:35:59 +0100
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190965]]
  Rendered shared/_side_bar.html.erb (1.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190965]]
  Rendered links/index.html.erb within layouts/application (1.8ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-07 16:35:59 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.3ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (2.7ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (5.0ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 7.4ms | ActiveRecord: 0.5ms)
Started POST "/links" for 127.0.0.1 at 2016-04-07 16:35:59 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)[0m  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-07 15:35:59.582172"], ["updated_at", "2016-04-07 15:35:59.582172"], ["short", "vYSvFA"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2016-04-07 16:35:59 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.7ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 0.4ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.5ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.9ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (5.3ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 8.0ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-07 15:35:59', '2016-04-07 15:35:59', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$YwI8iQKRfTWmb3LZ0NjgpuP1in/xTZ/Y1qjAmn4L8B/Hc4mgsuvv.', '2016-04-07 15:35:59', '2016-04-07 15:35:59', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$4BkzSkbLNc/vj0bk0OypGug8pelvDvN/GcksfPTVHuvude1tqry5m', '2016-04-07 15:35:59', '2016-04-07 15:35:59', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-07 15:35:59', '2016-04-07 15:35:59', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------
VisitTest: test_valid
---------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?[0m  [["active", "f"], ["updated_at", "2016-04-07 15:35:59.652051"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "custom"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?[0m  [["click_count", 1], ["updated_at", "2016-04-07 15:35:59.662393"], ["id", 980190962]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-07 15:35:59.668778"], ["updated_at", "2016-04-07 15:35:59.668778"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to https://google.com.ng
Completed 302 Found in 11ms (ActiveRecord: 1.2ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (1.5ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-07 15:36:34', '2016-04-07 15:36:34', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$nwAS1VhA7Zqg1nu2v4NlC.MDUtc4/pAZGaBYCaqUdOBJBRYCcFiZ.', '2016-04-07 15:36:34', '2016-04-07 15:36:34', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$LHlC4fNZ2aiSmtK5IbsvyuQD1HCIVeW5lKJ.QSiZAqKH0sTrlV0Aa', '2016-04-07 15:36:34', '2016-04-07 15:36:34', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-07 15:36:34', '2016-04-07 15:36:34', 980190962)[0m
  [1m[35m (37.1ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "custom"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?[0m  [["click_count", 1], ["updated_at", "2016-04-07 15:36:34.333787"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-07 15:36:34.344335"], ["updated_at", "2016-04-07 15:36:34.344335"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to https://google.com.ng
Completed 302 Found in 19ms (ActiveRecord: 1.0ms)
  [1m[35m (16.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["active", "f"], ["updated_at", "2016-04-07 15:36:34.367859"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (22.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------
VisitTest: test_valid
---------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "4wNjczW992Mp9mYbFuJK"]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["authentication_token", "4wNjczW992Mp9mYbFuJK"], ["updated_at", "2016-04-07 15:36:34.441648"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (19.8ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-07 16:36:34 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.4ms)
  Rendered devise/registrations/new.html.erb within layouts/application (19.9ms)
  Rendered shared/_nav_bar.html.erb (3.4ms)
  Rendered shared/_footer.html.erb (1.1ms)
Completed 200 OK in 425ms (Views: 405.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-07 16:36:34 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.3ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (4.3ms)
  Rendered links/partials/_popular_links.html.erb (1.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (9.1ms)
  Rendered links/partials/_recent.html.erb (1.1ms)
  Rendered pages/index.html.erb within layouts/application (34.2ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 55ms (Views: 50.2ms | ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-07 16:36:34 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (2.1ms)
  Rendered links/partials/_popular_links.html.erb (0.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (4.6ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (8.5ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 17ms (Views: 13.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-07 16:36:35 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-07 16:36:35 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.4ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (2.7ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (5.0ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-07 16:36:35 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (3.7ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (5.8ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 9.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-07 16:36:35 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (2.0ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (2.2ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (5.3ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 0.5ms)
Started POST "/links" for 127.0.0.1 at 2016-04-07 16:36:35 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)[0m  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-07 15:36:35.079401"], ["updated_at", "2016-04-07 15:36:35.079401"], ["short", "5sjLYA"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 34ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2016-04-07 16:36:35 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (2.4ms)
  Rendered links/partials/_popular_links.html.erb (0.3ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (3.7ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (7.9ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 14ms (Views: 11.3ms | ActiveRecord: 0.7ms)
  [1m[36m (14.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.6ms)[0m  begin transaction
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_create_an_account
--------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-07 16:36:39 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.6ms)
  Rendered devise/registrations/new.html.erb within layouts/application (4.3ms)
  Rendered shared/_nav_bar.html.erb (1.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 13ms (Views: 10.8ms | ActiveRecord: 0.0ms)
Started GET "/assets/application-76c01fba91e5d9b0b350a4b6aa281e2abc3ced7fa9edf64a03924d6f0be807c0.css" for 127.0.0.1 at 2016-04-07 16:36:39 +0100
Started GET "/assets/application-6af8c7608905532ea8db24e46c871de0004eb6ca322e4372c09e416db5644c8a.js" for 127.0.0.1 at 2016-04-07 16:36:39 +0100
Started GET "/assets/roboto/Roboto-Regular-b5c9c23bd12593523a46d79dd0aee80e3226bbde4c9ac05fc30a95e2c1510de0.woff2" for 127.0.0.1 at 2016-04-07 16:36:41 +0100
Started POST "/" for 127.0.0.1 at 2016-04-07 16:36:42 +0100
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"full_name"=>"Jackson Mike", "email"=>"jack@mike.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'jack@mike.com' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "cpzmnezjYKCZTX_1Ueim"]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["full_name", "Jackson Mike"], ["email", "jack@mike.com"], ["encrypted_password", "$2a$04$Rwlb2otJ2D57q3n4203mhuzP3dYuLp68eC8jNGwHd2MSJ0uJke5Wu"], ["authentication_token", "cpzmnezjYKCZTX_1Ueim"], ["created_at", "2016-04-07 15:36:42.556636"], ["updated_at", "2016-04-07 15:36:42.556636"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["last_sign_in_at", "2016-04-07 15:36:42.561220"], ["current_sign_in_at", "2016-04-07 15:36:42.561220"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2016-04-07 15:36:42.562230"], ["id", 980190966]]
  [1m[35m (1.2ms)[0m  commit transaction
Redirected to http://127.0.0.1:52168/dashboard
Completed 302 Found in 43ms (ActiveRecord: 4.8ms)
Started GET "/dashboard" for 127.0.0.1 at 2016-04-07 16:36:42 +0100
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190966]]
  Rendered shared/_side_bar.html.erb (3.0ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190966]]
  Rendered links/index.html.erb within layouts/application (8.2ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 22ms (Views: 17.4ms | ActiveRecord: 0.9ms)
Started GET "/assets/jack-fdeaf761bf14b73a5f4757595efa229ce855d65d7bc00d62e1eb651f9e1af9cb.png" for 127.0.0.1 at 2016-04-07 16:36:42 +0100
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-07 16:36:42 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.8ms)
  Rendered devise/sessions/new.html.erb within layouts/application (10.3ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 21ms (Views: 19.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-07 16:36:42 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-07 16:36:42 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitorVisitsSite: test_visitor_should_login
--------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-07 16:36:43 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.4ms)
  Rendered devise/sessions/new.html.erb within layouts/application (2.4ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2016-04-07 16:36:43 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"two@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "two@test.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "sKNhsDX4ZJTF7x9aBGSF"]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["last_sign_in_at", "2016-04-07 15:36:43.622161"], ["current_sign_in_at", "2016-04-07 15:36:43.622161"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["authentication_token", "sKNhsDX4ZJTF7x9aBGSF"], ["updated_at", "2016-04-07 15:36:43.624648"], ["id", 298486374]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
Redirected to http://127.0.0.1:52168/dashboard
Completed 302 Found in 17ms (ActiveRecord: 2.2ms)
Started GET "/dashboard" for 127.0.0.1 at 2016-04-07 16:36:43 +0100
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 298486374]]
  Rendered shared/_side_bar.html.erb (1.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 298486374]]
  Rendered links/index.html.erb within layouts/application (2.2ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 5.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "links"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-07 15:36:43', '2016-04-07 15:36:43', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$2dhapIGKVQSD4ii0m.4sGO5M/TdZV0w/1UDmT02UxO16nSiT0zDHi', '2016-04-07 15:36:43', '2016-04-07 15:36:43', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$uAZrKHgzaXNxCUcRZ.ob3O0JIY/ZM0tq0mPqNlle6zAvChLz/9kMq', '2016-04-07 15:36:43', '2016-04-07 15:36:43', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-07 15:36:43', '2016-04-07 15:36:43', 980190962)
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["link_id", 980190962], ["created_at", "2016-04-07 15:36:43.994658"], ["updated_at", "2016-04-07 15:36:43.994658"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190963
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/_form.html.erb (5.7ms)
  Rendered visits/edit.html.erb within layouts/application (8.2ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 19ms (Views: 18.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "visits" WHERE "visits"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (3.5ms)
  Rendered visits/new.html.erb within layouts/application (4.4ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 9.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[35mVisit Load (0.1ms)[0m  SELECT "visits".* FROM "visits"
  Rendered visits/index.html.erb within layouts/application (1.7ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.0ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (1.0ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:36:44.076323"], ["updated_at", "2016-04-07 15:36:44.076323"], ["short", "KqqA_A"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (3.0ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:36:44.092622"], ["updated_at", "2016-04-07 15:36:44.092622"], ["short", "n5Z1Dw"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.2ms)
  Rendered links/partials/_form.html.erb (1.7ms)
  Rendered links/edit.html.erb within layouts/application (4.1ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 8.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:36:44.113188"], ["updated_at", "2016-04-07 15:36:44.113188"], ["short", "SzPEbw"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.5ms)
  Rendered links/partials/_form.html.erb (1.8ms)
  Rendered links/new.html.erb within layouts/application (5.2ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 12ms (Views: 10.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:36:44.133500"], ["updated_at", "2016-04-07 15:36:44.133500"], ["short", "C4IkUw"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "links" WHERE "links"."id" = ?[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/dashboard
Completed 302 Found in 6ms (ActiveRecord: 1.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:36:44.149687"], ["updated_at", "2016-04-07 15:36:44.149687"], ["short", "R1Qa_w"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"R1Qa_w", "user_id"=>"980190962"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "R1Qa_w"], ["created_at", "2016-04-07 15:36:44.161270"], ["updated_at", "2016-04-07 15:36:44.161270"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 8ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:36:44.169521"], ["updated_at", "2016-04-07 15:36:44.169521"], ["short", "5gRioQ"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"5gRioQ", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/links/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.8ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:36:44.185884"], ["updated_at", "2016-04-07 15:36:44.185884"], ["short", "WW_hYg"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.4ms)
  [1m[36mVisit Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1[0m  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (7.3ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 13.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (3.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (5.7ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 8.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-07 15:41:36', '2016-04-07 15:41:36', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$upqRaUUqf4ObCt0Ud/u7l.B9UUjZcCiOtMUZO/EysPDIcwJzGlCQi', '2016-04-07 15:41:36', '2016-04-07 15:41:36', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$z9U6WiWikbpP/.cLyAtUyOAeSvTIKtHstXGkSFl8t.aYCscusjt.m', '2016-04-07 15:41:36', '2016-04-07 15:41:36', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-07 15:41:36', '2016-04-07 15:41:36', 980190962)[0m
  [1m[35m (10.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
VisitTest: test_valid
---------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:41:36.735903"], ["updated_at", "2016-04-07 15:41:36.735903"], ["short", "DfqkPg"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (324.8ms)
  Rendered links/partials/_form.html.erb (33.2ms)
  Rendered links/new.html.erb within layouts/application (371.3ms)
  Rendered shared/_nav_bar.html.erb (2.4ms)
  Rendered shared/_footer.html.erb (0.7ms)
Completed 200 OK in 418ms (Views: 402.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:41:37.172883"], ["updated_at", "2016-04-07 15:41:37.172883"], ["short", "J81dmg"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"J81dmg", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/links/980190963
Completed 302 Found in 8ms (ActiveRecord: 0.5ms)
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:41:37.195277"], ["updated_at", "2016-04-07 15:41:37.195277"], ["short", "cRYlhw"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "links" WHERE "links"."id" = ?  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/dashboard
Completed 302 Found in 8ms (ActiveRecord: 1.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:41:37.219003"], ["updated_at", "2016-04-07 15:41:37.219003"], ["short", "b2hzBQ"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"b2hzBQ", "user_id"=>"980190962"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "b2hzBQ"], ["created_at", "2016-04-07 15:41:37.232397"], ["updated_at", "2016-04-07 15:41:37.232397"]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 10ms (ActiveRecord: 1.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:41:37.244560"], ["updated_at", "2016-04-07 15:41:37.244560"], ["short", "qshnOA"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.4ms)
  [1m[35mVisit Exists (0.1ms)[0m  SELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (23.9ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 33ms (Views: 30.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:41:37.288381"], ["updated_at", "2016-04-07 15:41:37.288381"], ["short", "ruU2WA"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (5.5ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 9.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:41:37.310340"], ["updated_at", "2016-04-07 15:41:37.310340"], ["short", "A5sKBQ"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.5ms)
  Rendered links/partials/_form.html.erb (5.0ms)
  Rendered links/edit.html.erb within layouts/application (8.1ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 13.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-07 16:41:37 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.7ms)
  Rendered shared/_nav_bar.html.erb (5.1ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 30ms (Views: 16.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-07 16:41:37 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.3ms)
  Rendered links/partials/_popular_links.html.erb (0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (6.2ms)
  Rendered links/partials/_recent.html.erb (2.7ms)
  Rendered pages/index.html.erb within layouts/application (18.1ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 25ms (Views: 22.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-07 16:41:37 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.4ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (2.3ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.7ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-07 16:41:37 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
VisitorVisitsSite: test_visitor_should_login
--------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-07 16:41:43 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.7ms)
  Rendered devise/sessions/new.html.erb within layouts/application (18.3ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 36ms (Views: 31.0ms | ActiveRecord: 0.0ms)
Started GET "/assets/application-76c01fba91e5d9b0b350a4b6aa281e2abc3ced7fa9edf64a03924d6f0be807c0.css" for 127.0.0.1 at 2016-04-07 16:41:43 +0100
Started GET "/assets/application-6af8c7608905532ea8db24e46c871de0004eb6ca322e4372c09e416db5644c8a.js" for 127.0.0.1 at 2016-04-07 16:41:43 +0100
Started GET "/assets/roboto/Roboto-Regular-b5c9c23bd12593523a46d79dd0aee80e3226bbde4c9ac05fc30a95e2c1510de0.woff2" for 127.0.0.1 at 2016-04-07 16:41:44 +0100
Started POST "/login" for 127.0.0.1 at 2016-04-07 16:41:46 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"two@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["email", "two@test.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?  [["authentication_token", "ZLvKCa6rvvqL6HBDoZK6"]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["last_sign_in_at", "2016-04-07 15:41:46.126249"], ["current_sign_in_at", "2016-04-07 15:41:46.126249"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["authentication_token", "ZLvKCa6rvvqL6HBDoZK6"], ["updated_at", "2016-04-07 15:41:46.129310"], ["id", 298486374]]
  [1m[35m (1.1ms)[0m  commit transaction
Redirected to http://127.0.0.1:52341/dashboard
Completed 302 Found in 30ms (ActiveRecord: 2.6ms)
Started GET "/dashboard" for 127.0.0.1 at 2016-04-07 16:41:46 +0100
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 298486374]]
  Rendered shared/_side_bar.html.erb (0.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 298486374]]
  Rendered links/index.html.erb within layouts/application (1.8ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.0ms | ActiveRecord: 0.5ms)
Started GET "/assets/jack-fdeaf761bf14b73a5f4757595efa229ce855d65d7bc00d62e1eb651f9e1af9cb.png" for 127.0.0.1 at 2016-04-07 16:41:46 +0100
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-07 16:41:46 +0100
Processing by Devise::RegistrationsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 298486374]]
Redirected to http://127.0.0.1:52341/dashboard
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/dashboard" for 127.0.0.1 at 2016-04-07 16:41:46 +0100
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 298486374]]
  Rendered shared/_side_bar.html.erb (0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 298486374]]
  Rendered links/index.html.erb within layouts/application (1.8ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-07 16:41:49 +0100
Processing by Devise::SessionsController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 298486374]]
Redirected to http://127.0.0.1:52341/dashboard
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/dashboard" for 127.0.0.1 at 2016-04-07 16:41:49 +0100
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 298486374]]
  Rendered shared/_side_bar.html.erb (1.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 298486374]]
  Rendered links/index.html.erb within layouts/application (2.3ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 4.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-07 16:41:51 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 298486374]]
  Rendered shared/_nav_bar.html.erb (1.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_create_an_account
--------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-07 16:41:55 +0100
Processing by Devise::RegistrationsController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 298486374]]
Redirected to http://127.0.0.1:52341/dashboard
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started GET "/dashboard" for 127.0.0.1 at 2016-04-07 16:41:55 +0100
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 298486374]]
  Rendered shared/_side_bar.html.erb (0.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 298486374]]
  Rendered links/index.html.erb within layouts/application (1.6ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (2.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (4.8ms)
  Rendered links/partials/_recent.html.erb (0.7ms)
  Rendered pages/index.html.erb within layouts/application (9.1ms)
  Rendered shared/_nav_bar.html.erb (1.5ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 18ms (Views: 15.4ms | ActiveRecord: 1.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-07 15:41:58', '2016-04-07 15:41:58', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$WCFeXuozl1cNIo.CPWX3QuxwpZxJ5oDDriAYelUs/eyV0DvKK5hQO', '2016-04-07 15:41:58', '2016-04-07 15:41:58', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$PjjUaaMZJgz9YcUIVmQx3.U/xhXh6CWEjSUpwVpDfxjxRJRYysGgS', '2016-04-07 15:41:58', '2016-04-07 15:41:58', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-07 15:41:58', '2016-04-07 15:41:58', 980190962)[0m
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT "visits".* FROM "visits"[0m
  Rendered visits/index.html.erb within layouts/application (4.9ms)
  Rendered shared/_nav_bar.html.erb (1.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 19ms (Views: 18.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["link_id", 980190962], ["created_at", "2016-04-07 15:41:58.173792"], ["updated_at", "2016-04-07 15:41:58.173792"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190963
Completed 302 Found in 13ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "visits" WHERE "visits"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/_form.html.erb (8.6ms)
  Rendered visits/edit.html.erb within layouts/application (12.7ms)
  Rendered shared/_nav_bar.html.erb (1.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 24ms (Views: 23.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (5.2ms)
  Rendered visits/new.html.erb within layouts/application (6.4ms)
  Rendered shared/_nav_bar.html.erb (1.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 15ms (Views: 14.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (1.2ms)
  Rendered shared/_nav_bar.html.erb (1.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 9.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  UPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["active", "f"], ["updated_at", "2016-04-07 15:41:58.279341"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["click_count", 1], ["updated_at", "2016-04-07 15:41:58.296699"], ["id", 980190962]]
  [1m[36m (0.6ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-07 15:41:58.304562"], ["updated_at", "2016-04-07 15:41:58.304562"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to https://google.com.ng
Completed 302 Found in 15ms (ActiveRecord: 1.7ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.6ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?  [["authentication_token", "d3unRsDjnQ6C93XMAuk2"]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["authentication_token", "d3unRsDjnQ6C93XMAuk2"], ["updated_at", "2016-04-07 15:41:58.332734"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-07 15:42:25', '2016-04-07 15:42:25', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$V/dMEQFaigsCtmz.uqMr.ugAa00QnRY8ORtV4ISOvc5bMB8I0RuoC', '2016-04-07 15:42:25', '2016-04-07 15:42:25', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$u0skcLYz4Aw9My.1TgnaXuWqv3b8L7SspzODPyCsYvPwgRJ1rxiK.', '2016-04-07 15:42:25', '2016-04-07 15:42:25', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-07 15:42:25', '2016-04-07 15:42:25', 980190962)[0m
  [1m[35m (118.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:42:25.857078"], ["updated_at", "2016-04-07 15:42:25.857078"], ["short", "q26zMw"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (339.7ms)
  [1m[35mVisit Exists (0.2ms)[0m  SELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (382.1ms)
  Rendered shared/_nav_bar.html.erb (2.4ms)
  Rendered shared/_footer.html.erb (0.7ms)
Completed 200 OK in 419ms (Views: 412.2ms | ActiveRecord: 0.5ms)
  [1m[36m (35.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:42:26.343062"], ["updated_at", "2016-04-07 15:42:26.343062"], ["short", "qaelkA"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.6ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.7ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (23.2ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 36ms (Views: 30.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:42:26.392558"], ["updated_at", "2016-04-07 15:42:26.392558"], ["short", "vp4Oww"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.9ms)
  Rendered links/partials/_form.html.erb (24.3ms)
  Rendered links/edit.html.erb within layouts/application (32.0ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 44ms (Views: 41.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:42:26.451647"], ["updated_at", "2016-04-07 15:42:26.451647"], ["short", "JPThUg"]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"JPThUg", "user_id"=>"980190962"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "JPThUg"], ["created_at", "2016-04-07 15:42:26.474403"], ["updated_at", "2016-04-07 15:42:26.474403"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 10ms (ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:42:26.489071"], ["updated_at", "2016-04-07 15:42:26.489071"], ["short", "UkdZRA"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "links" WHERE "links"."id" = ?[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/dashboard
Completed 302 Found in 9ms (ActiveRecord: 1.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:42:26.515863"], ["updated_at", "2016-04-07 15:42:26.515863"], ["short", "wMVS9g"]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.7ms)
  Rendered links/partials/_form.html.erb (2.0ms)
  Rendered links/new.html.erb within layouts/application (5.4ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 20ms (Views: 16.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:42:26.549827"], ["updated_at", "2016-04-07 15:42:26.549827"], ["short", "zisTWA"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"zisTWA", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/links/980190963
Completed 302 Found in 10ms (ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?  [["authentication_token", "YDmG_fENcjwLfxCXyoxM"]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["authentication_token", "YDmG_fENcjwLfxCXyoxM"], ["updated_at", "2016-04-07 15:42:26.594368"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-07 16:42:26 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (7.4ms)
  Rendered links/partials/_popular_links.html.erb (0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (5.7ms)
  Rendered links/partials/_recent.html.erb (0.6ms)
  Rendered pages/index.html.erb within layouts/application (47.6ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 78ms (Views: 56.6ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-07 16:42:26 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.6ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitorVisitsSite: test_visitor_should_login
--------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-07 16:42:30 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (3.4ms)
  Rendered devise/sessions/new.html.erb within layouts/application (23.2ms)
  Rendered shared/_nav_bar.html.erb (1.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 48ms (Views: 43.1ms | ActiveRecord: 0.0ms)
Started GET "/assets/application-76c01fba91e5d9b0b350a4b6aa281e2abc3ced7fa9edf64a03924d6f0be807c0.css" for 127.0.0.1 at 2016-04-07 16:42:30 +0100
Started GET "/assets/application-6af8c7608905532ea8db24e46c871de0004eb6ca322e4372c09e416db5644c8a.js" for 127.0.0.1 at 2016-04-07 16:42:30 +0100
Started GET "/assets/roboto/Roboto-Regular-b5c9c23bd12593523a46d79dd0aee80e3226bbde4c9ac05fc30a95e2c1510de0.woff2" for 127.0.0.1 at 2016-04-07 16:42:31 +0100
Started POST "/login" for 127.0.0.1 at 2016-04-07 16:42:32 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"two@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "two@test.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "zEyGXhnsc2fV3WfDpybJ"]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["last_sign_in_at", "2016-04-07 15:42:32.127547"], ["current_sign_in_at", "2016-04-07 15:42:32.127547"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["authentication_token", "zEyGXhnsc2fV3WfDpybJ"], ["updated_at", "2016-04-07 15:42:32.130122"], ["id", 298486374]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
Redirected to http://127.0.0.1:52646/dashboard
Completed 302 Found in 32ms (ActiveRecord: 2.7ms)
Started GET "/dashboard" for 127.0.0.1 at 2016-04-07 16:42:32 +0100
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 298486374]]
  Rendered shared/_side_bar.html.erb (1.1ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 298486374]]
  Rendered links/index.html.erb within layouts/application (2.7ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 5.4ms | ActiveRecord: 0.7ms)
Started GET "/assets/jack-fdeaf761bf14b73a5f4757595efa229ce855d65d7bc00d62e1eb651f9e1af9cb.png" for 127.0.0.1 at 2016-04-07 16:42:32 +0100
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_create_an_account
--------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-07 16:42:32 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.3ms)
  Rendered devise/registrations/new.html.erb within layouts/application (2.6ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 13ms (Views: 11.6ms | ActiveRecord: 0.0ms)
Started POST "/" for 127.0.0.1 at 2016-04-07 16:42:34 +0100
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"full_name"=>"Jackson Mike", "email"=>"jack@mike.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'jack@mike.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?  [["authentication_token", "9jaTd4yR9w7aycmWQibq"]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["full_name", "Jackson Mike"], ["email", "jack@mike.com"], ["encrypted_password", "$2a$04$p1ky1LXxWLsPhriKhQr7cez5lufPmhvB.hNxNAhIJWtdOKWoN2BRm"], ["authentication_token", "9jaTd4yR9w7aycmWQibq"], ["created_at", "2016-04-07 15:42:34.207942"], ["updated_at", "2016-04-07 15:42:34.207942"]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["last_sign_in_at", "2016-04-07 15:42:34.211821"], ["current_sign_in_at", "2016-04-07 15:42:34.211821"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2016-04-07 15:42:34.212506"], ["id", 980190967]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
Redirected to http://127.0.0.1:52646/dashboard
Completed 302 Found in 22ms (ActiveRecord: 4.7ms)
Started GET "/dashboard" for 127.0.0.1 at 2016-04-07 16:42:34 +0100
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190967]]
  Rendered shared/_side_bar.html.erb (1.5ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190967]]
  Rendered links/index.html.erb within layouts/application (3.3ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 5.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-07 16:42:34 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.3ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (3.2ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (5.4ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 7.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-07 16:42:34 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-07 16:42:34 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-07 16:42:34 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (2.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.2ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-07 16:42:34 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.2ms)
  Rendered devise/registrations/new.html.erb within layouts/application (1.4ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-07 16:42:34 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-07 16:42:34 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-07 16:42:34 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.7ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (4.6ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (7.5ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 13ms (Views: 9.6ms | ActiveRecord: 1.0ms)
Started POST "/links" for 127.0.0.1 at 2016-04-07 16:42:34 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)[0m  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-07 15:42:34.651456"], ["updated_at", "2016-04-07 15:42:34.651456"], ["short", "PKS6bQ"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2016-04-07 16:42:34 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.3ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.3ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 8.3ms | ActiveRecord: 0.6ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (10.8ms)
  Rendered visits/new.html.erb within layouts/application (14.4ms)
  Rendered shared/_nav_bar.html.erb (1.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 32ms (Views: 30.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[35mVisit Load (0.3ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "visits" WHERE "visits"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["link_id", 980190962], ["created_at", "2016-04-07 15:42:34.737247"], ["updated_at", "2016-04-07 15:42:34.737247"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190963
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/_form.html.erb (2.7ms)
  Rendered visits/edit.html.erb within layouts/application (3.6ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 9.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (1.5ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[35mVisit Load (0.1ms)[0m  SELECT "visits".* FROM "visits"
  Rendered visits/index.html.erb within layouts/application (2.0ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 8.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-07 15:42:34', '2016-04-07 15:42:34', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$fELhow4AogVYt4L1B1PXpehFWhwt9PJhCzPKBV1UEdt0Jepa7CyuK', '2016-04-07 15:42:34', '2016-04-07 15:42:34', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$3Ug3aVAvX4b1zStrJ9oXsOop1FpieFnO4SPdafxoEUoIQt6cFIXkO', '2016-04-07 15:42:34', '2016-04-07 15:42:34', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-07 15:42:34', '2016-04-07 15:42:34', 980190962)[0m
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
VisitTest: test_valid
---------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?[0m  [["active", "f"], ["updated_at", "2016-04-07 15:42:34.834809"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "custom"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?[0m  [["click_count", 1], ["updated_at", "2016-04-07 15:42:34.850150"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-07 15:42:34.853544"], ["updated_at", "2016-04-07 15:42:34.853544"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to https://google.com.ng
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[35m (0.5ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (2.1ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.1ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 6.4ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-07 15:53:57', '2016-04-07 15:53:57', 980190962)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$.pHUkf3SiE1qfUXkhUkdj.zDQMzRxFZfIsE9U5J3U1YRQOErdHdne', '2016-04-07 15:53:57', '2016-04-07 15:53:57', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$T0xholkSLRYNxl1jRvIt9.UrEcx72ZFvhT683tYAvuVJb5oyQmcVG', '2016-04-07 15:53:57', '2016-04-07 15:53:57', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-07 15:53:57', '2016-04-07 15:53:57', 980190962)[0m
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:53:57.799337"], ["updated_at", "2016-04-07 15:53:57.799337"], ["short", "9LXK1Q"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"9LXK1Q", "user_id"=>"980190962"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "9LXK1Q"], ["created_at", "2016-04-07 15:53:57.835782"], ["updated_at", "2016-04-07 15:53:57.835782"]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 16ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:53:57.844171"], ["updated_at", "2016-04-07 15:53:57.844171"], ["short", "gFQc7g"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.4ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (321.0ms)
  [1m[36mVisit Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1[0m  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (352.0ms)
  Rendered shared/_nav_bar.html.erb (3.9ms)
  Rendered shared/_footer.html.erb (0.7ms)
Completed 200 OK in 388ms (Views: 384.4ms | ActiveRecord: 0.6ms)
  [1m[35m (1.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:53:58.245084"], ["updated_at", "2016-04-07 15:53:58.245084"], ["short", "U57JVQ"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "links" WHERE "links"."id" = ?  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/dashboard
Completed 302 Found in 9ms (ActiveRecord: 1.7ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:53:58.272517"], ["updated_at", "2016-04-07 15:53:58.272517"], ["short", "Nc7RRA"]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.7ms)
  Rendered links/partials/_form.html.erb (32.1ms)
  Rendered links/new.html.erb within layouts/application (40.1ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 59ms (Views: 55.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (1.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:53:58.351902"], ["updated_at", "2016-04-07 15:53:58.351902"], ["short", "biemmQ"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.6ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"biemmQ", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/links/980190963
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:53:58.398495"], ["updated_at", "2016-04-07 15:53:58.398495"], ["short", "h0ggKw"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.2ms)
  Rendered links/partials/_form.html.erb (6.5ms)
  Rendered links/edit.html.erb within layouts/application (9.3ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 21ms (Views: 18.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 15:53:58.428183"], ["updated_at", "2016-04-07 15:53:58.428183"], ["short", "OppxEg"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (3.8ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 13ms (Views: 10.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["click_count", 1], ["updated_at", "2016-04-07 15:53:58.458322"], ["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-07 15:53:58.469852"], ["updated_at", "2016-04-07 15:53:58.469852"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to https://google.com.ng
Completed 302 Found in 17ms (ActiveRecord: 1.2ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?[0m  [["active", "f"], ["updated_at", "2016-04-07 15:53:58.479083"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (1.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
VisitTest: test_valid
---------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (38.4ms)
  Rendered links/partials/_popular_links.html.erb (0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC LIMIT 3
  Rendered pages/_top_users.html.erb (5.7ms)
  Rendered links/partials/_recent.html.erb (0.7ms)
  Rendered pages/index.html.erb within layouts/application (52.4ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 61ms (Views: 59.5ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?  [["authentication_token", "5N7251kKV6MMd1r3ABYj"]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["authentication_token", "5N7251kKV6MMd1r3ABYj"], ["updated_at", "2016-04-07 15:53:58.575513"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-07 16:53:58 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.4ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC LIMIT 3
  Rendered pages/_top_users.html.erb (3.2ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (5.4ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 19ms (Views: 7.9ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitorVisitsSite: test_visitor_should_login
--------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-07 16:54:01 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.6ms)
  Rendered devise/sessions/new.html.erb within layouts/application (14.1ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 32ms (Views: 26.9ms | ActiveRecord: 0.0ms)
Started GET "/assets/application-76c01fba91e5d9b0b350a4b6aa281e2abc3ced7fa9edf64a03924d6f0be807c0.css" for 127.0.0.1 at 2016-04-07 16:54:02 +0100
Started GET "/assets/application-6af8c7608905532ea8db24e46c871de0004eb6ca322e4372c09e416db5644c8a.js" for 127.0.0.1 at 2016-04-07 16:54:02 +0100
Started GET "/assets/roboto/Roboto-Regular-b5c9c23bd12593523a46d79dd0aee80e3226bbde4c9ac05fc30a95e2c1510de0.woff2" for 127.0.0.1 at 2016-04-07 16:54:02 +0100
Started POST "/login" for 127.0.0.1 at 2016-04-07 16:54:03 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"two@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "two@test.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "CVMgVhgmGwBrUEAWgdWM"]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["last_sign_in_at", "2016-04-07 15:54:03.811085"], ["current_sign_in_at", "2016-04-07 15:54:03.811085"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["authentication_token", "CVMgVhgmGwBrUEAWgdWM"], ["updated_at", "2016-04-07 15:54:03.813884"], ["id", 298486374]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
Redirected to http://127.0.0.1:52892/dashboard
Completed 302 Found in 27ms (ActiveRecord: 2.7ms)
Started GET "/dashboard" for 127.0.0.1 at 2016-04-07 16:54:03 +0100
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 298486374]]
  Rendered shared/_side_bar.html.erb (1.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 298486374]]
  Rendered links/index.html.erb within layouts/application (2.1ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 5.2ms | ActiveRecord: 0.6ms)
Started GET "/assets/jack-fdeaf761bf14b73a5f4757595efa229ce855d65d7bc00d62e1eb651f9e1af9cb.png" for 127.0.0.1 at 2016-04-07 16:54:03 +0100
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-07 16:54:04 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (2.1ms)
  Rendered links/partials/_popular_links.html.erb (0.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC LIMIT 3[0m
  Rendered pages/_top_users.html.erb (2.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (6.0ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-07 16:54:04 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC LIMIT 3[0m
  Rendered pages/_top_users.html.erb (2.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.4ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.6ms)
Started POST "/links" for 127.0.0.1 at 2016-04-07 16:54:04 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)[0m  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-07 15:54:04.191567"], ["updated_at", "2016-04-07 15:54:04.191567"], ["short", "qUW7WQ"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2016-04-07 16:54:04 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.3ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC LIMIT 3
  Rendered pages/_top_users.html.erb (2.7ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (5.2ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 7.8ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_create_an_account
--------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-07 16:54:04 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.6ms)
  Rendered devise/registrations/new.html.erb within layouts/application (3.4ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 11.7ms | ActiveRecord: 0.0ms)
Started POST "/" for 127.0.0.1 at 2016-04-07 16:54:05 +0100
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"full_name"=>"Jackson Mike", "email"=>"jack@mike.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'jack@mike.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "BVsx4rt4QE19cn2WjHRy"]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["full_name", "Jackson Mike"], ["email", "jack@mike.com"], ["encrypted_password", "$2a$04$V47canvtaza/ehyhJSRpaeSx4Bqzi6qAxY/1iogQPejAIthFL8DE6"], ["authentication_token", "BVsx4rt4QE19cn2WjHRy"], ["created_at", "2016-04-07 15:54:05.130991"], ["updated_at", "2016-04-07 15:54:05.130991"]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["last_sign_in_at", "2016-04-07 15:54:05.135370"], ["current_sign_in_at", "2016-04-07 15:54:05.135370"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2016-04-07 15:54:05.135979"], ["id", 980190963]]
  [1m[35m (1.2ms)[0m  commit transaction
Redirected to http://127.0.0.1:52892/dashboard
Completed 302 Found in 21ms (ActiveRecord: 4.6ms)
Started GET "/dashboard" for 127.0.0.1 at 2016-04-07 16:54:05 +0100
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190963]]
  Rendered shared/_side_bar.html.erb (1.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190963]]
  Rendered links/index.html.erb within layouts/application (2.5ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-07 16:54:05 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.4ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC LIMIT 3
  Rendered pages/_top_users.html.erb (2.9ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (5.3ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-07 16:54:05 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (2.0ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC LIMIT 3
  Rendered pages/_top_users.html.erb (3.6ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (7.4ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 15ms (Views: 12.1ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-07 16:54:05 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.2ms)
  Rendered devise/registrations/new.html.erb within layouts/application (1.3ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-07 16:54:05 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (2.1ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-07 16:54:05 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-07 16:54:05 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-07 16:54:05 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-07 15:54:05', '2016-04-07 15:54:05', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$RkDW0VWVlbUbrJf7jZ17QeW8ixf.N8YIyCczBBcLV49kRPIyiKDYG', '2016-04-07 15:54:05', '2016-04-07 15:54:05', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$/zah4Lz655PgVzmHN/.zFejc4LCbBX.dpiN2PihwLNslhne/mIrUq', '2016-04-07 15:54:05', '2016-04-07 15:54:05', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-07 15:54:05', '2016-04-07 15:54:05', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/_form.html.erb (5.4ms)
  Rendered visits/edit.html.erb within layouts/application (8.5ms)
  Rendered shared/_nav_bar.html.erb (2.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 22ms (Views: 20.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "visits" WHERE "visits"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (1.0ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["link_id", 980190962], ["created_at", "2016-04-07 15:54:05.591881"], ["updated_at", "2016-04-07 15:54:05.591881"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (5.0ms)
  Rendered visits/new.html.erb within layouts/application (5.8ms)
  Rendered shared/_nav_bar.html.erb (1.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 12.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT "visits".* FROM "visits"[0m
  Rendered visits/index.html.erb within layouts/application (2.6ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[36mLink Load (2.3ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (15.5ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-07 22:27:10', '2016-04-07 22:27:10', 980190962)
  [1m[36mFixture Delete (1.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$PMC96mpOTQQEtW.kMvDiCOaBnl1CntQ6Q/WhtslR6jfZeNVxgo77W', '2016-04-07 22:27:10', '2016-04-07 22:27:10', 298486374)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$OvBpnti/1wMlhYPMrJADuu.e2gP0xmWVTlsubRf01UlWeloqVU.yu', '2016-04-07 22:27:10', '2016-04-07 22:27:10', 980190962)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-07 22:27:10', '2016-04-07 22:27:10', 980190962)[0m
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (155.9ms)
  Rendered links/partials/_popular_links.html.erb (1.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1330.4ms)
  Rendered links/partials/_recent.html.erb (1.4ms)
  Rendered pages/index.html.erb within layouts/application (1602.0ms)
  Rendered shared/_nav_bar.html.erb (2.3ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 1745ms (Views: 1712.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[35mVisit Load (0.3ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
VisitTest: test_valid
---------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?[0m  [["active", "f"], ["updated_at", "2016-04-07 22:27:13.052809"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (2.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "custom"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?[0m  [["click_count", 1], ["updated_at", "2016-04-07 22:27:13.064999"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-07 22:27:13.071112"], ["updated_at", "2016-04-07 22:27:13.071112"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to https://google.com.ng
Completed 302 Found in 9ms (ActiveRecord: 0.8ms)
  [1m[35m (3.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.4ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT "visits".* FROM "visits"[0m
  Rendered visits/index.html.erb within layouts/application (2.2ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 9.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/_form.html.erb (163.1ms)
  Rendered visits/edit.html.erb within layouts/application (166.4ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 175ms (Views: 174.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "visits" WHERE "visits"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[35mVisit Load (0.0ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (4.8ms)
  Rendered visits/new.html.erb within layouts/application (6.3ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 47ms (Views: 46.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["link_id", 980190962], ["created_at", "2016-04-07 22:27:13.471609"], ["updated_at", "2016-04-07 22:27:13.471609"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.0ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (1.0ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 30.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 22:27:13.546243"], ["updated_at", "2016-04-07 22:27:13.546243"], ["short", "kzUy0A"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"kzUy0A", "user_id"=>"980190962"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "kzUy0A"], ["created_at", "2016-04-07 22:27:13.559232"], ["updated_at", "2016-04-07 22:27:13.559232"]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 8ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 22:27:13.569031"], ["updated_at", "2016-04-07 22:27:13.569031"], ["short", "4Nx9FA"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (2.8ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (9.7ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 21ms (Views: 18.9ms | ActiveRecord: 0.4ms)
  [1m[35m (12.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 22:27:13.613014"], ["updated_at", "2016-04-07 22:27:13.613014"], ["short", "q60PPA"]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.0ms)
  Rendered links/partials/_form.html.erb (23.7ms)
  Rendered links/edit.html.erb within layouts/application (26.2ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 34ms (Views: 31.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 22:27:13.655959"], ["updated_at", "2016-04-07 22:27:13.655959"], ["short", "5N8tAA"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.9ms)
  [1m[35mVisit Exists (0.1ms)[0m  SELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (48.7ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 56ms (Views: 53.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 22:27:13.719689"], ["updated_at", "2016-04-07 22:27:13.719689"], ["short", "z15V0w"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"z15V0w", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/links/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 22:27:13.732367"], ["updated_at", "2016-04-07 22:27:13.732367"], ["short", "nZK7Pw"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.6ms)
  Rendered links/partials/_form.html.erb (1.5ms)
  Rendered links/new.html.erb within layouts/application (4.7ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 13ms (Views: 11.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-07 22:27:13.755377"], ["updated_at", "2016-04-07 22:27:13.755377"], ["short", "e3wLmg"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "links" WHERE "links"."id" = ?  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/dashboard
Completed 302 Found in 6ms (ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?  [["authentication_token", "RRNyS1HZx5kXEPhuQXK9"]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["authentication_token", "RRNyS1HZx5kXEPhuQXK9"], ["updated_at", "2016-04-07 22:27:13.788523"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_create_an_account
--------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-07 23:27:21 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.7ms)
  Rendered devise/registrations/new.html.erb within layouts/application (24.8ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 89ms (Views: 52.2ms | ActiveRecord: 0.0ms)
Started GET "/assets/application-76c01fba91e5d9b0b350a4b6aa281e2abc3ced7fa9edf64a03924d6f0be807c0.css" for 127.0.0.1 at 2016-04-07 23:27:21 +0100
Started GET "/assets/application-6af8c7608905532ea8db24e46c871de0004eb6ca322e4372c09e416db5644c8a.js" for 127.0.0.1 at 2016-04-07 23:27:21 +0100
Started GET "/assets/roboto/Roboto-Regular-b5c9c23bd12593523a46d79dd0aee80e3226bbde4c9ac05fc30a95e2c1510de0.woff2" for 127.0.0.1 at 2016-04-07 23:27:22 +0100
Started POST "/" for 127.0.0.1 at 2016-04-07 23:27:23 +0100
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"full_name"=>"Jackson Mike", "email"=>"jack@mike.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'jack@mike.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "fu6PYvkyHxDZE38nQsRq"]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["full_name", "Jackson Mike"], ["email", "jack@mike.com"], ["encrypted_password", "$2a$04$B.txjsVFZO44vtTmjERbeO.ewKIefprT6Lx8WO8nUnvDNMYI5TF8u"], ["authentication_token", "fu6PYvkyHxDZE38nQsRq"], ["created_at", "2016-04-07 22:27:23.527052"], ["updated_at", "2016-04-07 22:27:23.527052"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["last_sign_in_at", "2016-04-07 22:27:23.531823"], ["current_sign_in_at", "2016-04-07 22:27:23.531823"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2016-04-07 22:27:23.532694"], ["id", 980190964]]
  [1m[35m (1.2ms)[0m  commit transaction
Redirected to http://127.0.0.1:57457/dashboard
Completed 302 Found in 55ms (ActiveRecord: 4.5ms)
Started GET "/dashboard" for 127.0.0.1 at 2016-04-07 23:27:23 +0100
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190964]]
  Rendered shared/_side_bar.html.erb (1.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190964]]
  Rendered links/index.html.erb within layouts/application (3.0ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 5.5ms | ActiveRecord: 0.7ms)
Started GET "/assets/jack-fdeaf761bf14b73a5f4757595efa229ce855d65d7bc00d62e1eb651f9e1af9cb.png" for 127.0.0.1 at 2016-04-07 23:27:23 +0100
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitorVisitsSite: test_visitor_should_login
--------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-07 23:27:23 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.6ms)
  Rendered devise/sessions/new.html.erb within layouts/application (3.3ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 16ms (Views: 14.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2016-04-07 23:27:24 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"two@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "two@test.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "hv6RjYsT2aHjtxK-Yk44"]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["last_sign_in_at", "2016-04-07 22:27:24.594597"], ["current_sign_in_at", "2016-04-07 22:27:24.594597"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["authentication_token", "hv6RjYsT2aHjtxK-Yk44"], ["updated_at", "2016-04-07 22:27:24.596164"], ["id", 298486374]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
Redirected to http://127.0.0.1:57457/dashboard
Completed 302 Found in 38ms (ActiveRecord: 2.1ms)
Started GET "/dashboard" for 127.0.0.1 at 2016-04-07 23:27:24 +0100
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 298486374]]
  Rendered shared/_side_bar.html.erb (2.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 298486374]]
  Rendered links/index.html.erb within layouts/application (3.8ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 6.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-07 23:27:24 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-07 23:27:24 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.5ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-07 23:27:24 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC LIMIT 3[0m
  Rendered pages/_top_users.html.erb (4.0ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (6.2ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 8.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-07 23:27:24 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.2ms)
  Rendered devise/registrations/new.html.erb within layouts/application (1.4ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-07 23:27:24 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.5ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC LIMIT 3[0m
  Rendered pages/_top_users.html.erb (3.8ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (6.8ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 26ms (Views: 9.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-07 23:27:24 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.7ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 6.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-07 23:27:24 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC LIMIT 3[0m
  Rendered pages/_top_users.html.erb (4.1ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (6.5ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 10.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-07 23:27:25 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.6ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-07 23:27:25 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (2.0ms)
  Rendered links/partials/_popular_links.html.erb (0.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC LIMIT 3[0m
  Rendered pages/_top_users.html.erb (5.0ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (8.5ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 12.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-07 23:27:25 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.5ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC LIMIT 3[0m
  Rendered pages/_top_users.html.erb (4.0ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (6.8ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 9.4ms | ActiveRecord: 0.6ms)
Started POST "/links" for 127.0.0.1 at 2016-04-07 23:27:25 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)[0m  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-07 22:27:25.067870"], ["updated_at", "2016-04-07 22:27:25.067870"], ["short", "aG36-A"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.8ms)
Started GET "/" for 127.0.0.1 at 2016-04-07 23:27:25 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC LIMIT 3
  Rendered pages/_top_users.html.erb (2.3ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (4.6ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 0.5ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (9.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-08 06:06:20', '2016-04-08 06:06:20', 980190962)
  [1m[36mFixture Delete (1.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$qIbkXfq5eEL/4VDTqUIcBedr9XBubNzs/NCjFAk9tjQpakH7kCbG6', '2016-04-08 06:06:20', '2016-04-08 06:06:20', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$9vxjkyEkW3Zm.2KIa34UaOUk1nNHdE1oDinhBtwawOxOlj5KMbccy', '2016-04-08 06:06:20', '2016-04-08 06:06:20', 980190962)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-08 06:06:20', '2016-04-08 06:06:20', 980190962)[0m
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[35m (1.7ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC[0m
  [1m[35m (0.2ms)[0m  SELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC
  Rendered links/partials/_form.html.erb (208.5ms)
  Rendered links/partials/_popular_links.html.erb (0.9ms)
  Rendered pages/_top_users.html.erb (813.7ms)
  Rendered links/partials/_recent.html.erb (1.1ms)
  Rendered pages/index.html.erb within layouts/application (1063.3ms)
  Rendered shared/_nav_bar.html.erb (2.9ms)
  Rendered shared/_footer.html.erb (0.6ms)
Completed 200 OK in 1164ms (Views: 1140.2ms | ActiveRecord: 2.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[36mLink Load (0.4ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?  [["authentication_token", "ySqJih2p9zkbkD9Zdq3E"]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["authentication_token", "ySqJih2p9zkbkD9Zdq3E"], ["updated_at", "2016-04-08 06:06:21.820630"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (3.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[36mUser Load (1.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------
VisitTest: test_valid
---------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-08 07:06:21 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.5ms)
  Rendered devise/registrations/new.html.erb within layouts/application (17.6ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 70ms (Views: 30.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-08 07:06:21 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.6ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 22ms (Views: 21.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-08 07:06:22 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC
  Rendered links/partials/_form.html.erb (1.4ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  Rendered pages/_top_users.html.erb (1.2ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.5ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.8ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-08 07:06:22 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC[0m
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  Rendered pages/_top_users.html.erb (1.2ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.3ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-08 07:06:22 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC[0m
  [1m[35m (0.2ms)[0m  SELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  Rendered pages/_top_users.html.erb (1.0ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.2ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 39ms (Views: 36.0ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-08 07:06:22 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.7ms)
  Rendered devise/sessions/new.html.erb within layouts/application (48.0ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 61ms (Views: 60.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-08 07:06:22 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35m (0.2ms)[0m  SELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC[0m
  Rendered links/partials/_form.html.erb (1.5ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  Rendered pages/_top_users.html.erb (1.2ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (3.8ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 6.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
VisitorVisitsSite: test_visitor_should_login
--------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-08 07:06:35 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.6ms)
  Rendered devise/sessions/new.html.erb within layouts/application (3.9ms)
  Rendered shared/_nav_bar.html.erb (1.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 12ms (Views: 9.6ms | ActiveRecord: 0.0ms)
Started GET "/assets/application-76c01fba91e5d9b0b350a4b6aa281e2abc3ced7fa9edf64a03924d6f0be807c0.css" for 127.0.0.1 at 2016-04-08 07:06:35 +0100
Started GET "/assets/application-6af8c7608905532ea8db24e46c871de0004eb6ca322e4372c09e416db5644c8a.js" for 127.0.0.1 at 2016-04-08 07:06:35 +0100
Started GET "/assets/roboto/Roboto-Regular-b5c9c23bd12593523a46d79dd0aee80e3226bbde4c9ac05fc30a95e2c1510de0.woff2" for 127.0.0.1 at 2016-04-08 07:06:37 +0100
Started POST "/login" for 127.0.0.1 at 2016-04-08 07:06:38 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"two@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["email", "two@test.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?  [["authentication_token", "svL_rdbVYrdtCdfxZxpW"]]
  [1m[36mSQL (6.2ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["last_sign_in_at", "2016-04-08 06:06:38.795047"], ["current_sign_in_at", "2016-04-08 06:06:38.795047"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["authentication_token", "svL_rdbVYrdtCdfxZxpW"], ["updated_at", "2016-04-08 06:06:38.797040"], ["id", 298486374]]
  [1m[35m (1.5ms)[0m  commit transaction
Redirected to http://127.0.0.1:61632/dashboard
Completed 302 Found in 73ms (ActiveRecord: 8.4ms)
Started GET "/dashboard" for 127.0.0.1 at 2016-04-08 07:06:38 +0100
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 298486374]]
  Rendered shared/_side_bar.html.erb (1.8ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 298486374]]
  Rendered links/index.html.erb within layouts/application (6.9ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 21ms (Views: 17.9ms | ActiveRecord: 0.5ms)
Started GET "/assets/jack-fdeaf761bf14b73a5f4757595efa229ce855d65d7bc00d62e1eb651f9e1af9cb.png" for 127.0.0.1 at 2016-04-08 07:06:39 +0100
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-08 07:06:39 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (1.0ms)
  Rendered shared/_nav_bar.html.erb (1.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 34ms (Views: 33.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_create_an_account
--------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-08 07:06:39 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.3ms)
  Rendered devise/registrations/new.html.erb within layouts/application (1.6ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
Started POST "/" for 127.0.0.1 at 2016-04-08 07:06:40 +0100
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"full_name"=>"Jackson Mike", "email"=>"jack@mike.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'jack@mike.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "xJ9ZzsrQX7DvNxtGywd5"]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["full_name", "Jackson Mike"], ["email", "jack@mike.com"], ["encrypted_password", "$2a$04$0CP1cICzun8jh4f7pLPXROUkBW378z8dfwJIQsJLxd5xBiXtL/XS6"], ["authentication_token", "xJ9ZzsrQX7DvNxtGywd5"], ["created_at", "2016-04-08 06:06:40.360632"], ["updated_at", "2016-04-08 06:06:40.360632"]]
  [1m[36m (12.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["last_sign_in_at", "2016-04-08 06:06:40.374879"], ["current_sign_in_at", "2016-04-08 06:06:40.374879"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2016-04-08 06:06:40.375580"], ["id", 980190965]]
  [1m[35m (1.3ms)[0m  commit transaction
Redirected to http://127.0.0.1:61632/dashboard
Completed 302 Found in 124ms (ActiveRecord: 14.7ms)
Started GET "/dashboard" for 127.0.0.1 at 2016-04-08 07:06:40 +0100
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190965]]
  Rendered shared/_side_bar.html.erb (0.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190965]]
  Rendered links/index.html.erb within layouts/application (2.5ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-08 07:06:41 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.5ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 21ms (Views: 20.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-08 07:06:41 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35m (0.2ms)[0m  SELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC
  [1m[36m (0.2ms)[0m  [1mSELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC[0m
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  Rendered pages/_top_users.html.erb (1.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.4ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.5ms | ActiveRecord: 0.5ms)
Started POST "/links" for 127.0.0.1 at 2016-04-08 07:06:41 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)[0m  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-08 06:06:41.057252"], ["updated_at", "2016-04-08 06:06:41.057252"], ["short", "XUPqTw"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.8ms)
Started GET "/" for 127.0.0.1 at 2016-04-08 07:06:41 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC[0m
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  Rendered pages/_top_users.html.erb (1.2ms)
  Rendered links/partials/_recent.html.erb (0.3ms)
  Rendered pages/index.html.erb within layouts/application (3.2ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 7.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "links"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-08 06:06:41', '2016-04-08 06:06:41', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$LGcfNHxJCu1NHn2y/oe9ReeSxv9mklDr.nZSmmkk3v9vXuFSA6FQC', '2016-04-08 06:06:41', '2016-04-08 06:06:41', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$Gk4d1zCdnP5JYmjHMIhXSe7TnW30dfGO2u0z9g5LBHUoPKIzlItEK', '2016-04-08 06:06:41', '2016-04-08 06:06:41', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-08 06:06:41', '2016-04-08 06:06:41', 980190962)
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["link_id", 980190962], ["created_at", "2016-04-08 06:06:41.159227"], ["updated_at", "2016-04-08 06:06:41.159227"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (1.6ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 13ms (Views: 11.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/_form.html.erb (21.6ms)
  Rendered visits/edit.html.erb within layouts/application (24.7ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 31ms (Views: 30.5ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (2.4ms)
  Rendered visits/new.html.erb within layouts/application (3.1ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT "visits".* FROM "visits"[0m
  Rendered visits/index.html.erb within layouts/application (1.7ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "visits" WHERE "visits"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?[0m  [["active", "f"], ["updated_at", "2016-04-08 06:06:41.288300"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "custom"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?[0m  [["click_count", 1], ["updated_at", "2016-04-08 06:06:41.296361"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-08 06:06:41.326785"], ["updated_at", "2016-04-08 06:06:41.326785"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to https://google.com.ng
Completed 302 Found in 34ms (ActiveRecord: 1.1ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 06:06:41.334131"], ["updated_at", "2016-04-08 06:06:41.334131"], ["short", "oIIkog"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.9ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35mLink Load (0.3ms)[0m  SELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (4.3ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 7.7ms | ActiveRecord: 0.5ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 06:06:41.351889"], ["updated_at", "2016-04-08 06:06:41.351889"], ["short", "0WrJCg"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.9ms)
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/new.html.erb within layouts/application (2.9ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 8.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 06:06:41.369840"], ["updated_at", "2016-04-08 06:06:41.369840"], ["short", "NWIJOA"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.9ms)
  Rendered links/partials/_form.html.erb (1.4ms)
  Rendered links/edit.html.erb within layouts/application (3.6ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 9.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 06:06:41.389868"], ["updated_at", "2016-04-08 06:06:41.389868"], ["short", "9uQyIw"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"9uQyIw", "user_id"=>"980190962"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "9uQyIw"], ["created_at", "2016-04-08 06:06:41.396465"], ["updated_at", "2016-04-08 06:06:41.396465"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 6ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 06:06:41.405903"], ["updated_at", "2016-04-08 06:06:41.405903"], ["short", "w5z9Wg"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"w5z9Wg", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/links/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 06:06:41.418931"], ["updated_at", "2016-04-08 06:06:41.418931"], ["short", "dkn0rA"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.3ms)
  [1m[36mVisit Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1[0m  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (6.1ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 10.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 06:06:41.437093"], ["updated_at", "2016-04-08 06:06:41.437093"], ["short", "8TTHoA"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "links" WHERE "links"."id" = ?  [["id", 980190963]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/dashboard
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-08 07:31:25', '2016-04-08 07:31:25', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$PLjlsYD0dMeefsjumoT6..dHkkfoibZ.JkGb2nrb1m2LbOTjxIRn2', '2016-04-08 07:31:25', '2016-04-08 07:31:25', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$56xUDGYHnDUdCVbJptnAKOo51Oow76FK.fQLAuv3Z0QcikIYv3SDy', '2016-04-08 07:31:25', '2016-04-08 07:31:25', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-08 07:31:25', '2016-04-08 07:31:25', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 07:31:25.212434"], ["updated_at", "2016-04-08 07:31:25.212434"], ["short", "Ni2q1A"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "links" WHERE "links"."id" = ?  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/dashboard
Completed 302 Found in 28ms (ActiveRecord: 1.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 07:31:25.313326"], ["updated_at", "2016-04-08 07:31:25.313326"], ["short", "OgAsjA"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (819.9ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (954.5ms)
  Rendered shared/_nav_bar.html.erb (2.9ms)
  Rendered shared/_footer.html.erb (0.9ms)
Completed 200 OK in 1153ms (Views: 1099.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 07:31:26.475458"], ["updated_at", "2016-04-08 07:31:26.475458"], ["short", "jDthHA"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"jDthHA", "user_id"=>"980190962"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "jDthHA"], ["created_at", "2016-04-08 07:31:26.486393"], ["updated_at", "2016-04-08 07:31:26.486393"]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 7ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 07:31:26.493882"], ["updated_at", "2016-04-08 07:31:26.493882"], ["short", "LbQ7hw"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"LbQ7hw", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/links/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 07:31:26.504988"], ["updated_at", "2016-04-08 07:31:26.504988"], ["short", "S6rEZQ"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.9ms)
  Rendered links/partials/_form.html.erb (48.2ms)
  Rendered links/new.html.erb within layouts/application (52.3ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 59ms (Views: 57.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 07:31:26.571303"], ["updated_at", "2016-04-08 07:31:26.571303"], ["short", "PXnBhw"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.3ms)
  [1m[35mVisit Exists (0.2ms)[0m  SELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (72.5ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 79ms (Views: 77.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 07:31:26.659244"], ["updated_at", "2016-04-08 07:31:26.659244"], ["short", "17lTDQ"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.0ms)
  Rendered links/partials/_form.html.erb (4.5ms)
  Rendered links/edit.html.erb within layouts/application (6.8ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 11.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?  [["authentication_token", "pMMyoM5PLVs43uRtfZjr"]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["authentication_token", "pMMyoM5PLVs43uRtfZjr"], ["updated_at", "2016-04-08 07:31:26.695374"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?[0m  [["active", "f"], ["updated_at", "2016-04-08 07:31:26.714053"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "custom"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?[0m  [["click_count", 1], ["updated_at", "2016-04-08 07:31:26.733310"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-08 07:31:26.760353"], ["updated_at", "2016-04-08 07:31:26.760353"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to https://google.com.ng
Completed 302 Found in 32ms (ActiveRecord: 1.1ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mVisit Load (0.3ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (36.0ms)
  Rendered visits/new.html.erb within layouts/application (38.7ms)
  Rendered shared/_nav_bar.html.erb (20.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 69ms (Views: 68.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/_form.html.erb (3.6ms)
  Rendered visits/edit.html.erb within layouts/application (5.4ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 10.5ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.0ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (1.7ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "visits" WHERE "visits"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT "visits".* FROM "visits"[0m
  Rendered visits/index.html.erb within layouts/application (1.9ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["link_id", 980190962], ["created_at", "2016-04-08 07:31:26.941495"], ["updated_at", "2016-04-08 07:31:26.941495"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-08 08:31:26 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC[0m
  [1m[35m (0.2ms)[0m  SELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC
  Rendered links/partials/_form.html.erb (1.3ms)
  Rendered links/partials/_popular_links.html.erb (2.1ms)
  Rendered pages/_top_users.html.erb (3.7ms)
  Rendered links/partials/_recent.html.erb (0.9ms)
  Rendered pages/index.html.erb within layouts/application (64.7ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 83ms (Views: 73.1ms | ActiveRecord: 0.4ms)
Started POST "/links" for 127.0.0.1 at 2016-04-08 08:31:27 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-08 07:31:27.079978"], ["updated_at", "2016-04-08 07:31:27.079978"], ["short", "vBNBCA"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2016-04-08 08:31:27 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  Rendered pages/_top_users.html.erb (1.0ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.0ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-08 08:31:27 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC[0m
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  Rendered pages/_top_users.html.erb (1.0ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.1ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 6.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_create_an_account
--------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-08 08:31:40 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.7ms)
  Rendered devise/registrations/new.html.erb within layouts/application (137.9ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 188ms (Views: 167.3ms | ActiveRecord: 0.0ms)
Started GET "/assets/application-76c01fba91e5d9b0b350a4b6aa281e2abc3ced7fa9edf64a03924d6f0be807c0.css" for 127.0.0.1 at 2016-04-08 08:31:41 +0100
Started GET "/assets/application-6af8c7608905532ea8db24e46c871de0004eb6ca322e4372c09e416db5644c8a.js" for 127.0.0.1 at 2016-04-08 08:31:41 +0100
Started GET "/assets/roboto/Roboto-Regular-b5c9c23bd12593523a46d79dd0aee80e3226bbde4c9ac05fc30a95e2c1510de0.woff2" for 127.0.0.1 at 2016-04-08 08:31:43 +0100
Started POST "/" for 127.0.0.1 at 2016-04-08 08:31:47 +0100
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"full_name"=>"Jackson Mike", "email"=>"jack@mike.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (13.6ms)[0m  begin transaction
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'jack@mike.com' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?  [["authentication_token", "gZ8tqSeFLzjj9n76szd9"]]
  [1m[36mSQL (8.6ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["full_name", "Jackson Mike"], ["email", "jack@mike.com"], ["encrypted_password", "$2a$04$yRei6pMYczUK5VITifW3N.mmdzf.VErzlGxWOpe0Lr/t9MUmtimjy"], ["authentication_token", "gZ8tqSeFLzjj9n76szd9"], ["created_at", "2016-04-08 07:31:47.684136"], ["updated_at", "2016-04-08 07:31:47.684136"]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["last_sign_in_at", "2016-04-08 07:31:47.696996"], ["current_sign_in_at", "2016-04-08 07:31:47.696996"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2016-04-08 07:31:47.697876"], ["id", 980190966]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
Redirected to http://127.0.0.1:62356/dashboard
Completed 302 Found in 83ms (ActiveRecord: 26.7ms)
Started GET "/dashboard" for 127.0.0.1 at 2016-04-08 08:31:47 +0100
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190966]]
  Rendered shared/_side_bar.html.erb (1.6ms)
  [1m[36m (52.1ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190966]]
  Rendered links/index.html.erb within layouts/application (55.2ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 66ms (Views: 7.8ms | ActiveRecord: 52.8ms)
Started GET "/assets/jack-fdeaf761bf14b73a5f4757595efa229ce855d65d7bc00d62e1eb651f9e1af9cb.png" for 127.0.0.1 at 2016-04-08 08:31:47 +0100
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-08 08:31:48 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC
  Rendered links/partials/_form.html.erb (1.5ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  Rendered pages/_top_users.html.erb (1.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.8ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 6.2ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-08 08:31:48 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.3ms)
  Rendered devise/registrations/new.html.erb within layouts/application (1.8ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-08 08:31:48 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.5ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 20ms (Views: 19.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-08 08:31:48 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC[0m
  Rendered links/partials/_form.html.erb (1.5ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  Rendered pages/_top_users.html.erb (2.0ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (4.8ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 7.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-08 08:31:48 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.6ms)
  Rendered devise/sessions/new.html.erb within layouts/application (3.6ms)
  Rendered shared/_nav_bar.html.erb (1.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 17ms (Views: 15.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-08 08:31:48 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (1.6ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 9.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-08 08:31:48 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.4ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  Rendered pages/_top_users.html.erb (1.9ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.9ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitorVisitsSite: test_visitor_should_login
--------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-08 08:31:48 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.6ms)
  Rendered devise/sessions/new.html.erb within layouts/application (3.5ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2016-04-08 08:31:49 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"two@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "two@test.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "dsJse1HzR_EfmPwf_jq6"]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["last_sign_in_at", "2016-04-08 07:31:49.164639"], ["current_sign_in_at", "2016-04-08 07:31:49.164639"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["authentication_token", "dsJse1HzR_EfmPwf_jq6"], ["updated_at", "2016-04-08 07:31:49.168088"], ["id", 298486374]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
Redirected to http://127.0.0.1:62356/dashboard
Completed 302 Found in 51ms (ActiveRecord: 2.1ms)
Started GET "/dashboard" for 127.0.0.1 at 2016-04-08 08:31:49 +0100
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 298486374]]
  Rendered shared/_side_bar.html.erb (1.9ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 298486374]]
  Rendered links/index.html.erb within layouts/application (5.0ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 15ms (Views: 11.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-08 08:31:49 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (1.0ms)
  Rendered shared/_nav_bar.html.erb (2.1ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 33ms (Views: 32.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC[0m
  [1m[35m (0.2ms)[0m  SELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC
  Rendered links/partials/_form.html.erb (1.3ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.6ms)
  Rendered shared/_nav_bar.html.erb (1.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 7.6ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-08 07:31:49', '2016-04-08 07:31:49', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$69LU5oyxCYZZaGjSRPwz4O0Midbv.TPwleQPNv6TPzTzDKcnDCMHO', '2016-04-08 07:31:49', '2016-04-08 07:31:49', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$7dKE1ycCnaO8.2QZjElxKeHqhU3IyvbO24YWWQB4o7YXhpUncMl0a', '2016-04-08 07:31:49', '2016-04-08 07:31:49', 980190962)[0m
  [1m[35mFixture Delete (11.0ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-08 07:31:49', '2016-04-08 07:31:49', 980190962)[0m
  [1m[35m (11.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
VisitTest: test_valid
---------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (6.5ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-08 08:56:39', '2016-04-08 08:56:39', 980190962)
  [1m[36mFixture Delete (1.6ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$BCKNW0AClvx6SXc5VddMIuoUUPVlegGWeL9EUzNPEgCxO32BymFUW', '2016-04-08 08:56:39', '2016-04-08 08:56:39', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$HdlxHEd3udokbt2rFSVgg.PfA/EysEBxWtlQh0.s7TSB/SDaqpZ.i', '2016-04-08 08:56:39', '2016-04-08 08:56:39', 980190962)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-08 08:56:39', '2016-04-08 08:56:39', 980190962)[0m
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "dDyAmTsc1gcU72jvMYEM"]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["authentication_token", "dDyAmTsc1gcU72jvMYEM"], ["updated_at", "2016-04-08 08:56:39.683307"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
VisitTest: test_valid
---------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 25ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["click_count", 1], ["updated_at", "2016-04-08 08:56:40.000969"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-08 08:56:40.017591"], ["updated_at", "2016-04-08 08:56:40.017591"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to https://google.com.ng
Completed 302 Found in 21ms (ActiveRecord: 1.1ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?[0m  [["active", "f"], ["updated_at", "2016-04-08 08:56:40.025359"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-08 09:56:40 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.3ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36m (0.3ms)[0m  [1mSELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC[0m
  [1m[35m (0.3ms)[0m  SELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC
  Rendered links/partials/_form.html.erb (39.2ms)
  Rendered links/partials/_popular_links.html.erb (1.3ms)
  Rendered pages/_top_users.html.erb (853.1ms)
  Rendered links/partials/_recent.html.erb (1.1ms)
  Rendered pages/index.html.erb within layouts/application (970.8ms)
  Rendered shared/_nav_bar.html.erb (2.3ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 1107ms (Views: 1076.6ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-08 09:56:41 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.5ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-08 09:56:41 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC
  [1m[36m (0.2ms)[0m  [1mSELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC[0m
  Rendered links/partials/_form.html.erb (1.3ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  Rendered pages/_top_users.html.erb (1.9ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.4ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 7.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-08 09:56:41 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (2.4ms)
  Rendered devise/registrations/new.html.erb within layouts/application (18.5ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 46ms (Views: 32.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-08 09:56:41 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  Rendered pages/_top_users.html.erb (0.9ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (2.8ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.1ms | ActiveRecord: 0.5ms)
Started POST "/links" for 127.0.0.1 at 2016-04-08 09:56:41 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (12.7ms)[0m  INSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-08 08:56:41.304195"], ["updated_at", "2016-04-08 08:56:41.304195"], ["short", "4yGTzw"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 19ms (ActiveRecord: 12.9ms)
Started GET "/" for 127.0.0.1 at 2016-04-08 09:56:41 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC[0m
  [1m[35m (0.2ms)[0m  SELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  Rendered pages/_top_users.html.erb (0.8ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (2.8ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 4.9ms | ActiveRecord: 0.5ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-08 09:56:41 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.7ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 19ms (Views: 18.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------
VisitorVisitsSite: test_visitor_should_login
--------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-08 09:56:56 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.1ms)
  Rendered devise/sessions/new.html.erb within layouts/application (90.9ms)
  Rendered shared/_nav_bar.html.erb (1.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 130ms (Views: 126.3ms | ActiveRecord: 0.0ms)
Started GET "/assets/application-76c01fba91e5d9b0b350a4b6aa281e2abc3ced7fa9edf64a03924d6f0be807c0.css" for 127.0.0.1 at 2016-04-08 09:56:57 +0100
Started GET "/assets/application-6af8c7608905532ea8db24e46c871de0004eb6ca322e4372c09e416db5644c8a.js" for 127.0.0.1 at 2016-04-08 09:56:57 +0100
Started GET "/assets/roboto/Roboto-Regular-b5c9c23bd12593523a46d79dd0aee80e3226bbde4c9ac05fc30a95e2c1510de0.woff2" for 127.0.0.1 at 2016-04-08 09:56:58 +0100
Started POST "/login" for 127.0.0.1 at 2016-04-08 09:57:00 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"two@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "two@test.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "_DwKETpLKXKZSGZW6ELs"]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["last_sign_in_at", "2016-04-08 08:57:00.534538"], ["current_sign_in_at", "2016-04-08 08:57:00.534538"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["authentication_token", "_DwKETpLKXKZSGZW6ELs"], ["updated_at", "2016-04-08 08:57:00.536959"], ["id", 298486374]]
  [1m[36m (2.3ms)[0m  [1mcommit transaction[0m
Redirected to http://127.0.0.1:63871/dashboard
Completed 302 Found in 107ms (ActiveRecord: 4.1ms)
Started GET "/dashboard" for 127.0.0.1 at 2016-04-08 09:57:00 +0100
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 298486374]]
  Rendered shared/_side_bar.html.erb (4.1ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 298486374]]
  Rendered links/index.html.erb within layouts/application (47.6ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 72ms (Views: 67.9ms | ActiveRecord: 0.7ms)
Started GET "/assets/jack-fdeaf761bf14b73a5f4757595efa229ce855d65d7bc00d62e1eb651f9e1af9cb.png" for 127.0.0.1 at 2016-04-08 09:57:00 +0100
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-08 09:57:01 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.5ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 25ms (Views: 24.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-08 09:57:01 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC
  Rendered links/partials/_form.html.erb (1.5ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  Rendered pages/_top_users.html.erb (2.3ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (4.9ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 8.8ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-08 09:57:01 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC[0m
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  Rendered pages/_top_users.html.erb (1.0ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.2ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-08 09:57:01 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (2.1ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_create_an_account
--------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-08 09:57:01 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.6ms)
  Rendered devise/registrations/new.html.erb within layouts/application (3.0ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 7.4ms | ActiveRecord: 0.0ms)
Started POST "/" for 127.0.0.1 at 2016-04-08 09:57:02 +0100
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"full_name"=>"Jackson Mike", "email"=>"jack@mike.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'jack@mike.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?  [["authentication_token", "VNsspTuncxy9qPy6kxqs"]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["full_name", "Jackson Mike"], ["email", "jack@mike.com"], ["encrypted_password", "$2a$04$Tdq3ZYvj8XDsz0UMTeUTLOhkiGUkt1JO8wQnHpItTiK.ZCvpf6khW"], ["authentication_token", "VNsspTuncxy9qPy6kxqs"], ["created_at", "2016-04-08 08:57:02.341260"], ["updated_at", "2016-04-08 08:57:02.341260"]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["last_sign_in_at", "2016-04-08 08:57:02.345088"], ["current_sign_in_at", "2016-04-08 08:57:02.345088"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2016-04-08 08:57:02.345813"], ["id", 980190967]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
Redirected to http://127.0.0.1:63871/dashboard
Completed 302 Found in 56ms (ActiveRecord: 3.8ms)
Started GET "/dashboard" for 127.0.0.1 at 2016-04-08 09:57:02 +0100
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190967]]
  Rendered shared/_side_bar.html.erb (1.2ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190967]]
  Rendered links/index.html.erb within layouts/application (3.0ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 7.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "visits" WHERE "visits"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[35mVisit Load (0.2ms)[0m  SELECT "visits".* FROM "visits"
  Rendered visits/index.html.erb within layouts/application (3.4ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 16ms (Views: 15.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/_form.html.erb (16.0ms)
  Rendered visits/edit.html.erb within layouts/application (20.2ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 26ms (Views: 25.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (3.1ms)
  Rendered visits/new.html.erb within layouts/application (4.0ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 10.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["link_id", 980190962], ["created_at", "2016-04-08 08:57:02.842425"], ["updated_at", "2016-04-08 08:57:02.842425"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (1.0ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 7.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "links"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-08 08:57:02', '2016-04-08 08:57:02', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$laQeMdG.bwNW/Fy98AM4.ehp1YsOvKxKZafP5doxG4irIYF/LladS', '2016-04-08 08:57:02', '2016-04-08 08:57:02', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$NlL8aJMS8Gnx6PxNpiaeleusJ1Wa/fYNu7kteu3ZJIn0V1Qs9B85W', '2016-04-08 08:57:02', '2016-04-08 08:57:02', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-08 08:57:02', '2016-04-08 08:57:02', 980190962)
  [1m[36m (6.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 08:57:02.899647"], ["updated_at", "2016-04-08 08:57:02.899647"], ["short", "B4oEmQ"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"B4oEmQ", "user_id"=>"980190962"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "B4oEmQ"], ["created_at", "2016-04-08 08:57:02.908962"], ["updated_at", "2016-04-08 08:57:02.908962"]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 6ms (ActiveRecord: 0.9ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 08:57:02.917737"], ["updated_at", "2016-04-08 08:57:02.917737"], ["short", "yIcYpA"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35mLink Load (0.2ms)[0m  SELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (5.3ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 12ms (Views: 9.3ms | ActiveRecord: 0.5ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 08:57:02.938118"], ["updated_at", "2016-04-08 08:57:02.938118"], ["short", "rJxcjA"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.0ms)
  [1m[36mVisit Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1[0m  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (6.4ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 12.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 08:57:02.960161"], ["updated_at", "2016-04-08 08:57:02.960161"], ["short", "p-QIIg"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "links" WHERE "links"."id" = ?  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/dashboard
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 08:57:02.975782"], ["updated_at", "2016-04-08 08:57:02.975782"], ["short", "SeoB1A"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"SeoB1A", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/links/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 08:57:02.988673"], ["updated_at", "2016-04-08 08:57:02.988673"], ["short", "qgrdrA"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.8ms)
  Rendered links/partials/_form.html.erb (0.9ms)
  Rendered links/new.html.erb within layouts/application (2.6ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 12ms (Views: 9.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 08:57:03.008051"], ["updated_at", "2016-04-08 08:57:03.008051"], ["short", "uSr-VA"]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.2ms)
  Rendered links/partials/_form.html.erb (1.5ms)
  Rendered links/edit.html.erb within layouts/application (4.2ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 9.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  Rendered pages/_top_users.html.erb (1.0ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (2.8ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-08 09:06:24', '2016-04-08 09:06:24', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$AqclaVeb5dMhC9fV6P0Fwext/p6Kq7Hl/vwcRRKySTpRjiWTOk/dy', '2016-04-08 09:06:24', '2016-04-08 09:06:24', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$y0LsN/oV18OoCB/9exJqz.KEF4bmY1q2n/Qo3f4eUkosulEdX5HrW', '2016-04-08 09:06:24', '2016-04-08 09:06:24', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-08 09:06:24', '2016-04-08 09:06:24', 980190962)[0m
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (2.9ms)
  Rendered shared/_nav_bar.html.erb (13.1ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 767ms (Views: 759.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (157.1ms)
  Rendered visits/new.html.erb within layouts/application (159.5ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 164ms (Views: 164.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[35mVisit Load (0.1ms)[0m  SELECT "visits".* FROM "visits"
  Rendered visits/index.html.erb within layouts/application (1.9ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 6.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["link_id", 980190962], ["created_at", "2016-04-08 09:06:25.289436"], ["updated_at", "2016-04-08 09:06:25.289436"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/_form.html.erb (4.9ms)
  Rendered visits/edit.html.erb within layouts/application (6.0ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 13ms (Views: 12.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "visits" WHERE "visits"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC
  Rendered links/partials/_form.html.erb (2.7ms)
  Rendered links/partials/_popular_links.html.erb (1.5ms)
  Rendered pages/_top_users.html.erb (3.7ms)
  Rendered links/partials/_recent.html.erb (1.3ms)
  Rendered pages/index.html.erb within layouts/application (40.8ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 78ms (Views: 75.3ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-08 10:06:25 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (3.1ms)
  Rendered devise/registrations/new.html.erb within layouts/application (39.6ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 90ms (Views: 73.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_create_an_account
--------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-08 10:06:32 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.3ms)
  Rendered devise/registrations/new.html.erb within layouts/application (2.2ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 0.0ms)
Started GET "/assets/application-76c01fba91e5d9b0b350a4b6aa281e2abc3ced7fa9edf64a03924d6f0be807c0.css" for 127.0.0.1 at 2016-04-08 10:06:32 +0100
Started GET "/assets/application-6af8c7608905532ea8db24e46c871de0004eb6ca322e4372c09e416db5644c8a.js" for 127.0.0.1 at 2016-04-08 10:06:32 +0100
Started GET "/assets/roboto/Roboto-Regular-b5c9c23bd12593523a46d79dd0aee80e3226bbde4c9ac05fc30a95e2c1510de0.woff2" for 127.0.0.1 at 2016-04-08 10:06:33 +0100
Started POST "/" for 127.0.0.1 at 2016-04-08 10:06:35 +0100
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"full_name"=>"Jackson Mike", "email"=>"jack@mike.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'jack@mike.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "J9urGZHgf_ki5XuXa39B"]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["full_name", "Jackson Mike"], ["email", "jack@mike.com"], ["encrypted_password", "$2a$04$/73QCAedv5PwFcfMbGpP4O7hfRF7v.Vk8QS2Iyl6LPVn.SqvsYV4i"], ["authentication_token", "J9urGZHgf_ki5XuXa39B"], ["created_at", "2016-04-08 09:06:35.299165"], ["updated_at", "2016-04-08 09:06:35.299165"]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["last_sign_in_at", "2016-04-08 09:06:35.303828"], ["current_sign_in_at", "2016-04-08 09:06:35.303828"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2016-04-08 09:06:35.304778"], ["id", 980190968]]
  [1m[35m (0.9ms)[0m  commit transaction
Redirected to http://127.0.0.1:64120/dashboard
Completed 302 Found in 98ms (ActiveRecord: 4.7ms)
Started GET "/dashboard" for 127.0.0.1 at 2016-04-08 10:06:35 +0100
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190968]]
  Rendered shared/_side_bar.html.erb (4.0ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190968]]
  Rendered links/index.html.erb within layouts/application (9.4ms)
  Rendered shared/_nav_bar.html.erb (1.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 23ms (Views: 18.8ms | ActiveRecord: 0.7ms)
Started GET "/assets/jack-fdeaf761bf14b73a5f4757595efa229ce855d65d7bc00d62e1eb651f9e1af9cb.png" for 127.0.0.1 at 2016-04-08 10:06:35 +0100
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-08 10:06:35 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.6ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitorVisitsSite: test_visitor_should_login
--------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-08 10:06:35 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.7ms)
  Rendered devise/sessions/new.html.erb within layouts/application (30.7ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 41ms (Views: 40.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2016-04-08 10:06:36 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"two@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "two@test.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "Ce3JyLan97TBGmZ_z7qV"]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["last_sign_in_at", "2016-04-08 09:06:36.498012"], ["current_sign_in_at", "2016-04-08 09:06:36.498012"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["authentication_token", "Ce3JyLan97TBGmZ_z7qV"], ["updated_at", "2016-04-08 09:06:36.499713"], ["id", 298486374]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
Redirected to http://127.0.0.1:64120/dashboard
Completed 302 Found in 36ms (ActiveRecord: 2.4ms)
Started GET "/dashboard" for 127.0.0.1 at 2016-04-08 10:06:36 +0100
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 298486374]]
  Rendered shared/_side_bar.html.erb (1.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 298486374]]
  Rendered links/index.html.erb within layouts/application (3.1ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 6.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-08 10:06:36 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC
  Rendered links/partials/_form.html.erb (1.3ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.6ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-08 10:06:36 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.6ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 10.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-08 10:06:36 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC[0m
  Rendered links/partials/_form.html.erb (2.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  Rendered pages/_top_users.html.erb (1.3ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.4ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 7.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-08 10:06:36 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  Rendered pages/_top_users.html.erb (1.6ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.5ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-08 10:06:36 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.5ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-08 10:06:36 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.4ms)
  Rendered devise/sessions/new.html.erb within layouts/application (2.1ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-08 10:06:36 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC[0m
  Rendered links/partials/_form.html.erb (1.5ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  Rendered pages/_top_users.html.erb (1.2ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.7ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 6.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-08 10:06:36 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  Rendered pages/_top_users.html.erb (1.1ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.0ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 5.3ms | ActiveRecord: 0.4ms)
Started POST "/links" for 127.0.0.1 at 2016-04-08 10:06:36 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-08 09:06:36.928561"], ["updated_at", "2016-04-08 09:06:36.928561"], ["short", "cfNbqw"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 39ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2016-04-08 10:06:36 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC
  Rendered links/partials/_form.html.erb (1.5ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  Rendered pages/_top_users.html.erb (2.3ms)
  Rendered links/partials/_recent.html.erb (0.3ms)
  Rendered pages/index.html.erb within layouts/application (5.2ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 8.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-08 09:06:37', '2016-04-08 09:06:37', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$94JawhwYWTT4O4BWms.jVOjWea6ZwBrYLGEe2ae1a4KqCenpvevLa', '2016-04-08 09:06:37', '2016-04-08 09:06:37', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$Xoh./W8wsuzE20fhgLRqMufBNp6TDYVn4mOe3/6DpMJob4Ize3Pfu', '2016-04-08 09:06:37', '2016-04-08 09:06:37', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-08 09:06:37', '2016-04-08 09:06:37', 980190962)[0m
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
VisitTest: test_valid
---------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?  [["authentication_token", "pq6sce8vvHzxH8J_AtN8"]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["authentication_token", "pq6sce8vvHzxH8J_AtN8"], ["updated_at", "2016-04-08 09:06:37.031926"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 09:06:37.053437"], ["updated_at", "2016-04-08 09:06:37.053437"], ["short", "1JnWZw"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"1JnWZw", "user_id"=>"980190962"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "1JnWZw"], ["created_at", "2016-04-08 09:06:37.065565"], ["updated_at", "2016-04-08 09:06:37.065565"]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 9ms (ActiveRecord: 1.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 09:06:37.075235"], ["updated_at", "2016-04-08 09:06:37.075235"], ["short", "Bj6-pw"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "links" WHERE "links"."id" = ?  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/dashboard
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 09:06:37.091413"], ["updated_at", "2016-04-08 09:06:37.091413"], ["short", "jVruwg"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.9ms)
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/new.html.erb within layouts/application (3.1ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 23ms (Views: 20.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 09:06:37.121429"], ["updated_at", "2016-04-08 09:06:37.121429"], ["short", "ko1R1A"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35mLink Load (0.3ms)[0m  SELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (4.2ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.4ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 09:06:37.137428"], ["updated_at", "2016-04-08 09:06:37.137428"], ["short", "kE2EJA"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.3ms)
  Rendered links/partials/_form.html.erb (1.3ms)
  Rendered links/edit.html.erb within layouts/application (4.4ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 9.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 09:06:37.156463"], ["updated_at", "2016-04-08 09:06:37.156463"], ["short", "NHWT9g"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (2.8ms)
  [1m[36mVisit Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1[0m  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (11.1ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 40ms (Views: 38.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 09:06:37.205928"], ["updated_at", "2016-04-08 09:06:37.205928"], ["short", "pblZHg"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"pblZHg", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/links/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["active", "f"], ["updated_at", "2016-04-08 09:06:37.250295"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["click_count", 1], ["updated_at", "2016-04-08 09:06:37.266761"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-08 09:06:37.282959"], ["updated_at", "2016-04-08 09:06:37.282959"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to https://google.com.ng
Completed 302 Found in 20ms (ActiveRecord: 1.0ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-08 09:11:30', '2016-04-08 09:11:30', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$LzQTNCSYWaxdetjxIPJUM.3KNBLyM681ITAn6bAxdCT1L66wDPZ/C', '2016-04-08 09:11:30', '2016-04-08 09:11:30', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$0Vh0DBGgb2bfXfecO.DX5uJCJxrqipPuefnG.fF9u117Ec3WK6yQu', '2016-04-08 09:11:30', '2016-04-08 09:11:30', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-08 09:11:30', '2016-04-08 09:11:30', 980190962)[0m
  [1m[35m (14.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 09:11:30.111446"], ["updated_at", "2016-04-08 09:11:30.111446"], ["short", "i2Uo7A"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (768.9ms)
  [1m[35mVisit Exists (0.1ms)[0m  SELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (803.9ms)
  Rendered shared/_nav_bar.html.erb (1.6ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 854ms (Views: 844.9ms | ActiveRecord: 0.7ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 09:11:30.993416"], ["updated_at", "2016-04-08 09:11:30.993416"], ["short", "-YjFww"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"-YjFww", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/links/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[36m (20.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 09:11:31.026570"], ["updated_at", "2016-04-08 09:11:31.026570"], ["short", "qTKn5w"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "links" WHERE "links"."id" = ?[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 09:11:31.043538"], ["updated_at", "2016-04-08 09:11:31.043538"], ["short", "l_wuQA"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (103.6ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 112ms (Views: 108.0ms | ActiveRecord: 0.3ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 09:11:31.163204"], ["updated_at", "2016-04-08 09:11:31.163204"], ["short", "xfretQ"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.4ms)
  Rendered links/partials/_form.html.erb (11.9ms)
  Rendered links/new.html.erb within layouts/application (38.4ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 44ms (Views: 42.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 09:11:31.215746"], ["updated_at", "2016-04-08 09:11:31.215746"], ["short", "7YOBKw"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.0ms)
  Rendered links/partials/_form.html.erb (5.3ms)
  Rendered links/edit.html.erb within layouts/application (7.9ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 17ms (Views: 14.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 09:11:31.242849"], ["updated_at", "2016-04-08 09:11:31.242849"], ["short", "hlGLeA"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"hlGLeA", "user_id"=>"980190962"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "hlGLeA"], ["created_at", "2016-04-08 09:11:31.253092"], ["updated_at", "2016-04-08 09:11:31.253092"]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/_form.html.erb (8.8ms)
  Rendered visits/edit.html.erb within layouts/application (11.6ms)
  Rendered shared/_nav_bar.html.erb (11.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 32ms (Views: 31.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.0ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "visits" WHERE "visits"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.0ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (1.1ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 6.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (2.7ms)
  Rendered visits/new.html.erb within layouts/application (3.5ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[35mVisit Load (0.2ms)[0m  SELECT "visits".* FROM "visits"
  Rendered visits/index.html.erb within layouts/application (2.4ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 10.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["link_id", 980190962], ["created_at", "2016-04-08 09:11:31.389520"], ["updated_at", "2016-04-08 09:11:31.389520"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?  [["authentication_token", "22NJQKUdRhy51ehuM7Wr"]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["authentication_token", "22NJQKUdRhy51ehuM7Wr"], ["updated_at", "2016-04-08 09:11:31.404926"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-08 10:11:31 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC[0m
  Rendered links/partials/_form.html.erb (1.4ms)
  Rendered links/partials/_popular_links.html.erb (1.7ms)
  Rendered pages/_top_users.html.erb (3.5ms)
  Rendered links/partials/_recent.html.erb (1.4ms)
  Rendered pages/index.html.erb within layouts/application (36.9ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 56ms (Views: 46.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-08 10:11:31 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  Rendered pages/_top_users.html.erb (1.0ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (2.9ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.4ms | ActiveRecord: 0.3ms)
Started POST "/links" for 127.0.0.1 at 2016-04-08 10:11:31 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-08 09:11:31.507384"], ["updated_at", "2016-04-08 09:11:31.507384"], ["short", "ypOhdg"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2016-04-08 10:11:31 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC
  Rendered links/partials/_form.html.erb (2.2ms)
  Rendered links/partials/_popular_links.html.erb (0.4ms)
  Rendered pages/_top_users.html.erb (2.2ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (6.3ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 12ms (Views: 8.9ms | ActiveRecord: 0.5ms)
  [1m[36m (27.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-08 10:11:31 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.5ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-08 10:11:31 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.6ms)
  Rendered devise/registrations/new.html.erb within layouts/application (9.2ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 23ms (Views: 20.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-08 10:11:31 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC[0m
  Rendered links/partials/_form.html.erb (1.8ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  Rendered pages/_top_users.html.erb (1.9ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (5.0ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 13ms (Views: 9.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-08 10:11:31 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (6.0ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.8ms)
Completed 200 OK in 20ms (Views: 18.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.8ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-08 10:11:31 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC
  Rendered links/partials/_form.html.erb (1.6ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  Rendered pages/_top_users.html.erb (1.7ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.1ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 8.5ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-08 10:11:31 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 6.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_create_an_account
--------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-08 10:11:38 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.9ms)
  Rendered devise/registrations/new.html.erb within layouts/application (4.7ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 14ms (Views: 11.1ms | ActiveRecord: 0.0ms)
Started GET "/assets/application-76c01fba91e5d9b0b350a4b6aa281e2abc3ced7fa9edf64a03924d6f0be807c0.css" for 127.0.0.1 at 2016-04-08 10:11:38 +0100
Started GET "/assets/application-6af8c7608905532ea8db24e46c871de0004eb6ca322e4372c09e416db5644c8a.js" for 127.0.0.1 at 2016-04-08 10:11:38 +0100
Started GET "/assets/roboto/Roboto-Regular-b5c9c23bd12593523a46d79dd0aee80e3226bbde4c9ac05fc30a95e2c1510de0.woff2" for 127.0.0.1 at 2016-04-08 10:11:39 +0100
Started POST "/" for 127.0.0.1 at 2016-04-08 10:11:40 +0100
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"full_name"=>"Jackson Mike", "email"=>"jack@mike.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (1.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'jack@mike.com' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "5weRGwd37Y1v-4Eatz6H"]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["full_name", "Jackson Mike"], ["email", "jack@mike.com"], ["encrypted_password", "$2a$04$BiPDKQrNtUCq0rHjvMKxfezPm9/DXrRxqMb4Nlz8YjDUKwTzJRzgS"], ["authentication_token", "5weRGwd37Y1v-4Eatz6H"], ["created_at", "2016-04-08 09:11:40.384082"], ["updated_at", "2016-04-08 09:11:40.384082"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["last_sign_in_at", "2016-04-08 09:11:40.388861"], ["current_sign_in_at", "2016-04-08 09:11:40.388861"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2016-04-08 09:11:40.389828"], ["id", 980190969]]
  [1m[35m (1.1ms)[0m  commit transaction
Redirected to http://127.0.0.1:64327/dashboard
Completed 302 Found in 100ms (ActiveRecord: 5.3ms)
Started GET "/dashboard" for 127.0.0.1 at 2016-04-08 10:11:40 +0100
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190969]]
  Rendered shared/_side_bar.html.erb (2.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190969]]
  Rendered links/index.html.erb within layouts/application (4.1ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 19ms (Views: 7.4ms | ActiveRecord: 0.9ms)
Started GET "/assets/jack-fdeaf761bf14b73a5f4757595efa229ce855d65d7bc00d62e1eb651f9e1af9cb.png" for 127.0.0.1 at 2016-04-08 10:11:40 +0100
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-08 10:11:41 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.6ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 36ms (Views: 35.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitorVisitsSite: test_visitor_should_login
--------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-08 10:11:41 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.4ms)
  Rendered devise/sessions/new.html.erb within layouts/application (2.4ms)
  Rendered shared/_nav_bar.html.erb (1.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 7.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2016-04-08 10:11:42 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"two@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "two@test.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "an98vnv8MZ3xmEeHKys8"]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["last_sign_in_at", "2016-04-08 09:11:42.442210"], ["current_sign_in_at", "2016-04-08 09:11:42.442210"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["authentication_token", "an98vnv8MZ3xmEeHKys8"], ["updated_at", "2016-04-08 09:11:42.444296"], ["id", 298486374]]
  [1m[36m (22.1ms)[0m  [1mcommit transaction[0m
Redirected to http://127.0.0.1:64327/dashboard
Completed 302 Found in 62ms (ActiveRecord: 23.3ms)
Started GET "/dashboard" for 127.0.0.1 at 2016-04-08 10:11:42 +0100
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 298486374]]
  Rendered shared/_side_bar.html.erb (1.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 298486374]]
  Rendered links/index.html.erb within layouts/application (2.6ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 6.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-08 10:11:43 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.3ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC[0m
  [1m[35m (0.2ms)[0m  SELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC
  Rendered links/partials/_form.html.erb (2.2ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  Rendered pages/_top_users.html.erb (1.9ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (5.5ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 13ms (Views: 9.2ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?[0m  [["active", "f"], ["updated_at", "2016-04-08 09:11:43.707426"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (5.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "custom"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?[0m  [["click_count", 1], ["updated_at", "2016-04-08 09:11:43.725258"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-08 09:11:43.744573"], ["updated_at", "2016-04-08 09:11:43.744573"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to https://google.com.ng
Completed 302 Found in 24ms (ActiveRecord: 1.2ms)
  [1m[35m (29.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "links"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-08 09:11:43', '2016-04-08 09:11:43', 980190962)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$JTjNYuqsq6xyzSfffF.jHu8OHoLCaNssqdBg/dePbBJqOtFifF5Cu', '2016-04-08 09:11:43', '2016-04-08 09:11:43', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$pAeNCHUSTeB7RYutM.nyjerJAwIkGo05NLXf/ulfGOiyzGN8TrBFC', '2016-04-08 09:11:43', '2016-04-08 09:11:43', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-08 09:11:43', '2016-04-08 09:11:43', 980190962)
  [1m[36m (5.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (1.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[36mVisit Load (0.3ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------
VisitTest: test_valid
---------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[35m (0.3ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC[0m
  [1m[35m (0.2ms)[0m  SELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC
  Rendered links/partials/_form.html.erb (2.9ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  Rendered pages/_top_users.html.erb (1.8ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (5.9ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 13ms (Views: 9.1ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-08 09:13:33', '2016-04-08 09:13:33', 980190962)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$.fLkAGiRU.Qt4vcY/s1Xveli2NCMIfTj/NGFzN6NRHXN/Oxx7s8hy', '2016-04-08 09:13:33', '2016-04-08 09:13:33', 298486374)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$65iSGUS2EaE33dU89k3BXebibqBtNi99PFLLmQHrm781jm8dOq9ge', '2016-04-08 09:13:33', '2016-04-08 09:13:33', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-08 09:13:33', '2016-04-08 09:13:33', 980190962)[0m
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["active", "f"], ["updated_at", "2016-04-08 09:13:33.995312"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["click_count", 1], ["updated_at", "2016-04-08 09:13:34.004191"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-08 09:13:34.014434"], ["updated_at", "2016-04-08 09:13:34.014434"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to https://google.com.ng
Completed 302 Found in 15ms (ActiveRecord: 1.0ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC
  [1m[36m (0.2ms)[0m  [1mSELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC[0m
  Rendered links/partials/_form.html.erb (112.8ms)
  Rendered links/partials/_popular_links.html.erb (1.4ms)
  Rendered pages/_top_users.html.erb (710.2ms)
  Rendered links/partials/_recent.html.erb (0.8ms)
  Rendered pages/index.html.erb within layouts/application (884.3ms)
  Rendered shared/_nav_bar.html.erb (1.7ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 924ms (Views: 920.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (7.8ms)
  Rendered visits/new.html.erb within layouts/application (10.4ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 19ms (Views: 18.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (2.2ms)
  Rendered shared/_nav_bar.html.erb (1.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 8.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "visits" WHERE "visits"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT "visits".* FROM "visits"[0m
  Rendered visits/index.html.erb within layouts/application (1.7ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 7ms (Views: 6.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["link_id", 980190962], ["created_at", "2016-04-08 09:13:35.026530"], ["updated_at", "2016-04-08 09:13:35.026530"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/_form.html.erb (5.5ms)
  Rendered visits/edit.html.erb within layouts/application (6.4ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 12ms (Views: 11.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "SU9DQvNS3GGMkcSVyDRq"]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["authentication_token", "SU9DQvNS3GGMkcSVyDRq"], ["updated_at", "2016-04-08 09:13:35.086078"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 09:13:35.097632"], ["updated_at", "2016-04-08 09:13:35.097632"], ["short", "TdgeQg"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (2.9ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35mLink Load (0.2ms)[0m  SELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (9.4ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 22ms (Views: 18.0ms | ActiveRecord: 1.3ms)
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (25.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 09:13:35.161867"], ["updated_at", "2016-04-08 09:13:35.161867"], ["short", "wdzp_g"]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (3.3ms)
  Rendered links/partials/_form.html.erb (2.6ms)
  Rendered links/new.html.erb within layouts/application (9.7ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 24ms (Views: 19.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 09:13:35.194957"], ["updated_at", "2016-04-08 09:13:35.194957"], ["short", "GLiSzA"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"GLiSzA", "user_id"=>"980190962"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "GLiSzA"], ["created_at", "2016-04-08 09:13:35.201921"], ["updated_at", "2016-04-08 09:13:35.201921"]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 7ms (ActiveRecord: 1.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 09:13:35.210689"], ["updated_at", "2016-04-08 09:13:35.210689"], ["short", "gsTDRw"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.8ms)
  [1m[36mVisit Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1[0m  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (20.1ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 36ms (Views: 31.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 09:13:35.253491"], ["updated_at", "2016-04-08 09:13:35.253491"], ["short", "CzYnlQ"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"CzYnlQ", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/links/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 09:13:35.266448"], ["updated_at", "2016-04-08 09:13:35.266448"], ["short", "prZbzA"]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "links" WHERE "links"."id" = ?  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/dashboard
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 09:13:35.283487"], ["updated_at", "2016-04-08 09:13:35.283487"], ["short", "v_6LpA"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.9ms)
  Rendered links/partials/_form.html.erb (4.1ms)
  Rendered links/edit.html.erb within layouts/application (6.1ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 10.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------
VisitTest: test_valid
---------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-08 10:13:35 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.5ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 15ms (Views: 5.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-08 10:13:35 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC
  Rendered links/partials/_form.html.erb (1.3ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  Rendered pages/_top_users.html.erb (1.1ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.1ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 5.6ms | ActiveRecord: 0.3ms)
Started POST "/links" for 127.0.0.1 at 2016-04-08 10:13:35 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-08 09:13:35.378625"], ["updated_at", "2016-04-08 09:13:35.378625"], ["short", "gJEZhQ"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2016-04-08 10:13:35 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC
  Rendered links/partials/_form.html.erb (1.3ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  Rendered pages/_top_users.html.erb (2.0ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (4.5ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 7.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-08 10:13:35 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (3.2ms)
  Rendered devise/registrations/new.html.erb within layouts/application (13.3ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 33ms (Views: 29.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-08 10:13:35 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (5.5ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 22ms (Views: 19.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-08 10:13:35 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (1.1ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 8.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-08 10:13:35 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35m (0.2ms)[0m  SELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC[0m
  Rendered links/partials/_form.html.erb (2.3ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  Rendered pages/_top_users.html.erb (1.6ms)
  Rendered links/partials/_recent.html.erb (0.4ms)
  Rendered pages/index.html.erb within layouts/application (5.6ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 9.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_create_an_account
--------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-08 10:13:35 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC
  Rendered links/partials/_form.html.erb (1.4ms)
  Rendered links/partials/_popular_links.html.erb (0.4ms)
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.0ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 7.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-08 10:13:35 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-08 10:13:35 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC[0m
  Rendered links/partials/_form.html.erb (1.3ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.7ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 6.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
VisitorVisitsSite: test_visitor_should_login
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-08 10:13:35 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.7ms)
  Rendered pages/_top_users.html.erb (1.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.7ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 11.4ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-08 09:14:21', '2016-04-08 09:14:21', 980190962)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$6M9mAuJR7m1LuscdKhi53ufXmdL4UbY.VICpfeCbeuX/v8fpvyfBW', '2016-04-08 09:14:21', '2016-04-08 09:14:21', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$T0n2Essd05PLYvSSvkOejuh1Y5GFh3C5cmWr8DA43aOY9/iaEn/Cu', '2016-04-08 09:14:21', '2016-04-08 09:14:21', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-08 09:14:21', '2016-04-08 09:14:21', 980190962)[0m
  [1m[35m (254.4ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC
  Rendered links/partials/_form.html.erb (32.0ms)
  Rendered links/partials/_popular_links.html.erb (0.6ms)
  Rendered pages/_top_users.html.erb (326.8ms)
  Rendered links/partials/_recent.html.erb (1.0ms)
  Rendered pages/index.html.erb within layouts/application (375.4ms)
  Rendered shared/_nav_bar.html.erb (3.1ms)
  Rendered shared/_footer.html.erb (0.6ms)
Completed 200 OK in 418ms (Views: 407.7ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[36mVisit Load (0.4ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["link_id", 980190962], ["created_at", "2016-04-08 09:14:22.602537"], ["updated_at", "2016-04-08 09:14:22.602537"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190963
Completed 302 Found in 7ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (38.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (1.8ms)
  Rendered shared/_nav_bar.html.erb (1.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 23ms (Views: 18.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (16.6ms)
  Rendered visits/new.html.erb within layouts/application (21.4ms)
  Rendered shared/_nav_bar.html.erb (1.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 31ms (Views: 30.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "visits" WHERE "visits"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/_form.html.erb (5.7ms)
  Rendered visits/edit.html.erb within layouts/application (7.3ms)
  Rendered shared/_nav_bar.html.erb (1.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 19ms (Views: 18.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[35mVisit Load (0.3ms)[0m  SELECT "visits".* FROM "visits"
  Rendered visits/index.html.erb within layouts/application (3.2ms)
  Rendered shared/_nav_bar.html.erb (1.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 13ms (Views: 11.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitorVisitsSite: test_visitor_should_login
--------------------------------------------
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-08 10:14:23 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.5ms)
  Rendered devise/sessions/new.html.erb within layouts/application (10.9ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 37ms (Views: 24.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-08 10:14:23 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC[0m
  Rendered links/partials/_form.html.erb (1.6ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  Rendered pages/_top_users.html.erb (1.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.1ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 7.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-08 10:14:23 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.5ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-08 10:14:23 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.5ms)
  Rendered devise/registrations/new.html.erb within layouts/application (2.8ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 12ms (Views: 11.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-08 10:14:23 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC
  Rendered links/partials/_form.html.erb (1.3ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  Rendered pages/_top_users.html.erb (1.1ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.2ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-08 10:14:23 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-08 10:14:23 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_create_an_account
--------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-08 10:14:23 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35m (0.3ms)[0m  SELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC[0m
  Rendered links/partials/_form.html.erb (2.7ms)
  Rendered links/partials/_popular_links.html.erb (0.3ms)
  Rendered pages/_top_users.html.erb (3.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (8.3ms)
  Rendered shared/_nav_bar.html.erb (1.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 20ms (Views: 14.5ms | ActiveRecord: 0.7ms)
Started POST "/links" for 127.0.0.1 at 2016-04-08 10:14:23 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)[0m  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-08 09:14:23.606927"], ["updated_at", "2016-04-08 09:14:23.606927"], ["short", "VtQvkw"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 18ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2016-04-08 10:14:23 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC
  [1m[36m (0.6ms)[0m  [1mSELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC[0m
  Rendered links/partials/_form.html.erb (1.6ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  Rendered pages/_top_users.html.erb (1.7ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.9ms)
  Rendered shared/_nav_bar.html.erb (2.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 14ms (Views: 10.4ms | ActiveRecord: 0.9ms)
  [1m[35m (9.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-08 10:14:23 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC[0m
  [1m[35m (0.2ms)[0m  SELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC
  Rendered links/partials/_form.html.erb (1.7ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  Rendered pages/_top_users.html.erb (2.2ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (5.4ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 14ms (Views: 10.9ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-08 10:14:23 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC[0m
  Rendered links/partials/_form.html.erb (1.3ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  Rendered pages/_top_users.html.erb (1.2ms)
  Rendered links/partials/_recent.html.erb (0.4ms)
  Rendered pages/index.html.erb within layouts/application (3.9ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 11ms (Views: 8.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
VisitTest: test_valid
---------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["click_count", 1], ["updated_at", "2016-04-08 09:14:23.728117"], ["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-08 09:14:23.733356"], ["updated_at", "2016-04-08 09:14:23.733356"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to https://google.com.ng
Completed 302 Found in 10ms (ActiveRecord: 0.9ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?[0m  [["active", "f"], ["updated_at", "2016-04-08 09:14:23.740251"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (1.5ms)[0m  [1mbegin transaction[0m
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "xgxitDHXxWWaFASb2xip"]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["authentication_token", "xgxitDHXxWWaFASb2xip"], ["updated_at", "2016-04-08 09:14:23.780260"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 09:14:23.812043"], ["updated_at", "2016-04-08 09:14:23.812043"], ["short", "5F5rIg"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"5F5rIg", "user_id"=>"980190962"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "5F5rIg"], ["created_at", "2016-04-08 09:14:23.821362"], ["updated_at", "2016-04-08 09:14:23.821362"]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 8ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 09:14:23.832736"], ["updated_at", "2016-04-08 09:14:23.832736"], ["short", "nMJaGg"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.6ms)
  [1m[36mVisit Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1[0m  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (16.8ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 30ms (Views: 27.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 09:14:23.870729"], ["updated_at", "2016-04-08 09:14:23.870729"], ["short", "QeXhsA"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.2ms)
  Rendered links/partials/_form.html.erb (2.3ms)
  Rendered links/edit.html.erb within layouts/application (4.7ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 8.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 09:14:23.887327"], ["updated_at", "2016-04-08 09:14:23.887327"], ["short", "K_D37A"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.6ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (4.9ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 8.5ms | ActiveRecord: 0.4ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 09:14:23.904785"], ["updated_at", "2016-04-08 09:14:23.904785"], ["short", "RqBu1g"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"RqBu1g", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/links/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 09:14:23.924089"], ["updated_at", "2016-04-08 09:14:23.924089"], ["short", "l_dDSg"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "links" WHERE "links"."id" = ?[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 09:14:23.937058"], ["updated_at", "2016-04-08 09:14:23.937058"], ["short", "7wSIdg"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.8ms)
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/new.html.erb within layouts/application (2.6ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 7.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-08 09:15:13', '2016-04-08 09:15:13', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$VyhNp5r04hWP/aPPgwt0beMI1v2oeFkaEVcV9KiOnKbNg6/wXcGx6', '2016-04-08 09:15:13', '2016-04-08 09:15:13', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$bsrVingpPrTL.qGRofI5S.zFdA9J4BBkoJPNwSUl/r6u/h1neQyRq', '2016-04-08 09:15:13', '2016-04-08 09:15:13', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-08 09:15:13', '2016-04-08 09:15:13', 980190962)[0m
  [1m[35m (3.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
VisitTest: test_valid
---------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC[0m
  Rendered links/partials/_form.html.erb (23.2ms)
  Rendered links/partials/_popular_links.html.erb (0.9ms)
  Rendered pages/_top_users.html.erb (347.2ms)
  Rendered links/partials/_recent.html.erb (1.2ms)
  Rendered pages/index.html.erb within layouts/application (390.8ms)
  Rendered shared/_nav_bar.html.erb (3.0ms)
  Rendered shared/_footer.html.erb (0.8ms)
Completed 200 OK in 430ms (Views: 422.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 09:15:13.953272"], ["updated_at", "2016-04-08 09:15:13.953272"], ["short", "ieLgyw"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"ieLgyw", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/links/980190963
Completed 302 Found in 9ms (ActiveRecord: 0.6ms)
  [1m[35m (2.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 09:15:13.987067"], ["updated_at", "2016-04-08 09:15:13.987067"], ["short", "JSwEjQ"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.9ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (3.5ms)
  Rendered links/partials/_form.html.erb (2.1ms)
  Rendered links/new.html.erb within layouts/application (11.1ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 31ms (Views: 26.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 09:15:14.031614"], ["updated_at", "2016-04-08 09:15:14.031614"], ["short", "T3h0bg"]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (7.6ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 19ms (Views: 15.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 09:15:14.063370"], ["updated_at", "2016-04-08 09:15:14.063370"], ["short", "12ihug"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.6ms)
  [1m[35mVisit Exists (0.2ms)[0m  SELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (23.7ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 34ms (Views: 31.6ms | ActiveRecord: 0.4ms)
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 09:15:14.111149"], ["updated_at", "2016-04-08 09:15:14.111149"], ["short", "TlFu3w"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "links" WHERE "links"."id" = ?[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/dashboard
Completed 302 Found in 8ms (ActiveRecord: 1.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 09:15:14.134761"], ["updated_at", "2016-04-08 09:15:14.134761"], ["short", "Ly8b2A"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.7ms)
  Rendered links/partials/_form.html.erb (7.7ms)
  Rendered links/edit.html.erb within layouts/application (11.6ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 23ms (Views: 20.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 09:15:14.170288"], ["updated_at", "2016-04-08 09:15:14.170288"], ["short", "6HF7Pg"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"6HF7Pg", "user_id"=>"980190962"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "6HF7Pg"], ["created_at", "2016-04-08 09:15:14.190009"], ["updated_at", "2016-04-08 09:15:14.190009"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 12ms (ActiveRecord: 1.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["click_count", 1], ["updated_at", "2016-04-08 09:15:14.216257"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-08 09:15:14.224099"], ["updated_at", "2016-04-08 09:15:14.224099"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to https://google.com.ng
Completed 302 Found in 14ms (ActiveRecord: 1.5ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[36mLink Load (0.4ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?[0m  [["active", "f"], ["updated_at", "2016-04-08 09:15:14.267886"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "visits" WHERE "visits"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["link_id", 980190962], ["created_at", "2016-04-08 09:15:14.302342"], ["updated_at", "2016-04-08 09:15:14.302342"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190963
Completed 302 Found in 6ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[35mVisit Load (0.1ms)[0m  SELECT "visits".* FROM "visits"
  Rendered visits/index.html.erb within layouts/application (2.0ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 13.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/_form.html.erb (9.5ms)
  Rendered visits/edit.html.erb within layouts/application (12.0ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 19ms (Views: 18.5ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mVisit Load (0.3ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (3.3ms)
  Rendered visits/new.html.erb within layouts/application (4.0ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 8.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[35mVisit Load (0.4ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (1.3ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-08 10:15:14 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.5ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 14ms (Views: 5.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-08 10:15:14 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.9ms)
  Rendered devise/sessions/new.html.erb within layouts/application (10.2ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 26ms (Views: 23.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-08 10:15:14 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC
  Rendered links/partials/_form.html.erb (1.6ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  Rendered pages/_top_users.html.erb (1.0ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.4ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitorVisitsSite: test_visitor_should_login
--------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-08 10:15:19 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.8ms)
  Rendered devise/sessions/new.html.erb within layouts/application (3.8ms)
  Rendered shared/_nav_bar.html.erb (6.3ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 21ms (Views: 16.7ms | ActiveRecord: 0.0ms)
Started GET "/assets/application-76c01fba91e5d9b0b350a4b6aa281e2abc3ced7fa9edf64a03924d6f0be807c0.css" for 127.0.0.1 at 2016-04-08 10:15:19 +0100
Started GET "/assets/application-6af8c7608905532ea8db24e46c871de0004eb6ca322e4372c09e416db5644c8a.js" for 127.0.0.1 at 2016-04-08 10:15:19 +0100
Started GET "/assets/roboto/Roboto-Regular-b5c9c23bd12593523a46d79dd0aee80e3226bbde4c9ac05fc30a95e2c1510de0.woff2" for 127.0.0.1 at 2016-04-08 10:15:20 +0100
Started POST "/login" for 127.0.0.1 at 2016-04-08 10:15:22 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"two@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "two@test.com"]]
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "ztkAd23RJW9qtNxRNsb1"]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["last_sign_in_at", "2016-04-08 09:15:22.252143"], ["current_sign_in_at", "2016-04-08 09:15:22.252143"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["authentication_token", "ztkAd23RJW9qtNxRNsb1"], ["updated_at", "2016-04-08 09:15:22.256124"], ["id", 298486374]]
  [1m[36m (8.4ms)[0m  [1mcommit transaction[0m
Redirected to http://127.0.0.1:64480/dashboard
Completed 302 Found in 60ms (ActiveRecord: 11.3ms)
Started GET "/dashboard" for 127.0.0.1 at 2016-04-08 10:15:22 +0100
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 298486374]]
  Rendered shared/_side_bar.html.erb (2.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 298486374]]
  Rendered links/index.html.erb within layouts/application (4.3ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 22ms (Views: 10.1ms | ActiveRecord: 2.7ms)
Started GET "/assets/jack-fdeaf761bf14b73a5f4757595efa229ce855d65d7bc00d62e1eb651f9e1af9cb.png" for 127.0.0.1 at 2016-04-08 10:15:22 +0100
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-08 10:15:22 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC
  Rendered links/partials/_form.html.erb (1.6ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  Rendered pages/_top_users.html.erb (1.0ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.5ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 7.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-08 10:15:22 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC[0m
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  Rendered pages/_top_users.html.erb (0.9ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (2.8ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.0ms | ActiveRecord: 0.5ms)
Started POST "/links" for 127.0.0.1 at 2016-04-08 10:15:22 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)[0m  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-08 09:15:22.722309"], ["updated_at", "2016-04-08 09:15:22.722309"], ["short", "CQQsEQ"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.8ms)
Started GET "/" for 127.0.0.1 at 2016-04-08 10:15:22 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC[0m
  Rendered links/partials/_form.html.erb (1.7ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  Rendered pages/_top_users.html.erb (1.9ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (5.1ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 8.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-08 10:15:22 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.6ms)
  Rendered devise/registrations/new.html.erb within layouts/application (3.3ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 17ms (Views: 15.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-08 10:15:22 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.7ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 7.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-08 10:15:22 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC[0m
  [1m[35m (0.2ms)[0m  SELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC
  Rendered links/partials/_form.html.erb (1.7ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  Rendered pages/_top_users.html.erb (1.0ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.6ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-08 10:15:22 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC[0m
  Rendered links/partials/_form.html.erb (1.5ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  Rendered pages/_top_users.html.erb (1.7ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (4.7ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 7.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_create_an_account
--------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-08 10:15:22 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.2ms)
  Rendered devise/registrations/new.html.erb within layouts/application (1.4ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.0ms)
Started POST "/" for 127.0.0.1 at 2016-04-08 10:15:23 +0100
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"full_name"=>"Jackson Mike", "email"=>"jack@mike.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'jack@mike.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?  [["authentication_token", "zV6Mmgoi6ijd1i2pMrwx"]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["full_name", "Jackson Mike"], ["email", "jack@mike.com"], ["encrypted_password", "$2a$04$j6om4eQ/aktWmeToMtikEe6grqyemegDGJmnwdzniEoq5fsTbpSke"], ["authentication_token", "zV6Mmgoi6ijd1i2pMrwx"], ["created_at", "2016-04-08 09:15:23.713969"], ["updated_at", "2016-04-08 09:15:23.713969"]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["last_sign_in_at", "2016-04-08 09:15:23.718738"], ["current_sign_in_at", "2016-04-08 09:15:23.718738"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2016-04-08 09:15:23.720242"], ["id", 980190970]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
Redirected to http://127.0.0.1:64480/dashboard
Completed 302 Found in 28ms (ActiveRecord: 4.5ms)
Started GET "/dashboard" for 127.0.0.1 at 2016-04-08 10:15:23 +0100
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190970]]
  Rendered shared/_side_bar.html.erb (1.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190970]]
  Rendered links/index.html.erb within layouts/application (2.1ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.6ms)
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-08 10:15:24 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.7ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "links"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-08 09:15:24', '2016-04-08 09:15:24', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$vQVvr4thcCyTBFPBERk02u9Wgx4Go23hDyzzLyMIIQF08aIVNL6eC', '2016-04-08 09:15:24', '2016-04-08 09:15:24', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$b8CHuNnGUmGuh5J9Hev04ucMQPFY9d2xHHEnCoHo/bY7BWrP2Ptdy', '2016-04-08 09:15:24', '2016-04-08 09:15:24', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-08 09:15:24', '2016-04-08 09:15:24', 980190962)
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?  [["authentication_token", "ixTykoySWbmPjjsFQbw8"]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["authentication_token", "ixTykoySWbmPjjsFQbw8"], ["updated_at", "2016-04-08 09:15:24.094200"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-08 09:30:00', '2016-04-08 09:30:00', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$bE6dfJEo6s7RCwigjM3BY.wnBcOOf/RxJTunBQh3QFOec9DvIiCiO', '2016-04-08 09:30:00', '2016-04-08 09:30:00', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$.11bR2y8YeUyhxMqRNd9JOu5AxxoLxl3FIaOHGsTPcJTBTBpxHqFO', '2016-04-08 09:30:00', '2016-04-08 09:30:00', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-08 09:30:00', '2016-04-08 09:30:00', 980190962)[0m
  [1m[35m (2.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190962
Completed 302 Found in 10ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.0ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "visits" WHERE "visits"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.0ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (2.9ms)
  Rendered shared/_nav_bar.html.erb (8.4ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 312ms (Views: 311.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[35mVisit Load (0.1ms)[0m  SELECT "visits".* FROM "visits"
  Rendered visits/index.html.erb within layouts/application (1.6ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (32.9ms)
  Rendered visits/new.html.erb within layouts/application (36.5ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 43ms (Views: 42.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["link_id", 980190962], ["created_at", "2016-04-08 09:30:01.004701"], ["updated_at", "2016-04-08 09:30:01.004701"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (1.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.0ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/_form.html.erb (4.5ms)
  Rendered visits/edit.html.erb within layouts/application (5.6ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 12ms (Views: 11.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 09:30:01.037213"], ["updated_at", "2016-04-08 09:30:01.037213"], ["short", "FwoeNg"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"FwoeNg", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/links/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 09:30:01.068357"], ["updated_at", "2016-04-08 09:30:01.068357"], ["short", "SbwU7A"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "links" WHERE "links"."id" = ?  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/dashboard
Completed 302 Found in 7ms (ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 09:30:01.086952"], ["updated_at", "2016-04-08 09:30:01.086952"], ["short", "wwd_yg"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.7ms)
  Rendered links/partials/_form.html.erb (7.4ms)
  Rendered links/edit.html.erb within layouts/application (15.5ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 28ms (Views: 24.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 09:30:01.123074"], ["updated_at", "2016-04-08 09:30:01.123074"], ["short", "Ev7Z1A"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.3ms)
  [1m[36mVisit Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1[0m  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (54.0ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 59ms (Views: 57.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 09:30:01.189219"], ["updated_at", "2016-04-08 09:30:01.189219"], ["short", "DbIDLg"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.9ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (4.7ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 8.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 09:30:01.207451"], ["updated_at", "2016-04-08 09:30:01.207451"], ["short", "Uyspfw"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.9ms)
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/new.html.erb within layouts/application (3.0ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 9.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-08 09:30:01.227548"], ["updated_at", "2016-04-08 09:30:01.227548"], ["short", "8AKUFA"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"8AKUFA", "user_id"=>"980190962"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "8AKUFA"], ["created_at", "2016-04-08 09:30:01.234112"], ["updated_at", "2016-04-08 09:30:01.234112"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 6ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------
VisitTest: test_valid
---------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-08 10:30:01 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (0.6ms)
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.5ms)
  Rendered pages/index.html.erb within layouts/application (9.9ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 20.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_create_an_account
--------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-08 10:30:04 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (2.6ms)
  Rendered devise/registrations/new.html.erb within layouts/application (10.6ms)
  Rendered shared/_nav_bar.html.erb (1.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 30ms (Views: 24.9ms | ActiveRecord: 0.0ms)
Started GET "/assets/application-76c01fba91e5d9b0b350a4b6aa281e2abc3ced7fa9edf64a03924d6f0be807c0.css" for 127.0.0.1 at 2016-04-08 10:30:04 +0100
Started GET "/assets/application-6af8c7608905532ea8db24e46c871de0004eb6ca322e4372c09e416db5644c8a.js" for 127.0.0.1 at 2016-04-08 10:30:04 +0100
Started GET "/assets/roboto/Roboto-Regular-b5c9c23bd12593523a46d79dd0aee80e3226bbde4c9ac05fc30a95e2c1510de0.woff2" for 127.0.0.1 at 2016-04-08 10:30:05 +0100
Started POST "/" for 127.0.0.1 at 2016-04-08 10:30:06 +0100
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"full_name"=>"Jackson Mike", "email"=>"jack@mike.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'jack@mike.com' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "3tf211WehsN53iGF-HLv"]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["full_name", "Jackson Mike"], ["email", "jack@mike.com"], ["encrypted_password", "$2a$04$LOCy/zdfUevdmRPwH1/ymeUOsqT8iRKYw8YwJmm7paK8kWbX8Iaj2"], ["authentication_token", "3tf211WehsN53iGF-HLv"], ["created_at", "2016-04-08 09:30:06.746144"], ["updated_at", "2016-04-08 09:30:06.746144"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["last_sign_in_at", "2016-04-08 09:30:06.750521"], ["current_sign_in_at", "2016-04-08 09:30:06.750521"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2016-04-08 09:30:06.751264"], ["id", 980190971]]
  [1m[35m (1.1ms)[0m  commit transaction
Redirected to http://127.0.0.1:64776/dashboard
Completed 302 Found in 38ms (ActiveRecord: 4.9ms)
Started GET "/dashboard" for 127.0.0.1 at 2016-04-08 10:30:06 +0100
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190971]]
  Rendered shared/_side_bar.html.erb (2.0ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190971]]
  Rendered links/index.html.erb within layouts/application (4.7ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 13ms (Views: 9.0ms | ActiveRecord: 0.8ms)
Started GET "/assets/jack-fdeaf761bf14b73a5f4757595efa229ce855d65d7bc00d62e1eb651f9e1af9cb.png" for 127.0.0.1 at 2016-04-08 10:30:06 +0100
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-08 10:30:07 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC
  [1m[36m (0.2ms)[0m  [1mSELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC[0m
  Rendered links/partials/_form.html.erb (2.6ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  Rendered pages/_top_users.html.erb (1.3ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (5.2ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 12ms (Views: 7.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-08 10:30:07 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  Rendered pages/_top_users.html.erb (1.2ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.1ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 6.6ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-08 10:30:07 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.5ms)
  Rendered shared/_nav_bar.html.erb (1.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 6.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-08 10:30:07 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC[0m
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  Rendered pages/_top_users.html.erb (1.1ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.0ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.1ms | ActiveRecord: 0.4ms)
Started POST "/links" for 127.0.0.1 at 2016-04-08 10:30:07 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)[0m  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-08 09:30:07.161840"], ["updated_at", "2016-04-08 09:30:07.161840"], ["short", "-9C2Zw"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2016-04-08 10:30:07 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC[0m
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  Rendered pages/_top_users.html.erb (2.0ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.1ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 7.0ms | ActiveRecord: 0.3ms)
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-08 10:30:07 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (6.5ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 22ms (Views: 20.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-08 10:30:07 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.9ms)
  Rendered devise/registrations/new.html.erb within layouts/application (3.1ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 7.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-08 10:30:07 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  Rendered pages/_top_users.html.erb (1.7ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.7ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-08 10:30:07 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.7ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitorVisitsSite: test_visitor_should_login
--------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-08 10:30:07 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.4ms)
  Rendered devise/sessions/new.html.erb within layouts/application (2.5ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2016-04-08 10:30:07 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"two@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "two@test.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "s71EPrDcbk_9oqnYXtvr"]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["last_sign_in_at", "2016-04-08 09:30:07.894980"], ["current_sign_in_at", "2016-04-08 09:30:07.894980"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["authentication_token", "s71EPrDcbk_9oqnYXtvr"], ["updated_at", "2016-04-08 09:30:07.897321"], ["id", 298486374]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
Redirected to http://127.0.0.1:64776/dashboard
Completed 302 Found in 31ms (ActiveRecord: 2.5ms)
Started GET "/dashboard" for 127.0.0.1 at 2016-04-08 10:30:07 +0100
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 298486374]]
  Rendered shared/_side_bar.html.erb (1.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 298486374]]
  Rendered links/index.html.erb within layouts/application (2.3ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 7.0ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-08 10:30:08 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.8ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "links"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-08 09:30:08', '2016-04-08 09:30:08', 980190962)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$dYeHevgH7e9vCTYySv1Ot.Ac.BJR/R2wMDYd2bgrLAg8CmEns5Wf6', '2016-04-08 09:30:08', '2016-04-08 09:30:08', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$hSCuLXNXZ9iqlu/aYprqOeuOvYqUdFHVai7LaJvbGZWegr3zXA09y', '2016-04-08 09:30:08', '2016-04-08 09:30:08', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-08 09:30:08', '2016-04-08 09:30:08', 980190962)
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?  [["authentication_token", "esFyMrfWoDrMgzzzkvrj"]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["authentication_token", "esFyMrfWoDrMgzzzkvrj"], ["updated_at", "2016-04-08 09:30:08.270404"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35m (0.1ms)[0m  SELECT "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC
  [1m[36m (0.1ms)[0m  [1mSELECT "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count DESC[0m
  Rendered links/partials/_form.html.erb (2.2ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  Rendered pages/_top_users.html.erb (1.2ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.5ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 7.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["active", "f"], ["updated_at", "2016-04-08 09:30:08.312967"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["click_count", 1], ["updated_at", "2016-04-08 09:30:08.324336"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-08 09:30:08.330659"], ["updated_at", "2016-04-08 09:30:08.330659"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to https://google.com.ng
Completed 302 Found in 12ms (ActiveRecord: 1.4ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
