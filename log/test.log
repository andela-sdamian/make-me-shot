  [1m[36m (2.1ms)[0m  [1mCREATE TABLE "links" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "long" varchar, "short" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "click_count" integer DEFAULT 0, "active" boolean DEFAULT 't') [0m
  [1m[35m (1.3ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "price" integer, "description" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "provider" varchar, "uid" varchar, "full_name" varchar, "links_count" integer DEFAULT 0) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.1ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (1.2ms)[0m  [1mCREATE  INDEX "index_users_on_links_count" ON "users" ("links_count")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_links_count' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_links_count' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (1.4ms)[0m  CREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "visits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "link_id" integer, "ip" varchar, "browser" varchar, "browser_version" varchar, "os" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "referer" varchar) [0m
  [1m[35m (1.8ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar NOT NULL) 
  [1m[36m (1.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160325091426')[0m
  [1m[35m (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160318094703')
  [1m[36m (1.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160318100340')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160318112914')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160318145753')[0m
  [1m[35m (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160324002901')
  [1m[36m (1.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160324151158')[0m
  [1m[35m (1.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160325061209')
  [1m[36m (1.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160325090138')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-29 21:01:02', '2016-03-29 21:01:02', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-29 21:01:02', '2016-03-29 21:01:02', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:01:02', '2016-03-29 21:01:02', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:01:02', '2016-03-29 21:01:02', 298486374)
SQLite3::ConstraintException: UNIQUE constraint failed: users.email: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:01:02', '2016-03-29 21:01:02', 298486374)
  [1m[36m (10.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-29 21:01:02', '2016-03-29 21:01:02', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-29 21:01:02', '2016-03-29 21:01:02', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:01:02', '2016-03-29 21:01:02', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:01:02', '2016-03-29 21:01:02', 298486374)
SQLite3::ConstraintException: UNIQUE constraint failed: users.email: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:01:02', '2016-03-29 21:01:02', 298486374)
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-29 21:01:02', '2016-03-29 21:01:02', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-29 21:01:02', '2016-03-29 21:01:02', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:01:02', '2016-03-29 21:01:02', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:01:02', '2016-03-29 21:01:02', 298486374)
SQLite3::ConstraintException: UNIQUE constraint failed: users.email: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:01:02', '2016-03-29 21:01:02', 298486374)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-29 21:01:02', '2016-03-29 21:01:02', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-29 21:01:02', '2016-03-29 21:01:02', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:01:02', '2016-03-29 21:01:02', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:01:02', '2016-03-29 21:01:02', 298486374)
SQLite3::ConstraintException: UNIQUE constraint failed: users.email: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:01:02', '2016-03-29 21:01:02', 298486374)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-29 21:01:02', '2016-03-29 21:01:02', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-29 21:01:02', '2016-03-29 21:01:02', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:01:02', '2016-03-29 21:01:02', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:01:02', '2016-03-29 21:01:02', 298486374)
SQLite3::ConstraintException: UNIQUE constraint failed: users.email: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:01:02', '2016-03-29 21:01:02', 298486374)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-29 21:01:02', '2016-03-29 21:01:02', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-29 21:01:02', '2016-03-29 21:01:02', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:01:02', '2016-03-29 21:01:02', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:01:02', '2016-03-29 21:01:02', 298486374)
SQLite3::ConstraintException: UNIQUE constraint failed: users.email: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:01:02', '2016-03-29 21:01:02', 298486374)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-29 21:01:02', '2016-03-29 21:01:02', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-29 21:01:02', '2016-03-29 21:01:02', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:01:02', '2016-03-29 21:01:02', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:01:02', '2016-03-29 21:01:02', 298486374)
SQLite3::ConstraintException: UNIQUE constraint failed: users.email: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:01:02', '2016-03-29 21:01:02', 298486374)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-29 21:01:02', '2016-03-29 21:01:02', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-29 21:01:02', '2016-03-29 21:01:02', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:01:02', '2016-03-29 21:01:02', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:01:02', '2016-03-29 21:01:02', 298486374)
SQLite3::ConstraintException: UNIQUE constraint failed: users.email: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:01:02', '2016-03-29 21:01:02', 298486374)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-29 21:01:02', '2016-03-29 21:01:02', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-29 21:01:02', '2016-03-29 21:01:02', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:01:02', '2016-03-29 21:01:02', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:01:02', '2016-03-29 21:01:02', 298486374)
SQLite3::ConstraintException: UNIQUE constraint failed: users.email: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:01:02', '2016-03-29 21:01:02', 298486374)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-29 21:01:02', '2016-03-29 21:01:02', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-29 21:01:02', '2016-03-29 21:01:02', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:01:02', '2016-03-29 21:01:02', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:01:02', '2016-03-29 21:01:02', 298486374)
SQLite3::ConstraintException: UNIQUE constraint failed: users.email: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:01:02', '2016-03-29 21:01:02', 298486374)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-29 21:01:02', '2016-03-29 21:01:02', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-29 21:01:02', '2016-03-29 21:01:02', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:01:02', '2016-03-29 21:01:02', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:01:02', '2016-03-29 21:01:02', 298486374)
SQLite3::ConstraintException: UNIQUE constraint failed: users.email: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:01:02', '2016-03-29 21:01:02', 298486374)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-29 21:01:02', '2016-03-29 21:01:02', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-29 21:01:02', '2016-03-29 21:01:02', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:01:02', '2016-03-29 21:01:02', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:01:02', '2016-03-29 21:01:02', 298486374)
SQLite3::ConstraintException: UNIQUE constraint failed: users.email: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:01:02', '2016-03-29 21:01:02', 298486374)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-29 21:01:02', '2016-03-29 21:01:02', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-29 21:01:02', '2016-03-29 21:01:02', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:01:02', '2016-03-29 21:01:02', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:01:02', '2016-03-29 21:01:02', 298486374)
SQLite3::ConstraintException: UNIQUE constraint failed: users.email: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:01:02', '2016-03-29 21:01:02', 298486374)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-29 21:01:02', '2016-03-29 21:01:02', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-29 21:01:02', '2016-03-29 21:01:02', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:01:02', '2016-03-29 21:01:02', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:01:02', '2016-03-29 21:01:02', 298486374)
SQLite3::ConstraintException: UNIQUE constraint failed: users.email: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:01:02', '2016-03-29 21:01:02', 298486374)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-29 21:01:02', '2016-03-29 21:01:02', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-29 21:01:02', '2016-03-29 21:01:02', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:01:02', '2016-03-29 21:01:02', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:01:02', '2016-03-29 21:01:02', 298486374)
SQLite3::ConstraintException: UNIQUE constraint failed: users.email: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:01:02', '2016-03-29 21:01:02', 298486374)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-29 21:09:24', '2016-03-29 21:09:24', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-29 21:09:24', '2016-03-29 21:09:24', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:09:24', '2016-03-29 21:09:24', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:09:24', '2016-03-29 21:09:24', 298486374)
SQLite3::ConstraintException: UNIQUE constraint failed: users.email: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:09:24', '2016-03-29 21:09:24', 298486374)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-29 21:11:45', '2016-03-29 21:11:45', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-29 21:11:45', '2016-03-29 21:11:45', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:11:45', '2016-03-29 21:11:45', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:11:45', '2016-03-29 21:11:45', 298486374)
SQLite3::ConstraintException: UNIQUE constraint failed: users.email: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2016-03-29 21:11:45', '2016-03-29 21:11:45', 298486374)
  [1m[36m (42.5ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-29 21:22:01', '2016-03-29 21:22:01', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-29 21:22:01', '2016-03-29 21:22:01', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (12.6ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$iKaP4EPd8B37JdcQ54.2DOVIglpUgvse0n0ih/uJDUDKqrqXBlbMG', '2016-03-29 21:22:01', '2016-03-29 21:22:01', 206669143)[0m
SQLite3::SQLException: table users has no column named password_digest: INSERT INTO "users" ("full_name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$iKaP4EPd8B37JdcQ54.2DOVIglpUgvse0n0ih/uJDUDKqrqXBlbMG', '2016-03-29 21:22:01', '2016-03-29 21:22:01', 206669143)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-29 21:22:29', '2016-03-29 21:22:29', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-29 21:22:29', '2016-03-29 21:22:29', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$Tr7idB1U/s71fcpNLTeL1uFVUXxr6V.PLhQhlFYkxt/m/DgiyGiJO', '2016-03-29 21:22:29', '2016-03-29 21:22:29', 206669143)[0m
SQLite3::SQLException: table users has no column named password: INSERT INTO "users" ("full_name", "email", "password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$Tr7idB1U/s71fcpNLTeL1uFVUXxr6V.PLhQhlFYkxt/m/DgiyGiJO', '2016-03-29 21:22:29', '2016-03-29 21:22:29', 206669143)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-29 21:23:26', '2016-03-29 21:23:26', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-29 21:23:26', '2016-03-29 21:23:26', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$ppkxXMhE0ZVSYau/gZV9Sua/7J1rfoqm4JrCX.2KVFyuaA4sDKynm', '2016-03-29 21:23:26', '2016-03-29 21:23:26', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrytped_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$VzN9f2JFvHosjkpn6Sk8eODfROeJfy.ERUi96eMORFzxQMJ3Codfa', '2016-03-29 21:23:26', '2016-03-29 21:23:26', 358143215)
SQLite3::SQLException: table users has no column named encrytped_password: INSERT INTO "users" ("full_name", "email", "encrytped_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$VzN9f2JFvHosjkpn6Sk8eODfROeJfy.ERUi96eMORFzxQMJ3Codfa', '2016-03-29 21:23:26', '2016-03-29 21:23:26', 358143215)
  [1m[36m (1.9ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-29 21:24:21', '2016-03-29 21:24:21', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-29 21:24:21', '2016-03-29 21:24:21', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$qqLNW21ZgEwW/Wnq57etSukQ5bnyNrGfuvx9SH7qJmMf.WVKaTLDC', '2016-03-29 21:24:21', '2016-03-29 21:24:21', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$3e.6liUT1iRXnV0NijIQv.CkS7Cbt2gxgC3g7HW7xzKccqZFAPWUK', '2016-03-29 21:24:21', '2016-03-29 21:24:21', 358143215)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-29 21:24:21', '2016-03-29 21:24:21', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-29 21:24:21', '2016-03-29 21:24:21', 298486374)[0m
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
UserTest: test_validates_email_presence
---------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-29 21:25:38', '2016-03-29 21:25:38', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-29 21:25:38', '2016-03-29 21:25:38', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$f2K.CCXetnoK/6g.0brGpOI0XMcrd9Yo4VAemfY56b/4qnDfmQyda', '2016-03-29 21:25:38', '2016-03-29 21:25:38', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$jmWTQBZCzYUx11qcpwLONOcPZLl.r0fVCCPUlAWt1ao2xiTkCxS7y', '2016-03-29 21:25:38', '2016-03-29 21:25:38', 358143215)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-29 21:25:38', '2016-03-29 21:25:38', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-29 21:25:38', '2016-03-29 21:25:38', 298486374)[0m
  [1m[35m (36.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
UserTest: test_validates_email_presence
---------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UserTest: test_validates_email_uniqueness
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 358143215]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."email" = 'jerry@mouse.com' AND "users"."id" != 206669143) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (18.6ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 06:45:58', '2016-03-30 06:45:58', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 06:45:58', '2016-03-30 06:45:58', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$eUPhffn0KFOomjsA.9tLEeSSt1BzGry51aOZg1nSTqyv4yYMTB8Si', '2016-03-30 06:45:58', '2016-03-30 06:45:58', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$6LjGWQebvZh/ialNJDSWw.HGQgtoB.LLzkfDqVRBpQIVaXLKjCg7y', '2016-03-30 06:45:58', '2016-03-30 06:45:58', 358143215)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 06:45:58', '2016-03-30 06:45:58', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 06:45:58', '2016-03-30 06:45:58', 298486374)[0m
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_validates_presence_of_email
------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."email" = 'email@a.com' AND "users"."id" != 206669143) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_validates_uniqueness_of_email
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."email" = 'jerry@mouse.com' AND "users"."id" != 206669143) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (16.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 06:47:32', '2016-03-30 06:47:32', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 06:47:32', '2016-03-30 06:47:32', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$jwyRZO4f3Ai29Vwj..GFKeVbPJ0kDtTrNMxW1/zfPtMdqDW9WO/0e', '2016-03-30 06:47:32', '2016-03-30 06:47:32', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$y5QDY4ydkb0VoJzMMMvxl.jILu03GpziQyKPO2zg8xJmRhQQUQNsS', '2016-03-30 06:47:32', '2016-03-30 06:47:32', 358143215)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 06:47:32', '2016-03-30 06:47:32', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 06:47:32', '2016-03-30 06:47:32', 298486374)[0m
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_validates_presence_of_email
------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UserTest: test_validates_uniqueness_of_email
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 358143215]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."email" = 'jerry@mouse.com' AND "users"."id" != 206669143) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (15.0ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (81.6ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 07:04:25', '2016-03-30 07:04:25', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 07:04:25', '2016-03-30 07:04:25', 298486374)[0m
  [1m[35mFixture Delete (1.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$8pXBgO57U1c/Uo9bicV7Feiqhm.qb5kxPeV08WoYkr.uupKRW5xa2', '2016-03-30 07:04:26', '2016-03-30 07:04:26', 206669143)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$dnjL0vCYzmV2z/rWP93R4e5YWQcT.zL4bOKJWvGKu84C4C8AAxWdu', '2016-03-30 07:04:26', '2016-03-30 07:04:26', 358143215)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 07:04:26', '2016-03-30 07:04:26', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 07:04:26', '2016-03-30 07:04:26', 298486374)[0m
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_validates_presence_of_email
------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UserTest: test_validates_uniqueness_of_email
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 358143215]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."email" = 'jerry@mouse.com' AND "users"."id" != 206669143) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (22.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:01:11', '2016-03-30 08:01:11', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:01:11', '2016-03-30 08:01:11', 298486374)[0m
  [1m[35mFixture Delete (1.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$1Qes5bwRx5e88xaqQ2a0DunlPfzUWqJ.pyNM0E97G96Vi/m99o8lW', '2016-03-30 08:01:11', '2016-03-30 08:01:11', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$7rKceUaLbHGwQfByFpQ9l.H2fs/jIxGCbpMYbUI1.TdpJ3pmKDqjm', '2016-03-30 08:01:11', '2016-03-30 08:01:11', 358143215)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:01:11', '2016-03-30 08:01:11', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:01:11', '2016-03-30 08:01:11', 298486374)[0m
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_should_not_register_user_on_blank_email
------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:01:23', '2016-03-30 08:01:23', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:01:23', '2016-03-30 08:01:23', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$FYvkl7pOMi3khmJjYS.3weOy/omVebvrQBdF8YuEAEwvHzJfC3vA2', '2016-03-30 08:01:23', '2016-03-30 08:01:23', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$51KhwPUBiBFJER38dmVGdeR03uendCQg3JdnaALjuB.RHnZDskNJC', '2016-03-30 08:01:23', '2016-03-30 08:01:23', 358143215)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:01:23', '2016-03-30 08:01:23', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:01:23', '2016-03-30 08:01:23', 298486374)[0m
  [1m[35m (2.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
UserTest: test_should_not_register_user_on_blank_email
------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:10:32', '2016-03-30 08:10:32', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:10:32', '2016-03-30 08:10:32', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$eFHZhLdXrAGfXnawjrjtvuLCFDuagEHDreno3QUnRWjitcUNfqaK.', '2016-03-30 08:10:32', '2016-03-30 08:10:32', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$G7O1seYh0wkg/tKCfBjEHuxbaSE4Q68Jj75.8y5VHFUTaSv/oVvQ.', '2016-03-30 08:10:32', '2016-03-30 08:10:32', 358143215)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:10:32', '2016-03-30 08:10:32', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:10:32', '2016-03-30 08:10:32', 298486374)[0m
  [1m[35m (2.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_validates_presence_of_email
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:10:51', '2016-03-30 08:10:51', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:10:51', '2016-03-30 08:10:51', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$qIqU13jpRX4jllG3nldo5Oksksfx51kF.gy3SnFibAN4DEejYe.b2', '2016-03-30 08:10:51', '2016-03-30 08:10:51', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$wHUNlcrPaH1bpSpPjBS3yu2/UGb.azh4dSORtdLnHcymIbR.pPFVW', '2016-03-30 08:10:51', '2016-03-30 08:10:51', 358143215)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:10:51', '2016-03-30 08:10:51', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:10:51', '2016-03-30 08:10:51', 298486374)[0m
  [1m[35m (2.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_validates_presence_of_email
------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:11:30', '2016-03-30 08:11:30', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:11:30', '2016-03-30 08:11:30', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$54BUXulPoGth8diF4FIKe.qUwOEzyPsOu3G7gImmmsfJRSnBODVzC', '2016-03-30 08:11:30', '2016-03-30 08:11:30', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$W8fUl9w3QbEkSUlOIHtBd.DVsa3n5pf7FYjHYy8HRkKhLbYIgAVay', '2016-03-30 08:11:30', '2016-03-30 08:11:30', 358143215)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:11:30', '2016-03-30 08:11:30', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:11:30', '2016-03-30 08:11:30', 298486374)[0m
  [1m[35m (19.0ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_validates_presence_of_email
------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:11:49', '2016-03-30 08:11:49', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:11:49', '2016-03-30 08:11:49', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$1uw8fsGezaPoZZbA7hzfROv8q7G/It/BpvfQ4fl/rs54i7hVOrlKu', '2016-03-30 08:11:49', '2016-03-30 08:11:49', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$x9Njk2usnWq1NsbGV9Wv9e95AukKPEuiWei5L14Fce5a4t.wyUmpO', '2016-03-30 08:11:49', '2016-03-30 08:11:49', 358143215)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:11:49', '2016-03-30 08:11:49', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:11:49', '2016-03-30 08:11:49', 298486374)[0m
  [1m[35m (2.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_validates_presence_of_email
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:13:24', '2016-03-30 08:13:24', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:13:24', '2016-03-30 08:13:24', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$WpCEE7bt93bOm8Fh5E9HrORkK2D7IXZjyYnB3r/VzEioWc/ALRHRW', '2016-03-30 08:13:24', '2016-03-30 08:13:24', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$JnkxrGmcGbamksxpfdK.Ce7LifIUXoBysHvWBVndbMHg6IrHkllHi', '2016-03-30 08:13:24', '2016-03-30 08:13:24', 358143215)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:13:24', '2016-03-30 08:13:24', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:13:24', '2016-03-30 08:13:24', 298486374)[0m
  [1m[35m (2.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_validates_presence_of_email
------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:13:39', '2016-03-30 08:13:39', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:13:39', '2016-03-30 08:13:39', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$pwU52mT2yPcaUA/6LH0TbeezYn3CkiZdFsstvs/7mDHonK.5efc6K', '2016-03-30 08:13:39', '2016-03-30 08:13:39', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$FXNujHPLEeOzLyR8L1DkTeOreclEv0wKs6N5zG7TC2c2pq8qqbRUe', '2016-03-30 08:13:39', '2016-03-30 08:13:39', 358143215)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:13:39', '2016-03-30 08:13:39', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:13:39', '2016-03-30 08:13:39', 298486374)[0m
  [1m[35m (2.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_validates_presence_of_email
------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:17:06', '2016-03-30 08:17:06', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:17:06', '2016-03-30 08:17:06', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$b5qzaScfr4EYu28oCbi13.FWbo31Gjpqp3yQWu4RaO8nRhL8kL.gi', '2016-03-30 08:17:06', '2016-03-30 08:17:06', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$v9u720xJD6Bwyt8MSvN8XeevmYJHzpkZSmRb5yF3UYmnLWr724D.G', '2016-03-30 08:17:06', '2016-03-30 08:17:06', 358143215)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:17:06', '2016-03-30 08:17:06', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:17:06', '2016-03-30 08:17:06', 298486374)[0m
  [1m[35m (31.8ms)[0m  commit transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_validates_presence_of_email
------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UserTest: test_validates_uniqueness_of_email
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 358143215]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."email" = 'jerry@mouse.com' AND "users"."id" != 206669143) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:17:52', '2016-03-30 08:17:52', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:17:52', '2016-03-30 08:17:52', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$PI3nROBbdlZwB6dvy27vre5IbxKBgxYHJRci9iA42ldi2l4leq62m', '2016-03-30 08:17:52', '2016-03-30 08:17:52', 206669143)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$RWeD.QAoPzI8h2LDhGYdYeBG6Iium/M9K9iUDE9/8dw53CVK4NDx.', '2016-03-30 08:17:52', '2016-03-30 08:17:52', 358143215)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:17:52', '2016-03-30 08:17:52', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:17:52', '2016-03-30 08:17:52', 298486374)[0m
  [1m[35m (3.3ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_validates_presence_of_email
------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UserTest: test_validates_uniqueness_of_email
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 358143215]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."email" = 'jerry@mouse.com' AND "users"."id" != 206669143) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:18:00', '2016-03-30 08:18:00', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:18:00', '2016-03-30 08:18:00', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$DJmQW/J/GgDLHYtlCw.x4OgLr68KryXcG3KyDCR812CtEgG3t2ahq', '2016-03-30 08:18:00', '2016-03-30 08:18:00', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$p5ChXjqpXyljMfzP..WHxu8nCsZmFuRoVWWV9qx7KZKu121DEQgtu', '2016-03-30 08:18:00', '2016-03-30 08:18:00', 358143215)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:18:00', '2016-03-30 08:18:00', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:18:00', '2016-03-30 08:18:00', 298486374)[0m
  [1m[35m (2.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_validates_presence_of_email
------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UserTest: test_validates_uniqueness_of_email
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 358143215]]
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."email" = 'jerry@mouse.com' AND "users"."id" != 206669143) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:19:40', '2016-03-30 08:19:40', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:19:40', '2016-03-30 08:19:40', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$QbZwibFEAnm9nIFBO8N/9.jpoNpJTAI81rTfzAZIrIc9q6CyWd1iW', '2016-03-30 08:19:40', '2016-03-30 08:19:40', 206669143)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$GZZB4AeE3iu7uFdA/KZmMO6zZH4XAoU1moNzxj2.lZ6UzFqV.W.Lu', '2016-03-30 08:19:40', '2016-03-30 08:19:40', 358143215)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:19:40', '2016-03-30 08:19:40', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:19:40', '2016-03-30 08:19:40', 298486374)[0m
  [1m[35m (35.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_presence_of_full_name
------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UserTest: test_validates_presence_of_email
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_validates_uniqueness_of_email
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."email" = 'jerry@mouse.com' AND "users"."id" != 206669143) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:19:50', '2016-03-30 08:19:50', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:19:50', '2016-03-30 08:19:50', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$gdTOWzaeZuiXPUvfpA9cSOE58DaB1Up3LjZ2p4AyjwKNwbPUjjoGi', '2016-03-30 08:19:50', '2016-03-30 08:19:50', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$T.ym2hiEKxUM2Uz3hnFDZuPrJEKCR3f259n3vcFGsuBwcuy5vFb66', '2016-03-30 08:19:50', '2016-03-30 08:19:50', 358143215)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:19:50', '2016-03-30 08:19:50', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:19:50', '2016-03-30 08:19:50', 298486374)[0m
  [1m[35m (3.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_presence_of_full_name
------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UserTest: test_validates_uniqueness_of_email
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 358143215]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."email" = 'jerry@mouse.com' AND "users"."id" != 206669143) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_validates_presence_of_email
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:20:02', '2016-03-30 08:20:02', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:20:02', '2016-03-30 08:20:02', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$wlkPZqWVQ8RD6Y2eE3FjretBznaM1QC4t2c97Wt4SqRr.0mlHU0K6', '2016-03-30 08:20:02', '2016-03-30 08:20:02', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$7qVmkPSfP0iz/0tgQT013OPQUntCofWfzeMKvKiHbvgjL/RqYbLia', '2016-03-30 08:20:02', '2016-03-30 08:20:02', 358143215)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:20:02', '2016-03-30 08:20:02', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:20:02', '2016-03-30 08:20:02', 298486374)[0m
  [1m[35m (11.4ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_presence_of_full_name
------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UserTest: test_validates_presence_of_email
------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_validates_uniqueness_of_email
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."email" = 'jerry@mouse.com' AND "users"."id" != 206669143) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:20:07', '2016-03-30 08:20:07', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:20:07', '2016-03-30 08:20:07', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$h9baq.oyOu/5E6hHue8Bs.b8mGzlt6ofOqu2xeuJlUiP2lHsfSoDK', '2016-03-30 08:20:07', '2016-03-30 08:20:07', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$IXPDIo/UTRlSmyAUYRJPVeEZFATtXdfcDMwylRF.2fxsF370rEq9y', '2016-03-30 08:20:07', '2016-03-30 08:20:07', 358143215)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:20:07', '2016-03-30 08:20:07', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:20:07', '2016-03-30 08:20:07', 298486374)[0m
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_presence_of_full_name
------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UserTest: test_validates_uniqueness_of_email
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 358143215]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."email" = 'jerry@mouse.com' AND "users"."id" != 206669143) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_validates_presence_of_email
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:20:18', '2016-03-30 08:20:18', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:20:18', '2016-03-30 08:20:18', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$hksj7pR55rjldhydlQiusu.u9Hudp.4LEj06p5sDcNnb9zOyNx1QK', '2016-03-30 08:20:18', '2016-03-30 08:20:18', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$5g6Nlpie8dRY9e0bh2tS8u1EMhiVFAkmJwZNVL.BZqUHTwSoUZfru', '2016-03-30 08:20:18', '2016-03-30 08:20:18', 358143215)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:20:18', '2016-03-30 08:20:18', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:20:18', '2016-03-30 08:20:18', 298486374)[0m
  [1m[35m (12.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_presence_of_full_name
------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UserTest: test_validates_presence_of_email
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_validates_uniqueness_of_email
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."email" = 'jerry@mouse.com' AND "users"."id" != 206669143) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:32:17', '2016-03-30 08:32:17', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:32:17', '2016-03-30 08:32:17', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$Mkytw6kHhJAgTTYPslMInumqHwlEFJoGuc..PNvKShfaAXOxLDfbi', '2016-03-30 08:32:17', '2016-03-30 08:32:17', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$orOnEf3VDvh4WWA3BtPNBuonGl1SiSyVIHvj76DeR1m6qP4J3WIiK', '2016-03-30 08:32:17', '2016-03-30 08:32:17', 358143215)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:32:17', '2016-03-30 08:32:17', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:32:17', '2016-03-30 08:32:17', 298486374)[0m
  [1m[35m (31.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------
UserTest: test_presence_of_email
--------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:32:38', '2016-03-30 08:32:38', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:32:38', '2016-03-30 08:32:38', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$C1E.vGgIapMAGRCyOpYLa.6Hl4Vezhr/tpk6RUh/U.kRJib/9nuXy', '2016-03-30 08:32:38', '2016-03-30 08:32:38', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$OTQVUEveVBouaWfFVoFPoOe48ey2TZ8lnQeoR4hGhNRS7jMritrt.', '2016-03-30 08:32:38', '2016-03-30 08:32:38', 358143215)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:32:38', '2016-03-30 08:32:38', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:32:38', '2016-03-30 08:32:38', 298486374)[0m
  [1m[35m (2.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserTest: test_presence_of_email
--------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:32:54', '2016-03-30 08:32:54', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:32:54', '2016-03-30 08:32:54', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$2bM16tKbMe0Ya.ZNHEoa4eYN0aFqUH5e4P.CqWEQ6qcrSH9yGn1hu', '2016-03-30 08:32:54', '2016-03-30 08:32:54', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$UJ0Q.PXRD/84JTsMdOepWe7orP1TLrrHIDPUQkFISmk.obrAgDuQ6', '2016-03-30 08:32:54', '2016-03-30 08:32:54', 358143215)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:32:54', '2016-03-30 08:32:54', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:32:54', '2016-03-30 08:32:54', 298486374)[0m
  [1m[35m (29.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------
UserTest: test_presence_of_email
--------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:34:03', '2016-03-30 08:34:03', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:34:03', '2016-03-30 08:34:03', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$e9Zcaxmr/oZUlbqg7FDUwul2WYrtgOfRwSuQcBudxUZry9.3pCcTa', '2016-03-30 08:34:03', '2016-03-30 08:34:03', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$jxoQLQAMAgFe3Du/G6cxre415TRdSYGHBQnwkmw8OCNojCBqn9s.q', '2016-03-30 08:34:03', '2016-03-30 08:34:03', 358143215)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:34:03', '2016-03-30 08:34:03', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:34:03', '2016-03-30 08:34:03', 298486374)[0m
  [1m[35m (14.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------
UserTest: test_presence_of_email
--------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------
UserTest: test_should_not_save_data_with_no_email
-------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:34:24', '2016-03-30 08:34:24', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:34:24', '2016-03-30 08:34:24', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$XsJLhzPPkDxmxzSY1xsCceH3CHF2gq98j4gnSLmgow5BsWjcf0hrK', '2016-03-30 08:34:24', '2016-03-30 08:34:24', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$UvbvtUepSMZ62DdUkQxLneH.f8YRENLmgVSnRsGq9AWxW81F6GfXO', '2016-03-30 08:34:24', '2016-03-30 08:34:24', 358143215)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:34:24', '2016-03-30 08:34:24', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:34:24', '2016-03-30 08:34:24', 298486374)[0m
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserTest: test_presence_of_email
--------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------
UserTest: test_should_not_save_data_with_no_email
-------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:34:53', '2016-03-30 08:34:53', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:34:53', '2016-03-30 08:34:53', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$CObcVUZnby3PEZFjBGZdfuGQKQ6Nvh6TbMDfqzjOWfdadKqHu1fzC', '2016-03-30 08:34:53', '2016-03-30 08:34:53', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$uPMXJPYo7o9KtkMevGVSYu8LlEOJDafDerB92WyefVpl6UNbJ.PUO', '2016-03-30 08:34:53', '2016-03-30 08:34:53', 358143215)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:34:53', '2016-03-30 08:34:53', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:34:53', '2016-03-30 08:34:53', 298486374)[0m
  [1m[35m (3.1ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_data_with_no_email
-------------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------
UserTest: test_presence_of_email
--------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:35:07', '2016-03-30 08:35:07', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:35:07', '2016-03-30 08:35:07', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$f75K1cIFNjNu0etFEeakKu8yjlJGGOOdZx53wQ7vwpTIcr1rQPspi', '2016-03-30 08:35:07', '2016-03-30 08:35:07', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$zAwGWODngKt1NU2D6UjNwOX8myxT48GoiHPi23PqdC4sDv17xV00W', '2016-03-30 08:35:07', '2016-03-30 08:35:07', 358143215)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:35:07', '2016-03-30 08:35:07', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:35:07', '2016-03-30 08:35:07', 298486374)[0m
  [1m[35m (30.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_data_with_no_email
-------------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------
UserTest: test_presence_of_email
--------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:36:23', '2016-03-30 08:36:23', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:36:23', '2016-03-30 08:36:23', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$CRxLZffnfreEQ.EVALh5D.UOMRGEnDuNqdS.gKaay14PRbsHEmvxm', '2016-03-30 08:36:23', '2016-03-30 08:36:23', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$eV35p2cuajLWIWBNKy1kze7TB79pCwrzO0kWNYZDLSUQ5xSRkkEsK', '2016-03-30 08:36:23', '2016-03-30 08:36:23', 358143215)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:36:23', '2016-03-30 08:36:23', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:36:23', '2016-03-30 08:36:23', 298486374)[0m
  [1m[35m (2.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_data_with_no_email
-------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------
UserTest: test_presence_of_email
--------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_validates_uniqueness_of_email
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:36:43', '2016-03-30 08:36:43', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:36:43', '2016-03-30 08:36:43', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$cK6Eq8B7iHeYKVOKJ0uWSeMcpJZP0kkSE5t9xKu0seCgw.dKqtMMq', '2016-03-30 08:36:43', '2016-03-30 08:36:43', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$5wKKkjDBm4AJ1AUM45Cq9eTxmQgPReUsj.zOlvj8uI8Ffv6CmaeSC', '2016-03-30 08:36:43', '2016-03-30 08:36:43', 358143215)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:36:43', '2016-03-30 08:36:43', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:36:43', '2016-03-30 08:36:43', 298486374)[0m
  [1m[35m (2.7ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------
UserTest: test_presence_of_email
--------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------
UserTest: test_should_not_save_data_with_no_email
-------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_validates_uniqueness_of_email
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:42:13', '2016-03-30 08:42:13', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:42:13', '2016-03-30 08:42:13', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$QQJy28muSYaLXc0yD6BVwe00ni26cOatTtpsCetdFoXv6eNIqqsDG', '2016-03-30 08:42:13', '2016-03-30 08:42:13', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$4mx89RAZDs4eSF6H3z3LJuknXKs/O0V4zQUBsNAUjNOM1OArdMIvS', '2016-03-30 08:42:13', '2016-03-30 08:42:13', 358143215)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:42:13', '2016-03-30 08:42:13', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:42:13', '2016-03-30 08:42:13', 298486374)[0m
  [1m[35m (3.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_validates_uniqueness_of_email
--------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_data_with_no_email
-------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------
UserTest: test_presence_of_email
--------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_email_should_be_valid
------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:42:34', '2016-03-30 08:42:34', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:42:34', '2016-03-30 08:42:34', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$AlWo.b5jptlYORshutI9MOpUwE3Q4XKbdAYfvVTF4.YydJxvD30Mm', '2016-03-30 08:42:34', '2016-03-30 08:42:34', 206669143)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$pRnsLaZc20FyMj/Nt0Bnv.HSvV1gWgFqMrlx44HFqGwHyAIZPvF9y', '2016-03-30 08:42:34', '2016-03-30 08:42:34', 358143215)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:42:34', '2016-03-30 08:42:34', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:42:34', '2016-03-30 08:42:34', 298486374)[0m
  [1m[35m (23.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_email_should_be_valid
------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UserTest: test_validates_uniqueness_of_email
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 358143215]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------
UserTest: test_presence_of_email
--------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_data_with_no_email
-------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:42:54', '2016-03-30 08:42:54', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:42:54', '2016-03-30 08:42:54', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$M96EfaHY0e4l4uGSNRYN3edXZAofRcbSRs5HsLcSVyHXEcb.jFByC', '2016-03-30 08:42:54', '2016-03-30 08:42:54', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$3B69RbQx.UyRymhY5/t5peiQC.MPPr3t4yqxsoBG9Qv1wup1qRftq', '2016-03-30 08:42:54', '2016-03-30 08:42:54', 358143215)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:42:54', '2016-03-30 08:42:54', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:42:54', '2016-03-30 08:42:54', 298486374)[0m
  [1m[35m (3.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_email_should_be_valid
------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------
UserTest: test_should_not_save_data_with_no_email
-------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------
UserTest: test_presence_of_email
--------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UserTest: test_validates_uniqueness_of_email
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 358143215]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (82.7ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (20.7ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:47:01', '2016-03-30 08:47:01', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 08:47:01', '2016-03-30 08:47:01', 298486374)[0m
  [1m[35mFixture Delete (75.7ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$CAIQKbSC4FOEHDuso5fbVucqixzfaSn2MuXXoKx39VGiGrJVDLuaO', '2016-03-30 08:47:01', '2016-03-30 08:47:01', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$zksNiSzB07V6qVsc8OKb7.Ri3xbaDMocutGBCjBUoU7Lvv91fn.FS', '2016-03-30 08:47:01', '2016-03-30 08:47:01', 358143215)
  [1m[36mFixture Delete (6.9ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:47:01', '2016-03-30 08:47:01', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 08:47:01', '2016-03-30 08:47:01', 298486374)[0m
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_data_with_no_email
-------------------------------------------------
  [1m[35mUser Load (9.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_email_should_be_valid
------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------
UserTest: test_presence_of_email
--------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UserTest: test_validates_uniqueness_of_email
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 358143215]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (21.1ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 09:09:18', '2016-03-30 09:09:18', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 09:09:18', '2016-03-30 09:09:18', 298486374)[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$W4R5DnYvtk8euhV57NLPi..ss/WVA7XWPG0jauUub2Nplp0q8675q', '2016-03-30 09:09:18', '2016-03-30 09:09:18', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$BeFMBNMcu8bwwuCqna5VcOENTqyfw1HAYXd7Nr6PG9Gzvky7/mK3S', '2016-03-30 09:09:18', '2016-03-30 09:09:18', 358143215)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 09:09:18', '2016-03-30 09:09:18', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 09:09:18', '2016-03-30 09:09:18', 298486374)[0m
  [1m[35m (2.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[35mVisit Load (0.4ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>"MyString", "browser_version"=>"MyString", "ip"=>"MyString", "link_id"=>"1", "os"=>"MyString"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["link_id", 1], ["ip", "MyString"], ["browser", "MyString"], ["browser_version", "MyString"], ["os", "MyString"], ["created_at", "2016-03-30 09:09:19.238155"], ["updated_at", "2016-03-30 09:09:19.238155"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190963
Completed 302 Found in 29ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "visits" WHERE "visits"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/_form.html.erb (172.8ms)
  Rendered visits/edit.html.erb within layouts/application (191.1ms)
  Rendered shared/_nav_bar.html.erb (12.8ms)
Completed 500 Internal Server Error in 323ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (2.7ms)
  Rendered visits/new.html.erb within layouts/application (3.5ms)
  Rendered shared/_nav_bar.html.erb (1.9ms)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT "visits".* FROM "visits"[0m
  Rendered visits/index.html.erb within layouts/application (2.8ms)
  Rendered shared/_nav_bar.html.erb (2.0ms)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (1.0ms)
  Rendered shared/_nav_bar.html.erb (1.8ms)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>"MyString", "browser_version"=>"MyString", "ip"=>"MyString", "link_id"=>"1", "os"=>"MyString"}, "id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
RedirectControllerTest: test_should_get_show
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------
UserTest: test_presence_of_email
--------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_email_should_be_valid
------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_validates_uniqueness_of_email
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_data_with_no_email
-------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"MyString", "short"=>"MyString", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"MyString", "short"=>"MyString", "user_id"=>"1"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#index as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 09:23:41', '2016-03-30 09:23:41', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 09:23:41', '2016-03-30 09:23:41', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$MHmY9B2WnhM6fDyqOnqegOG/7TrUp8P2PqXRj/V8sPMsrBNXpuFra', '2016-03-30 09:23:41', '2016-03-30 09:23:41', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$VBbTsEavsGrkYEwI.ds/c.Ln5FDb8s.9aVr6fW.S7u9hgoGPThz76', '2016-03-30 09:23:41', '2016-03-30 09:23:41', 358143215)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 09:23:41', '2016-03-30 09:23:41', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 09:23:41', '2016-03-30 09:23:41', 298486374)[0m
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------
UserTest: test_valid
--------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 09:24:01', '2016-03-30 09:24:01', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 09:24:01', '2016-03-30 09:24:01', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$8VyNyYOGirS88GsBS1IrsevsLbItMy3OjnZ7E3ceFmOaQbnsrby4m', '2016-03-30 09:24:01', '2016-03-30 09:24:01', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$oiYzQjrjmkJdv9av2AbJCuc/k45AMz8M4hf.zhmb5oL8iEpS62qdq', '2016-03-30 09:24:01', '2016-03-30 09:24:01', 358143215)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 09:24:01', '2016-03-30 09:24:01', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 09:24:01', '2016-03-30 09:24:01', 298486374)[0m
  [1m[35m (192.0ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------
UserTest: test_valid
--------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 09:24:32', '2016-03-30 09:24:32', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 09:24:32', '2016-03-30 09:24:32', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$0xBExKWYJiFWYfidGwEoWOpLNbyHRz/EeRNCsMk8y7uzxhiyZBuKW', '2016-03-30 09:24:32', '2016-03-30 09:24:32', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$.H5R0t1RQ1jxO3Y2499Gz.3iJJzTuugt3/gL780VQBS3NmyMTf8l2', '2016-03-30 09:24:32', '2016-03-30 09:24:32', 358143215)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 09:24:32', '2016-03-30 09:24:32', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 09:24:32', '2016-03-30 09:24:32', 298486374)[0m
  [1m[35m (26.6ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------
UserTest: test_valid
--------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 09:24:55', '2016-03-30 09:24:55', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 09:24:55', '2016-03-30 09:24:55', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$AtMTKRxRfuJIoh020lt9t.OT9EUStD6W30GhLY1jjpHD9CPA6ACta', '2016-03-30 09:24:55', '2016-03-30 09:24:55', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$1UhTqsUlG2N/K6wIuBkNkOC.GWelucLRgK5TFpIsruaIoPy3BMYnm', '2016-03-30 09:24:55', '2016-03-30 09:24:55', 358143215)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 09:24:55', '2016-03-30 09:24:55', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 09:24:55', '2016-03-30 09:24:55', 298486374)[0m
  [1m[35m (2.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------
UserTest: test_valid
--------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 09:29:41', '2016-03-30 09:29:41', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 09:29:41', '2016-03-30 09:29:41', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$3UDJfk92Hd.zecwduhhEYOS3Xx7Y1Xo1asAdy2kMFCFCjzZhiLePC', '2016-03-30 09:29:41', '2016-03-30 09:29:41', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$uv2n5woEOcyOpW9scJM7HuPkqCbyRM0yyzCbtlpxoMvI3yM1uhrvW', '2016-03-30 09:29:41', '2016-03-30 09:29:41', 358143215)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 09:29:41', '2016-03-30 09:29:41', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 09:29:41', '2016-03-30 09:29:41', 298486374)[0m
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------
UserTest: test_valid
--------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 09:31:00', '2016-03-30 09:31:00', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 09:31:00', '2016-03-30 09:31:00', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$tOHr33nJubQ6eiyA0vfhweN0eHPm2URd0Gkd3gHo4N2OprHVc6Mde', '2016-03-30 09:31:00', '2016-03-30 09:31:00', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$AdGvkB35gKIgXEZ3eaSkRu6kKWEwsi/E1nVA4IMZgrjRAsvDzSNlu', '2016-03-30 09:31:00', '2016-03-30 09:31:00', 358143215)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 09:31:00', '2016-03-30 09:31:00', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 09:31:00', '2016-03-30 09:31:00', 298486374)[0m
  [1m[35m (20.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------
UserTest: test_valid
--------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 09:31:13', '2016-03-30 09:31:13', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 09:31:13', '2016-03-30 09:31:13', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$OHLaflR6vIrtODUxkMVM8.tWfMKFOxci/vJ03GVj.FzKsvDVIhrxq', '2016-03-30 09:31:13', '2016-03-30 09:31:13', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$ahfaLoyNdxk1xzsmspaUi./QSU5H0JkfJAiNRHdf1vZoIJ/FdltK.', '2016-03-30 09:31:13', '2016-03-30 09:31:13', 358143215)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 09:31:13', '2016-03-30 09:31:13', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 09:31:13', '2016-03-30 09:31:13', 298486374)[0m
  [1m[35m (3.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------
UserTest: test_valid
--------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 09:32:27', '2016-03-30 09:32:27', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 09:32:27', '2016-03-30 09:32:27', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$qNvllBTU508YkB2J0vaTVemyXHgtSisz2vLGDdwDY5SP8KKzTDgPK', '2016-03-30 09:32:27', '2016-03-30 09:32:27', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$hJlFOGkLIb04idfTuPnltegWPT9IsqZlYkxxLIOXGFCmsj1PuBxrq', '2016-03-30 09:32:27', '2016-03-30 09:32:27', 358143215)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 09:32:27', '2016-03-30 09:32:27', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 09:32:27', '2016-03-30 09:32:27', 298486374)[0m
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------
UserTest: test_valid
--------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 09:33:20', '2016-03-30 09:33:20', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 09:33:20', '2016-03-30 09:33:20', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$1v5tPP30GQHwwLkQLKobpOc.8.61nTyrm4iTenmds0V437V/f5obK', '2016-03-30 09:33:20', '2016-03-30 09:33:20', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$xbSV07qUZjqU3CamlyAHUOOCDVoZOgjjeyamp84HWQyIWiAGPXtIC', '2016-03-30 09:33:20', '2016-03-30 09:33:20', 358143215)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 09:33:20', '2016-03-30 09:33:20', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 09:33:20', '2016-03-30 09:33:20', 298486374)[0m
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------
UserTest: test_valid
--------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 09:33:59', '2016-03-30 09:33:59', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 09:33:59', '2016-03-30 09:33:59', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$B4J/UA78/ZBbguKuglEzQOkVGs76eWsBeQqT96hHF96.tT0DETTlq', '2016-03-30 09:33:59', '2016-03-30 09:33:59', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$EFRnbF1SKqiyIM2mWC9qze6SwmGeyPhe3w94EP1PmJXdrRkNaY562', '2016-03-30 09:33:59', '2016-03-30 09:33:59', 358143215)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 09:33:59', '2016-03-30 09:33:59', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 09:33:59', '2016-03-30 09:33:59', 298486374)[0m
  [1m[35m (2.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------
UserTest: test_valid
--------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (20.9ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 09:56:14', '2016-03-30 09:56:14', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 09:56:14', '2016-03-30 09:56:14', 298486374)[0m
  [1m[35mFixture Delete (15.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$X6ylnjQ681UQPnYxlYDkPeIEIw2FI98MVwRMLpj0WoT/fkl2kCWVi', '2016-03-30 09:56:14', '2016-03-30 09:56:14', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$qJYtQnLBPCOyOcwzHEQxWenIvgI9px1maomLpikDoaMDUZYpBx1F2', '2016-03-30 09:56:14', '2016-03-30 09:56:14', 358143215)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 09:56:14', '2016-03-30 09:56:14', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 09:56:14', '2016-03-30 09:56:14', 298486374)[0m
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------
UserTest: test_valid
--------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 09:56:47', '2016-03-30 09:56:47', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 09:56:47', '2016-03-30 09:56:47', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$2PbfYCFHU24j8yki3/A0se1pYoUhqKH/xgEsLXGVdrjXfumGxcLm6', '2016-03-30 09:56:47', '2016-03-30 09:56:47', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$ICzCltmXyL0/6yKFYtgmHOuQdVotgpj6NYS3ZnPMoEhw6cxR4OD86', '2016-03-30 09:56:47', '2016-03-30 09:56:47', 358143215)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 09:56:47', '2016-03-30 09:56:47', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 09:56:47', '2016-03-30 09:56:47', 298486374)[0m
  [1m[35m (22.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------
UserTest: test_valid
--------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 09:58:22', '2016-03-30 09:58:22', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 09:58:22', '2016-03-30 09:58:22', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$brdx7OwDh73MWSheYEx0LOyyI3IgwyYbPR5/J/20xQqEg0Hbg/ODO', '2016-03-30 09:58:22', '2016-03-30 09:58:22', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$IpoIkLM7YciJGukVrIKu9uCEXsCIqq3Po6NCtbFnj8stjxib0lcRS', '2016-03-30 09:58:22', '2016-03-30 09:58:22', 358143215)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 09:58:22', '2016-03-30 09:58:22', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-30 09:58:22', '2016-03-30 09:58:22', 298486374)[0m
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------
UserTest: test_valid
--------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (26.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 10:03:48', '2016-03-30 10:03:48', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 10:03:48', '2016-03-30 10:03:48', 298486374)[0m
  [1m[35mFixture Delete (1.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "password", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', 'password', '$2a$10$y9RyKTQ5mrRkAPoGXFLagOu9mtMxhaSvcVqB2sdNZbeDpM5TEuWaW', '2016-03-30 10:03:48', '2016-03-30 10:03:48', 206669143)[0m
SQLite3::SQLException: table users has no column named password: INSERT INTO "users" ("full_name", "email", "password", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', 'password', '$2a$10$y9RyKTQ5mrRkAPoGXFLagOu9mtMxhaSvcVqB2sdNZbeDpM5TEuWaW', '2016-03-30 10:03:48', '2016-03-30 10:03:48', 206669143)
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "links"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 10:03:48', '2016-03-30 10:03:48', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 10:03:48', '2016-03-30 10:03:48', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "password", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', 'password', '$2a$10$2y4KQ6fqagTXjMEq31vz.Oboc.gle.OANQiqKpV/FzWJgcrbhlswu', '2016-03-30 10:03:48', '2016-03-30 10:03:48', 206669143)
SQLite3::SQLException: table users has no column named password: INSERT INTO "users" ("full_name", "email", "password", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', 'password', '$2a$10$2y4KQ6fqagTXjMEq31vz.Oboc.gle.OANQiqKpV/FzWJgcrbhlswu', '2016-03-30 10:03:48', '2016-03-30 10:03:48', 206669143)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 10:03:49', '2016-03-30 10:03:49', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 10:03:49', '2016-03-30 10:03:49', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "password", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', 'password', '$2a$10$akZeHxekINKXgGLyG00Z3e.6Lwm8de.h1AGt0YoMSJhw/EHMlQgVe', '2016-03-30 10:03:49', '2016-03-30 10:03:49', 206669143)[0m
SQLite3::SQLException: table users has no column named password: INSERT INTO "users" ("full_name", "email", "password", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', 'password', '$2a$10$akZeHxekINKXgGLyG00Z3e.6Lwm8de.h1AGt0YoMSJhw/EHMlQgVe', '2016-03-30 10:03:49', '2016-03-30 10:03:49', 206669143)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "links"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 10:03:49', '2016-03-30 10:03:49', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 10:03:49', '2016-03-30 10:03:49', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "password", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', 'password', '$2a$10$xhR1ifdi0uLe9pfxCOWGz.VxLvGdl8RC0lsm84CacSu4LD3Tb4686', '2016-03-30 10:03:49', '2016-03-30 10:03:49', 206669143)
SQLite3::SQLException: table users has no column named password: INSERT INTO "users" ("full_name", "email", "password", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', 'password', '$2a$10$xhR1ifdi0uLe9pfxCOWGz.VxLvGdl8RC0lsm84CacSu4LD3Tb4686', '2016-03-30 10:03:49', '2016-03-30 10:03:49', 206669143)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 10:03:49', '2016-03-30 10:03:49', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 10:03:49', '2016-03-30 10:03:49', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "password", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', 'password', '$2a$10$RdxVT5R66eW.PeunwRmhzeiZeLHtdKCWfLfmUN2eUohW056PiaZua', '2016-03-30 10:03:49', '2016-03-30 10:03:49', 206669143)[0m
SQLite3::SQLException: table users has no column named password: INSERT INTO "users" ("full_name", "email", "password", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', 'password', '$2a$10$RdxVT5R66eW.PeunwRmhzeiZeLHtdKCWfLfmUN2eUohW056PiaZua', '2016-03-30 10:03:49', '2016-03-30 10:03:49', 206669143)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "links"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 10:03:49', '2016-03-30 10:03:49', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-30 10:03:49', '2016-03-30 10:03:49', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "password", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', 'password', '$2a$10$E.gKskOtNBr7Vj8bYSJMKuJK.Bahudj0MoyicB.sVqCqsoXV.LyXS', '2016-03-30 10:03:49', '2016-03-30 10:03:49', 206669143)
SQLite3::SQLException: table users has no column named password: INSERT INTO "users" ("full_name", "email", "password", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', 'password', '$2a$10$E.gKskOtNBr7Vj8bYSJMKuJK.Bahudj0MoyicB.sVqCqsoXV.LyXS', '2016-03-30 10:03:49', '2016-03-30 10:03:49', 206669143)
  [1m[36m (32.6ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (15.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-31 15:36:01', '2016-03-31 15:36:01', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-31 15:36:01', '2016-03-31 15:36:01', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$u8ADmTDwHlEIU5IkUj/AVOWoFqKd1FkoCAx957mWOVn9./lp2w6fO', '2016-03-31 15:36:01', '2016-03-31 15:36:01', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$sw0gSk8rlKMcOOWStPzL0uA87/ENXUo.j5sWrlJxqAFQIOpjifUGS', '2016-03-31 15:36:01', '2016-03-31 15:36:01', 358143215)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-31 15:36:01', '2016-03-31 15:36:01', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-31 15:36:01', '2016-03-31 15:36:01', 298486374)[0m
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------
UserTest: test_valid
--------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-31 15:36:20', '2016-03-31 15:36:20', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-31 15:36:20', '2016-03-31 15:36:20', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$sDKolnHFwQiRlAOr6S8UYOlQOAZsC6DEzErJhQ17fHL9v.7uOqQvi', '2016-03-31 15:36:20', '2016-03-31 15:36:20', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$7cZWK6AtgeYC4JHTP1/c9uX3WMOQ0d5llTrcZzhIP3RB9o60f9RXS', '2016-03-31 15:36:20', '2016-03-31 15:36:20', 358143215)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-31 15:36:20', '2016-03-31 15:36:20', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-31 15:36:20', '2016-03-31 15:36:20', 298486374)[0m
  [1m[35m (2.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
RedirectControllerTest: test_should_get_show
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT "visits".* FROM "visits"[0m
  Rendered visits/index.html.erb within layouts/application (23.1ms)
  Rendered shared/_nav_bar.html.erb (26.8ms)
Completed 500 Internal Server Error in 276ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (465.4ms)
  Rendered visits/new.html.erb within layouts/application (468.1ms)
  Rendered shared/_nav_bar.html.erb (2.5ms)
Completed 500 Internal Server Error in 497ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>"MyString", "browser_version"=>"MyString", "ip"=>"MyString", "link_id"=>"1", "os"=>"MyString"}, "id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190962
Completed 302 Found in 56ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/_form.html.erb (6.0ms)
  Rendered visits/edit.html.erb within layouts/application (8.3ms)
  Rendered shared/_nav_bar.html.erb (2.9ms)
Completed 500 Internal Server Error in 44ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "visits" WHERE "visits"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits
Completed 302 Found in 3ms (ActiveRecord: 1.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>"MyString", "browser_version"=>"MyString", "ip"=>"MyString", "link_id"=>"1", "os"=>"MyString"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["link_id", 1], ["ip", "MyString"], ["browser", "MyString"], ["browser_version", "MyString"], ["os", "MyString"], ["created_at", "2016-03-31 15:36:21.782067"], ["updated_at", "2016-03-31 15:36:21.782067"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (2.2ms)
  Rendered shared/_nav_bar.html.erb (3.4ms)
Completed 500 Internal Server Error in 34ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------
UserTest: test_valid
--------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"MyString", "short"=>"MyString", "user_id"=>"1"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"MyString", "short"=>"MyString", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (15.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.9ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-31 18:09:36', '2016-03-31 18:09:36', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-31 18:09:36', '2016-03-31 18:09:36', 298486374)[0m
  [1m[35mFixture Delete (4.0ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$tVcYUJoe7OBfHslMGSJTlenFDNbSTFp5dWgDHd455HThA.TVW54Mq', '2016-03-31 18:09:36', '2016-03-31 18:09:36', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$VFsTQ/FUFJVhv8V.BlTePesI3vhHg6Kkvc3KorB2gNx8krcKcQo86', '2016-03-31 18:09:36', '2016-03-31 18:09:36', 358143215)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-31 18:09:36', '2016-03-31 18:09:36', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-31 18:09:36', '2016-03-31 18:09:36', 298486374)[0m
  [1m[35m (5.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------
UserTest: test_valid
--------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"MyString", "short"=>"MyString", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 500 Internal Server Error in 91ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#new as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"MyString", "short"=>"MyString", "user_id"=>"1"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
RedirectControllerTest: test_should_get_show
--------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>"MyString", "browser_version"=>"MyString", "ip"=>"MyString", "link_id"=>"1", "os"=>"MyString"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["link_id", 1], ["ip", "MyString"], ["browser", "MyString"], ["browser_version", "MyString"], ["os", "MyString"], ["created_at", "2016-03-31 18:09:37.452167"], ["updated_at", "2016-03-31 18:09:37.452167"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (16.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "visits" WHERE "visits"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/_form.html.erb (149.0ms)
  Rendered visits/edit.html.erb within layouts/application (181.0ms)
  Rendered shared/_nav_bar.html.erb (71.4ms)
Completed 500 Internal Server Error in 436ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT "visits".* FROM "visits"[0m
  Rendered visits/index.html.erb within layouts/application (4.6ms)
  Rendered shared/_nav_bar.html.erb (2.7ms)
Completed 500 Internal Server Error in 30ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>"MyString", "browser_version"=>"MyString", "ip"=>"MyString", "link_id"=>"1", "os"=>"MyString"}, "id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.0ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (2.3ms)
  Rendered shared/_nav_bar.html.erb (3.3ms)
Completed 500 Internal Server Error in 25ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (4.0ms)
  Rendered visits/new.html.erb within layouts/application (5.2ms)
  Rendered shared/_nav_bar.html.erb (1.9ms)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (8.6ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (15.5ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-31 18:32:09', '2016-03-31 18:32:09', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-31 18:32:09', '2016-03-31 18:32:09', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$rq3mYI6iPJpsKLTVX2Wa3OoOXfYxdRAp1kRMErlWnNkmHpz/j1FvO', '2016-03-31 18:32:09', '2016-03-31 18:32:09', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$L6oz6Q604w6dRvc4UUZNeuxFtyN8VCB6rVfFdnxPOauGeGDFL1ZXC', '2016-03-31 18:32:09', '2016-03-31 18:32:09', 358143215)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-31 18:32:09', '2016-03-31 18:32:09', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-31 18:32:09', '2016-03-31 18:32:09', 298486374)[0m
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------
UserTest: test_valid
--------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[36mVisit Load (0.3ms)[0m  [1mSELECT "visits".* FROM "visits"[0m
  Rendered visits/index.html.erb within layouts/application (23.7ms)
  Rendered shared/_nav_bar.html.erb (16.5ms)
Completed 500 Internal Server Error in 189ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "visits" WHERE "visits"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits
Completed 302 Found in 14ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/_form.html.erb (73.7ms)
  Rendered visits/edit.html.erb within layouts/application (77.3ms)
  Rendered shared/_nav_bar.html.erb (2.6ms)
Completed 500 Internal Server Error in 84ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (2.4ms)
  Rendered visits/new.html.erb within layouts/application (3.1ms)
  Rendered shared/_nav_bar.html.erb (1.8ms)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>"MyString", "browser_version"=>"MyString", "ip"=>"MyString", "link_id"=>"1", "os"=>"MyString"}, "id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>"MyString", "browser_version"=>"MyString", "ip"=>"MyString", "link_id"=>"1", "os"=>"MyString"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["link_id", 1], ["ip", "MyString"], ["browser", "MyString"], ["browser_version", "MyString"], ["os", "MyString"], ["created_at", "2016-03-31 18:32:10.172365"], ["updated_at", "2016-03-31 18:32:10.172365"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.0ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (0.9ms)
  Rendered shared/_nav_bar.html.erb (1.8ms)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
RedirectControllerTest: test_should_get_show
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"MyString", "short"=>"MyString", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"MyString", "short"=>"MyString", "user_id"=>"1"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-31 18:33:00', '2016-03-31 18:33:00', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-31 18:33:00', '2016-03-31 18:33:00', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$qjYK2aZ3NF4dtfq5PmRQJu.m6QwMUjNoi5NuOlxt8ZrJt2bNF9Sdi', '2016-03-31 18:33:00', '2016-03-31 18:33:00', 206669143)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$DIUU7KwliZ1ySi8igcxr1u1EI9M1/dj8c9Gall9ExBMTDkmXQ4J6m', '2016-03-31 18:33:00', '2016-03-31 18:33:00', 358143215)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-31 18:33:00', '2016-03-31 18:33:00', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-31 18:33:00', '2016-03-31 18:33:00', 298486374)[0m
  [1m[35m (2.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------
UserTest: test_valid
--------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (8.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-31 18:50:26', '2016-03-31 18:50:26', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-31 18:50:26', '2016-03-31 18:50:26', 298486374)[0m
  [1m[35mFixture Delete (1.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$kazhdtxI/jOkc1Rh2aFNC.drUOUHOTDi2D7/Mmr0UdwvBQ8lkqt0u', '2016-03-31 18:50:26', '2016-03-31 18:50:26', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$25E3ADCfUkDQ7na7Xj.o7..gA9heViEkdDtNLVVIsOzhgJzDTV94O', '2016-03-31 18:50:26', '2016-03-31 18:50:26', 358143215)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-31 18:50:26', '2016-03-31 18:50:26', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-31 18:50:26', '2016-03-31 18:50:26', 298486374)[0m
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------
UserTest: test_valid
--------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (7.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-31 18:53:39', '2016-03-31 18:53:39', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-31 18:53:39', '2016-03-31 18:53:39', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$wbzXkR/trGIYaQRbAu1T3O0gnWIFHHCjsxYrmScWpN25i20x9VC4W', '2016-03-31 18:53:39', '2016-03-31 18:53:39', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$IBtSV7RqJR1ebYL6/qy0LeyKx/ZWs1b.fpBRntxzZhZ7dJ3m9PD3K', '2016-03-31 18:53:39', '2016-03-31 18:53:39', 358143215)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-31 18:53:39', '2016-03-31 18:53:39', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-31 18:53:39', '2016-03-31 18:53:39', 298486374)[0m
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
RedirectControllerTest: test_should_get_show
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------
UserTest: test_valid
--------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 500 Internal Server Error in 33ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"MyString", "short"=>"MyString", "user_id"=>"1"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#index as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"MyString", "short"=>"MyString", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>"MyString", "browser_version"=>"MyString", "ip"=>"MyString", "link_id"=>"1", "os"=>"MyString"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["link_id", 1], ["ip", "MyString"], ["browser", "MyString"], ["browser_version", "MyString"], ["os", "MyString"], ["created_at", "2016-03-31 18:53:40.030436"], ["updated_at", "2016-03-31 18:53:40.030436"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (74.2ms)
  Rendered visits/new.html.erb within layouts/application (97.6ms)
  Rendered shared/_nav_bar.html.erb (5.7ms)
Completed 500 Internal Server Error in 170ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT "visits".* FROM "visits"[0m
  Rendered visits/index.html.erb within layouts/application (2.9ms)
  Rendered shared/_nav_bar.html.erb (2.1ms)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>"MyString", "browser_version"=>"MyString", "ip"=>"MyString", "link_id"=>"1", "os"=>"MyString"}, "id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (1.1ms)
  Rendered shared/_nav_bar.html.erb (3.1ms)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "visits" WHERE "visits"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/_form.html.erb (3.0ms)
  Rendered visits/edit.html.erb within layouts/application (4.0ms)
  Rendered shared/_nav_bar.html.erb (2.6ms)
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (11.0ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-31 19:02:50', '2016-03-31 19:02:50', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-31 19:02:50', '2016-03-31 19:02:50', 298486374)[0m
  [1m[35mFixture Delete (1.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$EZ0bAcGtDAipsS93DPnoYeVWPMGcVK0DcrCaEaLvr8fRMpVfcjQUa', '2016-03-31 19:02:50', '2016-03-31 19:02:50', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$hvUjOI3L3uOHQxhRy9teU.ePLlhlM.W20i/shGLQSJ7EWUJcALm8a', '2016-03-31 19:02:50', '2016-03-31 19:02:50', 358143215)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-31 19:02:50', '2016-03-31 19:02:50', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-31 19:02:50', '2016-03-31 19:02:50', 298486374)[0m
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------
UserTest: test_valid
--------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-31 19:03:18', '2016-03-31 19:03:18', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-31 19:03:18', '2016-03-31 19:03:18', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$yijpCYL23.bO8Xb3/XubD.eaFHQm1xBPxN6ycE2zFPqoA1LbPXz5q', '2016-03-31 19:03:18', '2016-03-31 19:03:18', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$MqUlFql8RXCMopyS0sNWcuebBCEOI3xIyOHR/Xc/erK.T1814ZAT2', '2016-03-31 19:03:18', '2016-03-31 19:03:18', 358143215)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-31 19:03:18', '2016-03-31 19:03:18', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-31 19:03:18', '2016-03-31 19:03:18', 298486374)[0m
  [1m[35m (4.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"MyString", "short"=>"MyString", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 500 Internal Server Error in 30ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#new as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"MyString", "short"=>"MyString", "user_id"=>"1"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/_form.html.erb (75.9ms)
  Rendered visits/edit.html.erb within layouts/application (112.8ms)
  Rendered shared/_nav_bar.html.erb (5.4ms)
Completed 500 Internal Server Error in 215ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>"MyString", "browser_version"=>"MyString", "ip"=>"MyString", "link_id"=>"1", "os"=>"MyString"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["link_id", 1], ["ip", "MyString"], ["browser", "MyString"], ["browser_version", "MyString"], ["os", "MyString"], ["created_at", "2016-03-31 19:03:18.459521"], ["updated_at", "2016-03-31 19:03:18.459521"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "visits" WHERE "visits"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (1.2ms)
  Rendered shared/_nav_bar.html.erb (2.1ms)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[36mVisit Load (0.3ms)[0m  [1mSELECT "visits".* FROM "visits"[0m
  Rendered visits/index.html.erb within layouts/application (4.0ms)
  Rendered shared/_nav_bar.html.erb (2.9ms)
Completed 500 Internal Server Error in 20ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>"MyString", "browser_version"=>"MyString", "ip"=>"MyString", "link_id"=>"1", "os"=>"MyString"}, "id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (2.9ms)
  Rendered visits/new.html.erb within layouts/application (3.7ms)
  Rendered shared/_nav_bar.html.erb (1.8ms)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
RedirectControllerTest: test_should_get_show
--------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 358143215]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 358143215]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 358143215]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------
UserTest: test_valid
--------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 358143215]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 358143215]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-31 19:04:02', '2016-03-31 19:04:02', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-31 19:04:02', '2016-03-31 19:04:02', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$Y162YJAfWb2YZW5NAM.xhuDC5yLU7wtBan2C9tz4yD/Zp5aqpx5c2', '2016-03-31 19:04:02', '2016-03-31 19:04:02', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$DFuBbrgCp.ZreBpvHPCEv.6G.U2wrhFwY6sC7XpZ7JubpL78nNOoi', '2016-03-31 19:04:02', '2016-03-31 19:04:02', 358143215)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-31 19:04:02', '2016-03-31 19:04:02', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-31 19:04:02', '2016-03-31 19:04:02', 298486374)[0m
  [1m[35m (2.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"MyString", "short"=>"MyString", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#index as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"MyString", "short"=>"MyString", "user_id"=>"1"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[35mVisit Load (0.1ms)[0m  SELECT "visits".* FROM "visits"
  Rendered visits/index.html.erb within layouts/application (3.9ms)
  Rendered shared/_nav_bar.html.erb (7.0ms)
Completed 500 Internal Server Error in 35ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "visits" WHERE "visits"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.0ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (0.9ms)
  Rendered shared/_nav_bar.html.erb (1.8ms)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (24.9ms)
  Rendered visits/new.html.erb within layouts/application (27.2ms)
  Rendered shared/_nav_bar.html.erb (1.9ms)
Completed 500 Internal Server Error in 32ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.0ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/_form.html.erb (3.4ms)
  Rendered visits/edit.html.erb within layouts/application (4.2ms)
  Rendered shared/_nav_bar.html.erb (1.9ms)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>"MyString", "browser_version"=>"MyString", "ip"=>"MyString", "link_id"=>"1", "os"=>"MyString"}, "id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>"MyString", "browser_version"=>"MyString", "ip"=>"MyString", "link_id"=>"1", "os"=>"MyString"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["link_id", 1], ["ip", "MyString"], ["browser", "MyString"], ["browser_version", "MyString"], ["os", "MyString"], ["created_at", "2016-03-31 19:04:02.339866"], ["updated_at", "2016-03-31 19:04:02.339866"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------
UserTest: test_valid
--------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 358143215]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 358143215]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 358143215]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 358143215]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 358143215]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
RedirectControllerTest: test_should_get_show
--------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (7.7ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-31 19:14:26', '2016-03-31 19:14:26', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-31 19:14:26', '2016-03-31 19:14:26', 298486374)[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$/98LHsEoEUv4dphN5JYX1OlbeCtoAL7TtVhUECCO4TxQKopvGeLcq', '2016-03-31 19:14:26', '2016-03-31 19:14:26', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$G3/Z9B7DLdNyi791spLUZuNZp6AWDfSrl61dy3fvGF4F/nEM9Bjha', '2016-03-31 19:14:26', '2016-03-31 19:14:26', 358143215)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-31 19:14:26', '2016-03-31 19:14:26', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-31 19:14:26', '2016-03-31 19:14:26', 298486374)[0m
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
RedirectControllerTest: test_should_get_show
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------
UserTest: test_valid
--------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"MyString", "short"=>"MyString", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#index as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"MyString", "short"=>"MyString", "user_id"=>"1"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (54.6ms)
  Rendered visits/new.html.erb within layouts/application (77.6ms)
  Rendered shared/_nav_bar.html.erb (6.1ms)
Completed 500 Internal Server Error in 175ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "visits" WHERE "visits"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[35mVisit Load (0.2ms)[0m  SELECT "visits".* FROM "visits"
  Rendered visits/index.html.erb within layouts/application (3.4ms)
  Rendered shared/_nav_bar.html.erb (3.5ms)
Completed 500 Internal Server Error in 21ms (ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>"MyString", "browser_version"=>"MyString", "ip"=>"MyString", "link_id"=>"1", "os"=>"MyString"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["link_id", 1], ["ip", "MyString"], ["browser", "MyString"], ["browser_version", "MyString"], ["os", "MyString"], ["created_at", "2016-03-31 19:14:26.744339"], ["updated_at", "2016-03-31 19:14:26.744339"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.0ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/_form.html.erb (3.0ms)
  Rendered visits/edit.html.erb within layouts/application (4.0ms)
  Rendered shared/_nav_bar.html.erb (1.9ms)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>"MyString", "browser_version"=>"MyString", "ip"=>"MyString", "link_id"=>"1", "os"=>"MyString"}, "id"=>"980190962"}
  [1m[35mVisit Load (0.0ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.0ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (0.9ms)
  Rendered shared/_nav_bar.html.erb (1.8ms)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (10.8ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-31 19:25:47', '2016-03-31 19:25:47', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-31 19:25:47', '2016-03-31 19:25:47', 298486374)[0m
  [1m[35mFixture Delete (1.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$p9cSI6MW6YtG0wVZBaJit.X2tLvrnmvgQ0nHBCKwkBB0A2boReB1a', '2016-03-31 19:25:47', '2016-03-31 19:25:47', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$Y0jyxTYR0FhEMGF5xMtP..KuUgL6jcl1rWbSbj5mPF/NfWkvvrnxG', '2016-03-31 19:25:47', '2016-03-31 19:25:47', 358143215)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-31 19:25:47', '2016-03-31 19:25:47', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-31 19:25:47', '2016-03-31 19:25:47', 298486374)[0m
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 500 Internal Server Error in 20ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"MyString", "short"=>"MyString", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#index as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"MyString", "short"=>"MyString", "user_id"=>"1"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
RedirectControllerTest: test_should_get_show
--------------------------------------------
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 358143215]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 358143215]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 358143215]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 358143215]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------
UserTest: test_valid
--------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 358143215]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mVisit Load (0.3ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[35mVisit Load (0.2ms)[0m  SELECT "visits".* FROM "visits"
  Rendered visits/index.html.erb within layouts/application (22.4ms)
  Rendered shared/_nav_bar.html.erb (14.6ms)
Completed 500 Internal Server Error in 116ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "visits" WHERE "visits"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (1.1ms)
  Rendered shared/_nav_bar.html.erb (4.1ms)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>"MyString", "browser_version"=>"MyString", "ip"=>"MyString", "link_id"=>"1", "os"=>"MyString"}, "id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>"MyString", "browser_version"=>"MyString", "ip"=>"MyString", "link_id"=>"1", "os"=>"MyString"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["link_id", 1], ["ip", "MyString"], ["browser", "MyString"], ["browser_version", "MyString"], ["os", "MyString"], ["created_at", "2016-03-31 19:25:47.705143"], ["updated_at", "2016-03-31 19:25:47.705143"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (44.6ms)
  Rendered visits/new.html.erb within layouts/application (49.0ms)
  Rendered shared/_nav_bar.html.erb (2.1ms)
Completed 500 Internal Server Error in 55ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/_form.html.erb (2.8ms)
  Rendered visits/edit.html.erb within layouts/application (3.6ms)
  Rendered shared/_nav_bar.html.erb (3.4ms)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-31 19:26:04', '2016-03-31 19:26:04', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-31 19:26:04', '2016-03-31 19:26:04', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$AxckV49/P1JDUCFA5cLzZeXkOg2bGeqMcIE/Kh6Em39DQ6IDh74c6', '2016-03-31 19:26:04', '2016-03-31 19:26:04', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$.vmD6QtHu1GP3VR7m08NmerAxoFWqbGQi50oco1kVCE1el0hYwHxS', '2016-03-31 19:26:04', '2016-03-31 19:26:04', 358143215)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-31 19:26:04', '2016-03-31 19:26:04', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-31 19:26:04', '2016-03-31 19:26:04', 298486374)[0m
  [1m[35m (28.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
RedirectControllerTest: test_should_get_show
--------------------------------------------
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"MyString", "short"=>"MyString", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#index as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"MyString", "short"=>"MyString", "user_id"=>"1"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mVisit Load (0.3ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[35mVisit Load (0.2ms)[0m  SELECT "visits".* FROM "visits"
  Rendered visits/index.html.erb within layouts/application (5.5ms)
  Rendered shared/_nav_bar.html.erb (5.2ms)
Completed 500 Internal Server Error in 35ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "visits" WHERE "visits"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (43.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/_form.html.erb (34.6ms)
  Rendered visits/edit.html.erb within layouts/application (37.3ms)
  Rendered shared/_nav_bar.html.erb (2.2ms)
Completed 500 Internal Server Error in 43ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>"MyString", "browser_version"=>"MyString", "ip"=>"MyString", "link_id"=>"1", "os"=>"MyString"}, "id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (2.7ms)
  Rendered visits/new.html.erb within layouts/application (3.5ms)
  Rendered shared/_nav_bar.html.erb (2.3ms)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>"MyString", "browser_version"=>"MyString", "ip"=>"MyString", "link_id"=>"1", "os"=>"MyString"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["link_id", 1], ["ip", "MyString"], ["browser", "MyString"], ["browser_version", "MyString"], ["os", "MyString"], ["created_at", "2016-03-31 19:26:04.835370"], ["updated_at", "2016-03-31 19:26:04.835370"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.0ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (2.1ms)
  Rendered shared/_nav_bar.html.erb (4.3ms)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 358143215]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 358143215]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 358143215]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 358143215]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------
UserTest: test_valid
--------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 206669143]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 358143215]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-31 19:26:21', '2016-03-31 19:26:21', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-31 19:26:21', '2016-03-31 19:26:21', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$.EhPqKTJd8ZyukKLN2q2xOXhIJpzMM/ZqVSUbMCjOS0iovHC65/MC', '2016-03-31 19:26:21', '2016-03-31 19:26:21', 206669143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$ypaUG2oSsuCQEseMm8kiYeZADcvs2CZSJ9GLXsfDdGiPpMrmQWZ0G', '2016-03-31 19:26:21', '2016-03-31 19:26:21', 358143215)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-31 19:26:21', '2016-03-31 19:26:21', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-31 19:26:21', '2016-03-31 19:26:21', 298486374)[0m
  [1m[35m (13.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------
UserTest: test_valid
--------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 206669143]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 358143215]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (16.9ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-31 20:07:44', '2016-03-31 20:07:44', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-31 20:07:44', '2016-03-31 20:07:44', 298486374)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (10, 'https://www.google.com.ng', '5WlE1d6j', '2016-03-31 20:07:44', '2016-03-31 20:07:44', 156271013)
  [1m[36mFixture Delete (1.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$MdgQIvKNqNhACpU0.uPqiOutjeKm0mHPRSpS594V.z2.EmOwbd1uq', '2016-03-31 20:07:44', '2016-03-31 20:07:44', 206669143)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$O9qHaaADIrCI1iv3cgPujewcwE6LGQ8ooRdNKGob6GlRzoU2kKaJK', '2016-03-31 20:07:44', '2016-03-31 20:07:44', 358143215)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-31 20:07:44', '2016-03-31 20:07:44', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-31 20:07:44', '2016-03-31 20:07:44', 298486374)
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
RedirectControllerTest: test_should_get_show
--------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[36mVisit Load (0.3ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>"MyString", "browser_version"=>"MyString", "ip"=>"MyString", "link_id"=>"1", "os"=>"MyString"}, "id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190962
Completed 302 Found in 41ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "visits" WHERE "visits"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.0ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (20.9ms)
  Rendered shared/_nav_bar.html.erb (20.1ms)
Completed 500 Internal Server Error in 141ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (157.3ms)
  Rendered visits/new.html.erb within layouts/application (168.3ms)
  Rendered shared/_nav_bar.html.erb (2.7ms)
Completed 500 Internal Server Error in 182ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>"MyString", "browser_version"=>"MyString", "ip"=>"MyString", "link_id"=>"1", "os"=>"MyString"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["link_id", 1], ["ip", "MyString"], ["browser", "MyString"], ["browser_version", "MyString"], ["os", "MyString"], ["created_at", "2016-03-31 20:07:44.966138"], ["updated_at", "2016-03-31 20:07:44.966138"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/_form.html.erb (4.9ms)
  Rendered visits/edit.html.erb within layouts/application (6.5ms)
  Rendered shared/_nav_bar.html.erb (3.1ms)
Completed 500 Internal Server Error in 28ms (ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[35mVisit Load (0.2ms)[0m  SELECT "visits".* FROM "visits"
  Rendered visits/index.html.erb within layouts/application (3.8ms)
  Rendered shared/_nav_bar.html.erb (3.0ms)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"MyString", "short"=>"MyString", "user_id"=>"1"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#new as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"MyString", "short"=>"MyString", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#index as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-31 20:08:28', '2016-03-31 20:08:28', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', '2016-03-31 20:08:28', '2016-03-31 20:08:28', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (10, 'https://www.google.com.ng', '5WlE1d6j', '2016-03-31 20:08:28', '2016-03-31 20:08:28', 156271013)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$Q7ZDaJJv.rWU4/ii6dGsO.e0sNtnUjv3Sdzb9JkXz6ffFkaGbaw5C', '2016-03-31 20:08:28', '2016-03-31 20:08:28', 206669143)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$2XKP.OtGfZbWAfle4qVfau9h6ZhCvu0o8D0yIdbfrfzAO82odXK2.', '2016-03-31 20:08:28', '2016-03-31 20:08:28', 358143215)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-31 20:08:28', '2016-03-31 20:08:28', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-31 20:08:28', '2016-03-31 20:08:28', 298486374)
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"MyString", "short"=>"MyString", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#index as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"MyString", "short"=>"MyString", "user_id"=>"1"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (10, 'https://www.google.com.ng', '5WlE1d6j', '2016-03-31 20:12:57', '2016-03-31 20:12:57', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-03-31 20:12:57', '2016-03-31 20:12:57', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$CnhXEfOyD.QScKQnGjK7/eGMKNsPZ55U0J4j76yxsfKRWpJ.Valny', '2016-03-31 20:12:57', '2016-03-31 20:12:57', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$ml4vryEaMVY25dMzQGi48.gC875WiZbwgOfjmReeuzxGM3ksVb5Mm', '2016-03-31 20:12:57', '2016-03-31 20:12:57', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-31 20:12:57', '2016-03-31 20:12:57', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-31 20:12:57', '2016-03-31 20:12:57', 298486374)[0m
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (10, 'https://www.google.com.ng', '5WlE1d6j', '2016-03-31 20:13:20', '2016-03-31 20:13:20', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-03-31 20:13:20', '2016-03-31 20:13:20', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$gXM0xiBEr1l4mX01OAV0T.09azENIxpnv1uxAZOx9MZH98ARfocpa', '2016-03-31 20:13:20', '2016-03-31 20:13:20', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$mxpTRORbzOUbFqHeOCtP0uSkKVseICe/TOXLS6/J1dRVPnjGSygTS', '2016-03-31 20:13:20', '2016-03-31 20:13:20', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-31 20:13:20', '2016-03-31 20:13:20', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-03-31 20:13:20', '2016-03-31 20:13:20', 298486374)[0m
  [1m[35m (17.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"https://www.google.com.ng", "short"=>"5WlE1d6j", "user_id"=>"10"}, "id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#new as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"https://www.google.com.ng", "short"=>"5WlE1d6j", "user_id"=>"10"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (15.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (10, 'https://www.google.com.ng', '5WlE1d6j', '2016-04-01 04:13:01', '2016-04-01 04:13:01', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 04:13:01', '2016-04-01 04:13:01', 298486374)[0m
  [1m[35mFixture Delete (1.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$/2z/wO0DDV4D41bg.yUz/u0k1E3l6wuGHHUY2NpJ6/0udYR3sWc5G', '2016-04-01 04:13:02', '2016-04-01 04:13:02', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$IUpSptYOP6tl2Pj8qfDDxemQgv0n57p3uI5MREqcNL8MvD5WmYIqS', '2016-04-01 04:13:02', '2016-04-01 04:13:02', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 04:13:02', '2016-04-01 04:13:02', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 04:13:02', '2016-04-01 04:13:02', 298486374)[0m
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------
LinksControllerTest: test_new
-----------------------------
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (10, 'https://www.google.com.ng', '5WlE1d6j', '2016-04-01 04:13:35', '2016-04-01 04:13:35', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 04:13:35', '2016-04-01 04:13:35', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$AJxXttkT0RPcPIAdPtvqruQ5ZwDFGUFlVpNsaBpe4rTMQTF//XU/y', '2016-04-01 04:13:35', '2016-04-01 04:13:35', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$jvrHOb8JdF7HfqW.p0JMoeYNcY1GuOQ7.XOClZ4rdnLqu8ETWb7Hi', '2016-04-01 04:13:35', '2016-04-01 04:13:35', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 04:13:35', '2016-04-01 04:13:35', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 04:13:35', '2016-04-01 04:13:35', 298486374)[0m
  [1m[35m (7.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinksControllerTest: test_new
-----------------------------
Processing by LinksController#new as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (10, 'https://www.google.com.ng', '5WlE1d6j', '2016-04-01 04:14:30', '2016-04-01 04:14:30', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 04:14:30', '2016-04-01 04:14:30', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$k8RkB8rZc0lExwDWDAQK6uVOGdYxXiqv5ayYzYNPQLPw2Zfwwb0JS', '2016-04-01 04:14:30', '2016-04-01 04:14:30', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$V6JWUkNJKAfRkTARBBYtXOwXvb3q53scqi/UsbcaCCMG4Bvkltln6', '2016-04-01 04:14:30', '2016-04-01 04:14:30', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 04:14:30', '2016-04-01 04:14:30', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 04:14:30', '2016-04-01 04:14:30', 298486374)[0m
  [1m[35m (41.0ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinksControllerTest: test_bla_kjdskjds_
---------------------------------------
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (10, 'https://www.google.com.ng', '5WlE1d6j', '2016-04-01 04:20:58', '2016-04-01 04:20:58', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 04:20:58', '2016-04-01 04:20:58', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$4mZUcfqQdM02Y2n1AGCNHOtV5yEQxpsd3URU8nQ1EMS/pYxUNVk.K', '2016-04-01 04:20:58', '2016-04-01 04:20:58', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$LKZBCymEi8uIcXvWpDXeZ.qaSDNz6shhJOQ4V6R2o7x6fpVNo4m7i', '2016-04-01 04:20:58', '2016-04-01 04:20:58', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 04:20:58', '2016-04-01 04:20:58', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 04:20:58', '2016-04-01 04:20:58', 298486374)[0m
  [1m[35m (17.0ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------
LinksControllerTest: test_new
-----------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (10, 'https://www.google.com.ng', '5WlE1d6j', '2016-04-01 04:21:11', '2016-04-01 04:21:11', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 04:21:11', '2016-04-01 04:21:11', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$sBmXvSZtxntKjyXG8L0r0OXzqlgbFw6Ya6QR6nzmpW9hlQweRkkFW', '2016-04-01 04:21:11', '2016-04-01 04:21:11', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$s6WnrvG9VWQZ2rH4CmKZ5ukkbTRDd/7UEHgcful7X624Vw9yofwFG', '2016-04-01 04:21:11', '2016-04-01 04:21:11', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 04:21:11', '2016-04-01 04:21:11', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 04:21:11', '2016-04-01 04:21:11', 298486374)[0m
  [1m[35m (2.9ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------
LinksControllerTest: test_new
-----------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (10, 'https://www.google.com.ng', '5WlE1d6j', '2016-04-01 04:21:37', '2016-04-01 04:21:37', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 04:21:37', '2016-04-01 04:21:37', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$v/Go76bBeL8lNc6FoT5AQ.C4.1AQCtc/1/QP5n.livi99UXXK3Sbe', '2016-04-01 04:21:37', '2016-04-01 04:21:37', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$2NXKmqMP8rjLoJtHZtIrBOEmWtwXEeiWezDgMb92fAihlZO6qJm36', '2016-04-01 04:21:37', '2016-04-01 04:21:37', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 04:21:37', '2016-04-01 04:21:37', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 04:21:37', '2016-04-01 04:21:37', 298486374)[0m
  [1m[35m (5.4ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------
LinksControllerTest: test_new
-----------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (10, 'https://www.google.com.ng', '5WlE1d6j', '2016-04-01 04:22:09', '2016-04-01 04:22:09', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 04:22:09', '2016-04-01 04:22:09', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$yEG9pMVQtijQ76mUtFu6webCwQM38s1LuKSjki6R16qZGpRxyAE9K', '2016-04-01 04:22:09', '2016-04-01 04:22:09', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$xGChz.epfgobXCwW9RIXQeDQmbheXwC.omXodceLgYXnUsc96OnSK', '2016-04-01 04:22:09', '2016-04-01 04:22:09', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 04:22:09', '2016-04-01 04:22:09', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 04:22:09', '2016-04-01 04:22:09', 298486374)[0m
  [1m[35m (19.5ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------
LinksControllerTest: test_new
-----------------------------
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
  Rendered shared/_side_bar.html.erb (1.6ms)
  Rendered links/partials/_form.html.erb (50.4ms)
  Rendered links/new.html.erb within layouts/application (84.0ms)
Completed 500 Internal Server Error in 164ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mFixture Delete (16.9ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (10, 'https://www.google.com.ng', '5WlE1d6j', '2016-04-01 04:46:12', '2016-04-01 04:46:12', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 04:46:12', '2016-04-01 04:46:12', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$3Uuy7wlHZAwrhwYH5do7zODO7b0WeHiT9h5ZWGVItfT5y/GqpHrL2', '2016-04-01 04:46:12', '2016-04-01 04:46:12', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$Q8vmYssormCdw9SzONZNO.ORkeP3hNo8/1e3Nf12Ye9cWpwTTPbz.', '2016-04-01 04:46:12', '2016-04-01 04:46:12', 298486374)
  [1m[36mFixture Delete (6.6ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 04:46:12', '2016-04-01 04:46:12', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 04:46:12', '2016-04-01 04:46:12', 298486374)[0m
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (70.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (14.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (10, 'https://www.google.com.ng', '5WlE1d6j', '2016-04-01 04:48:10', '2016-04-01 04:48:10', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 04:48:10', '2016-04-01 04:48:10', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$y7D3/773swWs8kXpW90UE.rb7lz8SYv97kz22R3xJSaOzTaJuE0XK', '2016-04-01 04:48:10', '2016-04-01 04:48:10', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$pzTV1LtOSDmmoSjpfMqIm.BSxQaYqGzVSnP5q3G/KoB9s5vua.JVy', '2016-04-01 04:48:10', '2016-04-01 04:48:10', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 04:48:10', '2016-04-01 04:48:10', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 04:48:10', '2016-04-01 04:48:10', 298486374)[0m
  [1m[35m (3.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (16.9ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (10, 'https://www.google.com.ng', '5WlE1d6j', '2016-04-01 04:50:56', '2016-04-01 04:50:56', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 04:50:56', '2016-04-01 04:50:56', 298486374)[0m
  [1m[35mFixture Delete (1.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$mttMPzNnYnywSpRAylftzOpcUHutflh2hbIh4kqQ.iSlQHFzmzJO6', '2016-04-01 04:50:56', '2016-04-01 04:50:56', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$pPRR5P.smOeGYz56wOhyw.xvX1nPbWYWfQmwReW2NsngxzEXRyUda', '2016-04-01 04:50:56', '2016-04-01 04:50:56', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 04:50:56', '2016-04-01 04:50:56', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 04:50:56', '2016-04-01 04:50:56', 298486374)[0m
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (10, 'https://www.google.com.ng', '5WlE1d6j', '2016-04-01 04:51:12', '2016-04-01 04:51:12', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 04:51:12', '2016-04-01 04:51:12', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$di7ih9uBT/6wljkhw85sSuLT/sFy/6awTCc7YiFGGvtph8Ai3ywRy', '2016-04-01 04:51:12', '2016-04-01 04:51:12', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$kO0ys0dTLs9Nm9c/YEGTNOryVWNn9DxkkD/eQWDd/0q/azdHYE2Ji', '2016-04-01 04:51:12', '2016-04-01 04:51:12', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 04:51:12', '2016-04-01 04:51:12', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 04:51:12', '2016-04-01 04:51:12', 298486374)[0m
  [1m[35m (2.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (29.3ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (10, 'https://www.google.com.ng', '5WlE1d6j', '2016-04-01 04:53:06', '2016-04-01 04:53:06', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 04:53:06', '2016-04-01 04:53:06', 298486374)[0m
  [1m[35mFixture Delete (32.9ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$ZVbyPgEVF8KJ3dcnsbtAfuiMXqJem4RlNTPqkDOegoVibhxnQFo0O', '2016-04-01 04:53:06', '2016-04-01 04:53:06', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$UzaIRJlGhsOEuWyyVkyu2.c.ykPU4C4YYnsDizHVz3bx.iSqqSXsC', '2016-04-01 04:53:06', '2016-04-01 04:53:06', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 04:53:06', '2016-04-01 04:53:06', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 04:53:06', '2016-04-01 04:53:06', 298486374)[0m
  [1m[35m (15.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (10, 'https://www.google.com.ng', '5WlE1d6j', '2016-04-01 04:53:25', '2016-04-01 04:53:25', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 04:53:25', '2016-04-01 04:53:25', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$4bEGxZx1ZWprp/V7.Oti2u6kQLEg6KN0e6fVy//6y.KdO9c7NrNxq', '2016-04-01 04:53:25', '2016-04-01 04:53:25', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$l4NKcVusl9YLKQl.UwBVcu7WdhPKXT5eBGc/gNpO9xvXFDb.o1tym', '2016-04-01 04:53:25', '2016-04-01 04:53:25', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 04:53:25', '2016-04-01 04:53:25', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 04:53:25', '2016-04-01 04:53:25', 298486374)[0m
  [1m[35m (9.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "short", "created_at", "updated_at", "id") VALUES (10, '5WlE1d6j', '2016-04-01 04:53:41', '2016-04-01 04:53:41', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "short", "created_at", "updated_at", "id") VALUES (11, '1gT9UA', '2016-04-01 04:53:41', '2016-04-01 04:53:41', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$7QsUDC0jrbNfpFSopbRCQuAlyW5k9tj5FIOwhTkr65Dih3bAl1LYi', '2016-04-01 04:53:41', '2016-04-01 04:53:41', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$DVMClY/WIP2CnxH/kIcYa.Qn.i02XOjrq70ydgBPq/cs8cEjiAVJO', '2016-04-01 04:53:41', '2016-04-01 04:53:41', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 04:53:41', '2016-04-01 04:53:41', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 04:53:41', '2016-04-01 04:53:41', 298486374)[0m
  [1m[35m (27.0ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "short", "created_at", "updated_at", "id") VALUES (10, '5WlE1d6j', '2016-04-01 04:54:42', '2016-04-01 04:54:42', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "short", "created_at", "updated_at", "id") VALUES (11, '1gT9UA', '2016-04-01 04:54:42', '2016-04-01 04:54:42', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$t.nQzI0E4FGJ8dDOHFAXoerZO6kG.S3lhWjmUdJUgoPqr/On1oGLm', '2016-04-01 04:54:42', '2016-04-01 04:54:42', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$I8bxcZz.nbaaWh.5ezjWoumhUTdx1KmtqTOQG6/TwQc4JtmGYmQ8S', '2016-04-01 04:54:42', '2016-04-01 04:54:42', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 04:54:42', '2016-04-01 04:54:42', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 04:54:42', '2016-04-01 04:54:42', 298486374)[0m
  [1m[35m (2.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (10, 'https://www.google.com.ng', '5WlE1d6j', '2016-04-01 04:55:06', '2016-04-01 04:55:06', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 04:55:06', '2016-04-01 04:55:06', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$cIIeirez.KL4JPbd5flojOmoZziL7DB1JD1KZwBp/ycErlJjVxbxm', '2016-04-01 04:55:06', '2016-04-01 04:55:06', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$2AJFWz3CdGOP6k9ViRIRA.F4QJibvxBl5i/x1PVgoh7f4eXJRkihy', '2016-04-01 04:55:06', '2016-04-01 04:55:06', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 04:55:06', '2016-04-01 04:55:06', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 04:55:06', '2016-04-01 04:55:06', 298486374)[0m
  [1m[35m (31.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.4ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (10, 'https://www.google.com.ng', '5WlE1d6j', '2016-04-01 04:55:48', '2016-04-01 04:55:48', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 04:55:48', '2016-04-01 04:55:48', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$osYkYlbxCpBeGEXIUeXM2ONzv876kzdJ2lvIDUf/fKuFrroL6H8fe', '2016-04-01 04:55:48', '2016-04-01 04:55:48', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$9wsFalGBUPSJd2USABlpkuhXFp9D.1frwetlv/S00JlfkL.PoOESm', '2016-04-01 04:55:48', '2016-04-01 04:55:48', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 04:55:48', '2016-04-01 04:55:48', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 04:55:48', '2016-04-01 04:55:48', 298486374)[0m
  [1m[35m (2.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (10, 'https://www.google.com.ng', '5WlE1d6j', '2016-04-01 04:56:29', '2016-04-01 04:56:29', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 04:56:29', '2016-04-01 04:56:29', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$M1rGi8nYu2yJo39N1UxP/uOmI1auKm0420s7JuFIqQKwT1Go2ET96', '2016-04-01 04:56:29', '2016-04-01 04:56:29', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$v5jUah7lcNcJS0vI4k25pOAqIkGY74xBokr39EeRdBlq8q9UWEsxG', '2016-04-01 04:56:29', '2016-04-01 04:56:29', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 04:56:29', '2016-04-01 04:56:29', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 04:56:29', '2016-04-01 04:56:29', 298486374)[0m
  [1m[35m (30.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (10, 'https://www.google.com.ng', '5WlE1d6j', '2016-04-01 04:58:58', '2016-04-01 04:58:58', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 04:58:58', '2016-04-01 04:58:58', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$LzdUBhP.WHD2pC5z4QPS/OhoaM9JUcPTCnDZdKJYgSxNomcr0DlqK', '2016-04-01 04:58:58', '2016-04-01 04:58:58', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$8IFDmPLG/hWm2M3FrX3g/.RzNPyfslmjIDWiMxJFKboi1jiuGTPDa', '2016-04-01 04:58:58', '2016-04-01 04:58:58', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 04:58:58', '2016-04-01 04:58:58', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 04:58:58', '2016-04-01 04:58:58', 298486374)[0m
  [1m[35m (36.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.4ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (10, 'https://www.google.com.ng', '5WlE1d6j', '2016-04-01 05:00:23', '2016-04-01 05:00:23', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 05:00:23', '2016-04-01 05:00:23', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$vka3YfZ/v7McJzHCvxBHIug16QOBcVK20iVaux2cuEHs2Qv8NtuEG', '2016-04-01 05:00:23', '2016-04-01 05:00:23', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$C8NgJdJxgb0Lvz834nMLGuwRl4yyGmHZqddH6IyKzAF.jtlpoZwFy', '2016-04-01 05:00:23', '2016-04-01 05:00:23', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 05:00:23', '2016-04-01 05:00:23', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 05:00:23', '2016-04-01 05:00:23', 298486374)[0m
  [1m[35m (10.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
LinkTest: test_short_length_to_be_6_characters
----------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (10, 'https://www.google.com.ng', '5WlE1d6j', '2016-04-01 05:01:11', '2016-04-01 05:01:11', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 05:01:11', '2016-04-01 05:01:11', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$Q75x/KHcLzlSnnzLaiLXyu8f0gCztAvshbomaBpfyd47nkn9tZ3tq', '2016-04-01 05:01:11', '2016-04-01 05:01:11', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$1mWCs2kSR46piwvHOewG5.E9yqt63FqY/Ie0XDMsXzVb1VPTKEw3O', '2016-04-01 05:01:11', '2016-04-01 05:01:11', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 05:01:11', '2016-04-01 05:01:11', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 05:01:11', '2016-04-01 05:01:11', 298486374)[0m
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
LinkTest: test_short_length_to_be_6_characters
----------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (10, 'https://www.google.com.ng', '5WlE1d6j', '2016-04-01 05:01:44', '2016-04-01 05:01:44', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 05:01:44', '2016-04-01 05:01:44', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$iD5FIUtWToa./2Hj9grhgOPYHQcQX2xdHN.PlVdTkygXOGnDBQRyG', '2016-04-01 05:01:45', '2016-04-01 05:01:45', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$q7e6xEhqZuRIgisXzdYhuur92zlBPTIMgvlpOBuPMQN.eG9Tyvh.C', '2016-04-01 05:01:45', '2016-04-01 05:01:45', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 05:01:45', '2016-04-01 05:01:45', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 05:01:45', '2016-04-01 05:01:45', 298486374)[0m
  [1m[35m (5.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.4ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
LinkTest: test_short_length_to_be_6_characters
----------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (16.9ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (10, 'https://www.google.com.ng', 'MAIrIw', '2016-04-01 05:02:52', '2016-04-01 05:02:52', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 05:02:52', '2016-04-01 05:02:52', 298486374)[0m
  [1m[35mFixture Delete (1.3ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$ChDeW2gXvjiU5okAdSyQsuoQnZeCRmBA/6E/AERoYYaSGfBO2sGYu', '2016-04-01 05:02:52', '2016-04-01 05:02:52', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$yRMfFbf3224wvT5p794nyOiBC9Zm8W8ISJKGTBEW0kFoN0O4Ce7f2', '2016-04-01 05:02:52', '2016-04-01 05:02:52', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 05:02:52', '2016-04-01 05:02:52', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 05:02:52', '2016-04-01 05:02:52', 298486374)[0m
  [1m[35m (2.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
LinkTest: test_short_length_to_be_6_characters
----------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (10, 'https://www.google.com.ng', 'MAIrIw', '2016-04-01 05:05:36', '2016-04-01 05:05:36', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 05:05:36', '2016-04-01 05:05:36', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$orpPheKq1W6mpEDBKTyb6uqx3FslD6TVsMsXaLBpWPggeh9oHADn.', '2016-04-01 05:05:36', '2016-04-01 05:05:36', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$fZTNnzO/BNlAqAIieyB//u.XcTZOzP0MYtATVq4ELSvMbqGXm3TAq', '2016-04-01 05:05:36', '2016-04-01 05:05:36', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 05:05:36', '2016-04-01 05:05:36', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 05:05:36', '2016-04-01 05:05:36', 298486374)[0m
  [1m[35m (2.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
LinkTest: test_short_length_to_be_6_characters
----------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (10, 'https://www.google.com.ng', 'MAIrIw', '2016-04-01 05:07:01', '2016-04-01 05:07:01', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 05:07:01', '2016-04-01 05:07:01', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$j06o8IKenrxRpnnpaf9DI.t4P60qHom59iZ4F9.xNZyPFTANeMkH6', '2016-04-01 05:07:01', '2016-04-01 05:07:01', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$WEbc0uoA/KhRh2p0VqeVwe/efoNvDBkYZHaGW77IEdcXnE8zk3mzq', '2016-04-01 05:07:01', '2016-04-01 05:07:01', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 05:07:01', '2016-04-01 05:07:01', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 05:07:01', '2016-04-01 05:07:01', 298486374)[0m
  [1m[35m (20.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
LinkTest: test_short_length_to_be_6_characters
----------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (10, 'https://www.google.com.ng', 'MAIrIw', '2016-04-01 05:09:40', '2016-04-01 05:09:40', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 05:09:40', '2016-04-01 05:09:40', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$45m9Zs5RYyGVZFgklhcCjOMqrN6BXUzLMAj6YeVSmJx30kacT8Du2', '2016-04-01 05:09:40', '2016-04-01 05:09:40', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$8Y3.Q4IfDpts2ZK4f0iyQOP.3hFNyGuTpgJOXPi3IkWEN2hJqVHG6', '2016-04-01 05:09:40', '2016-04-01 05:09:40', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 05:09:40', '2016-04-01 05:09:40', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 05:09:40', '2016-04-01 05:09:40', 298486374)[0m
  [1m[35m (2.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
LinkTest: test_short_length_to_be_6_characters
----------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (10, 'https://www.google.com.ng', 'MAIrIw', '2016-04-01 05:10:00', '2016-04-01 05:10:00', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 05:10:00', '2016-04-01 05:10:00', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$WiEWJnJDp26/3rnvBvO2iugxn.fBayYRT.058fLF1a6WPXMmY428W', '2016-04-01 05:10:00', '2016-04-01 05:10:00', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$FkH6W75Pe/yA/vLuDVXKneVjUONjJj.jvdnqvfJhjxAOXPya.QtPO', '2016-04-01 05:10:00', '2016-04-01 05:10:00', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 05:10:00', '2016-04-01 05:10:00', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 05:10:00', '2016-04-01 05:10:00', 298486374)[0m
  [1m[35m (31.2ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.4ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
LinkTest: test_short_length_to_be_6_characters
----------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (10, 'https://www.google.com.ng', 'MAIrIw', '2016-04-01 05:10:19', '2016-04-01 05:10:19', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 05:10:19', '2016-04-01 05:10:19', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$Dc.rS9Hm41a8bQx2PT44J.3w5DXN5VfhlzaCwH3We.BuqgjCsAWVW', '2016-04-01 05:10:19', '2016-04-01 05:10:19', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$kmoQlklSqIM2PS1gDX2A8.dCvudMUSN8PSbCkKixfRVGTOLHvR99y', '2016-04-01 05:10:19', '2016-04-01 05:10:19', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 05:10:19', '2016-04-01 05:10:19', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 05:10:19', '2016-04-01 05:10:19', 298486374)[0m
  [1m[35m (27.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
LinkTest: test_short_length_to_be_6_characters
----------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (17.0ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (10, 'https://www.google.com.ng', 'MAIrIw', '2016-04-01 05:15:42', '2016-04-01 05:15:42', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 05:15:42', '2016-04-01 05:15:42', 298486374)[0m
  [1m[35mFixture Delete (1.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$61EQfGhf983fJIxHw1l4me2easYbM3ee2YvzBD4aZkdNFlBAzioCS', '2016-04-01 05:15:42', '2016-04-01 05:15:42', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$r5D0F73AFMfWjg7V1SRQSe/wyLjxirS9Di8fBZhE8dB.BwBJyDSHu', '2016-04-01 05:15:42', '2016-04-01 05:15:42', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 05:15:42', '2016-04-01 05:15:42', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 05:15:42', '2016-04-01 05:15:42', 298486374)[0m
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
LinkTest: test_short_length_to_be_6_characters
----------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (10, 'https://www.google.com.ng', 'MAIrIw', '2016-04-01 05:16:46', '2016-04-01 05:16:46', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 05:16:46', '2016-04-01 05:16:46', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$92xpPXWUOqHlvY0Rj/KMhe88Q/baGkQD0yqLirnw7cQT9ZuVDmHNe', '2016-04-01 05:16:46', '2016-04-01 05:16:46', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$/3l3xPetpWaUrY9A4NWMietAOqKJsaEO728D/RJpqr6m7MiQWu//6', '2016-04-01 05:16:46', '2016-04-01 05:16:46', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 05:16:46', '2016-04-01 05:16:46', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 05:16:46', '2016-04-01 05:16:46', 298486374)[0m
  [1m[35m (2.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
LinkTest: test_short_length_to_be_6_characters
----------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (10, 'https://www.google.com.ng', 'MAIrIw', '2016-04-01 05:17:25', '2016-04-01 05:17:25', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 05:17:25', '2016-04-01 05:17:25', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$EpzDyg0V6ZND5arR6Dk0NOguj.qBLnpRJzNgS7lbmoq.iFJpJYDXy', '2016-04-01 05:17:25', '2016-04-01 05:17:25', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$qYytczuiRnz/HfRvEw.8HOICzVczuuUpE4SuveCV8Fzz.EnjpGDQi', '2016-04-01 05:17:25', '2016-04-01 05:17:25', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 05:17:25', '2016-04-01 05:17:25', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 05:17:25', '2016-04-01 05:17:25', 298486374)[0m
  [1m[35m (17.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_links_should_relate_to_visit
-------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
LinkTest: test_short_length_to_be_6_characters
----------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mVisit Load (0.3ms)[0m  [1mSELECT "visits".* FROM "visits" WHERE "visits"."link_id" = ?[0m  [["link_id", 980190962]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (10, 'https://www.google.com.ng', 'MAIrIw', '2016-04-01 05:18:37', '2016-04-01 05:18:37', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 05:18:37', '2016-04-01 05:18:37', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$5yKc15ijymjx2LH9XDi51efsPHgHytbWXMth5zVV2wuQjx3KEIrka', '2016-04-01 05:18:37', '2016-04-01 05:18:37', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$/e3GbLKaDQ5fuyHA4Hjd3Ogq6MRP/ayRPjekifdY0mj93aTpRe9w.', '2016-04-01 05:18:37', '2016-04-01 05:18:37', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 05:18:37', '2016-04-01 05:18:37', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 05:18:37', '2016-04-01 05:18:37', 298486374)[0m
  [1m[35m (2.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
LinkTest: test_short_length_to_be_6_characters
----------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_links_should_relate_to_visit
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (10, 'https://www.google.com.ng', 'MAIrIw', '2016-04-01 05:19:04', '2016-04-01 05:19:04', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 05:19:04', '2016-04-01 05:19:04', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$MhNIdf4.1urG8GnaNyXabeEDdu49WNofanHuCLCMD8HEbL3x1FLeu', '2016-04-01 05:19:04', '2016-04-01 05:19:04', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$Tszv0KutCGXefQ6r1TVr/uHGsUXkGb6LGkJgz.gUXNSaK4SPZ2REy', '2016-04-01 05:19:04', '2016-04-01 05:19:04', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 05:19:04', '2016-04-01 05:19:04', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 05:19:04', '2016-04-01 05:19:04', 298486374)[0m
  [1m[35m (47.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_links_should_relate_to_visit
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
LinkTest: test_short_length_to_be_6_characters
----------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (16.8ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (10, 'https://www.google.com.ng', 'MAIrIw', '2016-04-01 08:23:50', '2016-04-01 08:23:50', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 08:23:50', '2016-04-01 08:23:50', 298486374)[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$7FkLuBJ7orUzsdbbA2iAxuyEmPoQ.xqUdE7j6iUmBdtnKLbIxeS7u', '2016-04-01 08:23:50', '2016-04-01 08:23:50', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$.k5q9WyrwRWJFF1md9juReepk5tQmoncHrKvIU5g/GmrzjEy5qyh6', '2016-04-01 08:23:50', '2016-04-01 08:23:50', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 08:23:50', '2016-04-01 08:23:50', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 08:23:50', '2016-04-01 08:23:50', 298486374)[0m
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
LinkTest: test_short_length_to_be_6_characters
----------------------------------------------
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_links_should_relate_to_visit
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (17.0ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (10, 'https://www.google.com.ng', 'MAIrIw', '2016-04-01 08:40:32', '2016-04-01 08:40:32', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 08:40:32', '2016-04-01 08:40:32', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$.2TQjKqG23dTrNCWGLu5Muw8gCuvhULz.RbdI/HRkwkGruJOIx7o6', '2016-04-01 08:40:32', '2016-04-01 08:40:32', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$AB87uKxOzl9s4PoepNlR0O9JD3mzPCrI86i129zgbr6.akyeAKPZG', '2016-04-01 08:40:32', '2016-04-01 08:40:32', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 08:40:32', '2016-04-01 08:40:32', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 08:40:32', '2016-04-01 08:40:32', 298486374)[0m
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinksControllerTest: test_new
-----------------------------
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/_form.html.erb (182.7ms)
  Rendered visits/edit.html.erb within layouts/application (221.6ms)
  Rendered shared/_nav_bar.html.erb (27.0ms)
Completed 500 Internal Server Error in 360ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (4.6ms)
  Rendered visits/new.html.erb within layouts/application (6.1ms)
  Rendered shared/_nav_bar.html.erb (2.6ms)
Completed 500 Internal Server Error in 31ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>"MyString", "browser_version"=>"MyString", "ip"=>"MyString", "link_id"=>"1", "os"=>"MyString"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["link_id", 1], ["ip", "MyString"], ["browser", "MyString"], ["browser_version", "MyString"], ["os", "MyString"], ["created_at", "2016-04-01 08:40:33.173658"], ["updated_at", "2016-04-01 08:40:33.173658"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT "visits".* FROM "visits"[0m
  Rendered visits/index.html.erb within layouts/application (1.9ms)
  Rendered shared/_nav_bar.html.erb (2.5ms)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "visits" WHERE "visits"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>"MyString", "browser_version"=>"MyString", "ip"=>"MyString", "link_id"=>"1", "os"=>"MyString"}, "id"=>"980190962"}
  [1m[35mVisit Load (0.0ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.0ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (1.1ms)
  Rendered shared/_nav_bar.html.erb (1.9ms)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
LinkTest: test_short_length_to_be_6_characters
----------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_links_should_relate_to_visit
-------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
RedirectControllerTest: test_should_get_show
--------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (6.8ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (9.5ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (10, 'https://www.google.com.ng', 'MAIrIw', '2016-04-01 08:41:08', '2016-04-01 08:41:08', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 08:41:08', '2016-04-01 08:41:08', 298486374)[0m
  [1m[35mFixture Delete (1.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$pWiTilzvUmVWuX300wS.NOqojyUIySgh8dA3G67uZ9q.98u4kCuDm', '2016-04-01 08:41:08', '2016-04-01 08:41:08', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$b3SYUxsP6WfP78dog40VTe21OxWt4nJzKZYGDXIBxMLWT7KUmCU5K', '2016-04-01 08:41:08', '2016-04-01 08:41:08', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 08:41:08', '2016-04-01 08:41:08', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 08:41:08', '2016-04-01 08:41:08', 298486374)[0m
  [1m[35m (16.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_links_should_relate_to_visit
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
LinkTest: test_short_length_to_be_6_characters
----------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (16.9ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (10, 'https://www.google.com.ng', 'MAIrIw', '2016-04-01 08:59:59', '2016-04-01 08:59:59', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 08:59:59', '2016-04-01 08:59:59', 298486374)[0m
  [1m[35mFixture Delete (1.3ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$Sc00xdSnNUYhpDRaCYwWV.reOprbbODVp5wu.9QSyuyGbVJl3cCzu', '2016-04-01 08:59:59', '2016-04-01 08:59:59', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$EUTD6AWPgZ17HyPOjtC2N./.5vPjdP88rgAnnjRbg1vqeJ0UoUoqK', '2016-04-01 08:59:59', '2016-04-01 08:59:59', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 08:59:59', '2016-04-01 08:59:59', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 08:59:59', '2016-04-01 08:59:59', 298486374)[0m
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[35mLink Load (40.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_links_should_relate_to_visit
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
LinkTest: test_short_length_to_be_6_characters
----------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (10, 'https://www.google.com.ng', 'MAIrIw', '2016-04-01 09:00:23', '2016-04-01 09:00:23', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 09:00:23', '2016-04-01 09:00:23', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$Y4w2dUcTdfO74.0ifCPGjuuYc9Y84XPuTrPcrWyQQyKshO7xnlnby', '2016-04-01 09:00:23', '2016-04-01 09:00:23', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$KVU6nTjB5wcn2Ey8gOQM/u/qeWwpwU3R.Ma3X3X8prb07CZ7ySs/W', '2016-04-01 09:00:23', '2016-04-01 09:00:23', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 09:00:23', '2016-04-01 09:00:23', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 09:00:23', '2016-04-01 09:00:23', 298486374)[0m
  [1m[35m (3.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[35mLink Load (0.4ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
LinkTest: test_short_length_to_be_6_characters
----------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_links_should_relate_to_visit
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (10, 'https://www.google.com.ng', 'MAIrIw', '2016-04-01 09:04:47', '2016-04-01 09:04:47', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 09:04:47', '2016-04-01 09:04:47', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$PTIgN2UhsxjMRE8R0wzS3.1S5ocBlWapjNWxoT9HpIg8ypB/OXcmm', '2016-04-01 09:04:47', '2016-04-01 09:04:47', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$Ir5ugBq4gvE5S40XDRy.R.GQRXGQdQZGNjYHidgekJETt2RwXn3o.', '2016-04-01 09:04:47', '2016-04-01 09:04:47', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 09:04:47', '2016-04-01 09:04:47', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 09:04:47', '2016-04-01 09:04:47', 298486374)[0m
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_links_should_relate_to_visit
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinkTest: test_link_should_relate_to_users
------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
LinkTest: test_short_length_to_be_6_characters
----------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 09:07:32', '2016-04-01 09:07:32', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$nWgd5Ne5pSEV8vyu5bRzquBKMjh8Om4akNhLF2IUGUkoqh7AEhJRO', '2016-04-01 09:07:32', '2016-04-01 09:07:32', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$RMgFmJYBWgRgsqD4SkZrWunUa04vIFQyaTU/.qPeG0iPDXHfc7hZu', '2016-04-01 09:07:32', '2016-04-01 09:07:32', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 09:07:32', '2016-04-01 09:07:32', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 09:07:32', '2016-04-01 09:07:32', 298486374)
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_links_should_relate_to_visit
-------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
LinkTest: test_short_length_to_be_6_characters
----------------------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinkTest: test_link_should_relate_to_users
------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 09:08:06', '2016-04-01 09:08:06', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$i2kEgc1jDKMhPBHwXxuDP.gPBItFoER8OmPNsMUyZIA50dx8UIqcG', '2016-04-01 09:08:06', '2016-04-01 09:08:06', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$QYzxO4B.QMd6t75uGTGe5ekwvrzVV8nZQLNX0CgMb.X68x.9wmPgq', '2016-04-01 09:08:06', '2016-04-01 09:08:06', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 09:08:06', '2016-04-01 09:08:06', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 09:08:06', '2016-04-01 09:08:06', 298486374)
  [1m[36m (32.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------
LinkTest: test_link_should_relate_to_users
------------------------------------------
  [1m[36mLink Load (0.6ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
LinkTest: test_short_length_to_be_6_characters
----------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_links_should_relate_to_visit
-------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 09:09:13', '2016-04-01 09:09:13', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$Ohr2PS1Gc/t1Rop8IUIoe.BZamOFnpfSMF1QqJYwyt.KtzomzaPnK', '2016-04-01 09:09:13', '2016-04-01 09:09:13', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$hfTWb41UtMmZCLl2R4n2zOQbw63bDzVFsnvhHMFR6lUUkSlIwXMM6', '2016-04-01 09:09:13', '2016-04-01 09:09:13', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 09:09:13', '2016-04-01 09:09:13', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 09:09:13', '2016-04-01 09:09:13', 298486374)
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_links_should_relate_to_visit
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
LinkTest: test_short_length_to_be_6_characters
----------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 09:11:14', '2016-04-01 09:11:14', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$aZ/YEZTIcK1RjuaoB3tpduoR8iYPPVhdiwMacrx3gCEUEXsyWPp2K', '2016-04-01 09:11:14', '2016-04-01 09:11:14', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$qwBoQqZVYkvU0iQkltm/9.sPM7QkE8Du0Ap72JyN1JTGh1Phlv3Gy', '2016-04-01 09:11:14', '2016-04-01 09:11:14', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 09:11:14', '2016-04-01 09:11:14', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 09:11:14', '2016-04-01 09:11:14', 298486374)
  [1m[36m (2.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_links_should_relate_to_visit
-------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
LinkTest: test_short_length_to_be_6_characters
----------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 09:15:52', '2016-04-01 09:15:52', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$pDZuNeeRZJsBv5JS5nUbk.Hly68cKLN0izwHfQf6wevf6UImUhhoG', '2016-04-01 09:15:52', '2016-04-01 09:15:52', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$dbHN0cPtZigw.t5LB4FxA.iFyQ7gtA1DsW8Rc9XqlBBr8nuQoOeYK', '2016-04-01 09:15:52', '2016-04-01 09:15:52', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 09:15:52', '2016-04-01 09:15:52', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 09:15:52', '2016-04-01 09:15:52', 298486374)
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 09:19:02', '2016-04-01 09:19:02', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$2U4eT/ykWeOPBYhY16Vm6.EnDplsHK2sgJBxSZsPyKsrYmbBL9K9K', '2016-04-01 09:19:02', '2016-04-01 09:19:02', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$dvSjvJwkebYEquEx6BqOxuN44rGoL6I9.sNdEvJcsEBXu8V5jPK3K', '2016-04-01 09:19:02', '2016-04-01 09:19:02', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 09:19:02', '2016-04-01 09:19:02', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 09:19:02', '2016-04-01 09:19:02', 298486374)
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
LinkTest: test_belongs_to_user
------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
LinkTest: test_short_length_to_be_6_characters
----------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 09:19:29', '2016-04-01 09:19:29', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$bRjUGcYO54jzUCJ63d0FtuNtayQVjtYipyx1epsBtmqOd0GvTv97.', '2016-04-01 09:19:29', '2016-04-01 09:19:29', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$8wq9dPLZIvtySeT7gv08C.u6hzVLyU0xo11pSU3GuwbwoMwIj8gau', '2016-04-01 09:19:29', '2016-04-01 09:19:29', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 09:19:29', '2016-04-01 09:19:29', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 09:19:29', '2016-04-01 09:19:29', 298486374)
  [1m[36m (4.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
LinkTest: test_short_length_to_be_6_characters
----------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
LinkTest: test_belongs_to_user
------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 09:19:52', '2016-04-01 09:19:52', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$usOT/rc5Hm6aDmj5fEgUL.HM1wzx8fIwEvPzjQMoc9S7rzGKPquza', '2016-04-01 09:19:52', '2016-04-01 09:19:52', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$YEs1.zci8RdmC/8L8ELrVepqv8EJSunUbl.h83PwD9AwiiSE7xC2m', '2016-04-01 09:19:52', '2016-04-01 09:19:52', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 09:19:52', '2016-04-01 09:19:52', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 09:19:52', '2016-04-01 09:19:52', 298486374)
  [1m[36m (2.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
LinkTest: test_short_length_to_be_6_characters
----------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
LinkTest: test_belongs_to_user
------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 09:22:07', '2016-04-01 09:22:07', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$fPwuqlHeo7QDCB5Ck5ogsO1kCEOw98H198qMllERvPPgoyrVMrHlK', '2016-04-01 09:22:07', '2016-04-01 09:22:07', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$jLrwN/qaUzxYByakVCazqO/FHN1AuFh36OL2hBbVp23Iqd/Dpl0um', '2016-04-01 09:22:07', '2016-04-01 09:22:07', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 09:22:07', '2016-04-01 09:22:07', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 09:22:07', '2016-04-01 09:22:07', 298486374)
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
LinkTest: test_belongs_to_user
------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
LinkTest: test_short_length_to_be_6_characters
----------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 09:22:21', '2016-04-01 09:22:21', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$xmnzBPjF3ZGBjErf6.fMf.3eX6jTepzIq.7vhFk.aMRvzDNsNA2gK', '2016-04-01 09:22:21', '2016-04-01 09:22:21', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$KL4GO/vz2ehGoXgeNmjkouhiYeMk2uJQKKwz708BD8bM2rwRqTIgK', '2016-04-01 09:22:21', '2016-04-01 09:22:21', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 09:22:21', '2016-04-01 09:22:21', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 09:22:21', '2016-04-01 09:22:21', 298486374)
  [1m[36m (2.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
LinkTest: test_short_length_to_be_6_characters
----------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 09:22:50', '2016-04-01 09:22:50', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$VQXCWfcSQ9.6iBTIgQyXPuDGgN6/ENaO8jqNqER10CUXAC.6FxSVS', '2016-04-01 09:22:50', '2016-04-01 09:22:50', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$L9PzGmIUmri4yg1X9iaC5Ot1bdyfa7ly0iEsQVZlKZuRnah1IwuJq', '2016-04-01 09:22:50', '2016-04-01 09:22:50', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 09:22:50', '2016-04-01 09:22:50', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 09:22:50', '2016-04-01 09:22:50', 298486374)
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 09:24:10', '2016-04-01 09:24:10', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$8Ef7WKvY6/T3Sj7OrX/nzuoYTYgJkkkpSLTFSdOh/RYXDLtS2FzOi', '2016-04-01 09:24:10', '2016-04-01 09:24:10', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$MdFMGH6.gN.9PddDYJoKQuhiLjfkcUUHICMRNXgzAMvBY8veMWVSu', '2016-04-01 09:24:10', '2016-04-01 09:24:10', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 09:24:10', '2016-04-01 09:24:10', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyString', 'MyString', '2016-04-01 09:24:10', '2016-04-01 09:24:10', 298486374)
  [1m[36m (2.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
LinkTest: test_short_length_to_be_6_characters
----------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 09:26:56', '2016-04-01 09:26:56', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$6Om7ED9YuqPrcRL1dzT74ewNqT7u6t64myW0eVLItufVBOCP.kale', '2016-04-01 09:26:56', '2016-04-01 09:26:56', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$menlaLKkW1bFTXoyALhu9eTteWfC6Yyrg2wFvOPrnJkKAVf8oVS7m', '2016-04-01 09:26:56', '2016-04-01 09:26:56', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (99, ':1', NULL, NULL, NULL, '2016-04-01 09:26:56', '2016-04-01 09:26:56', 980190962)[0m
  [1m[35m (30.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
VisitTest: test_valid
---------------------
  [1m[35mVisit Load (0.4ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 09:29:01', '2016-04-01 09:29:01', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$Aqx/JUHKCjk1UjwymENBA.21PQtXriAicICNAR6hG08vlvdKgHPEK', '2016-04-01 09:29:01', '2016-04-01 09:29:01', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$3fJ69Z6pLzW2fPC0qQf2uOQRm9ueSyAvIvF2Kweb8z3rkz4aFrgba', '2016-04-01 09:29:01', '2016-04-01 09:29:01', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (99, ':1', NULL, NULL, NULL, '2016-04-01 09:29:01', '2016-04-01 09:29:01', 980190962)[0m
  [1m[35m (13.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 99]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
VisitTest: test_valid
---------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 09:29:50', '2016-04-01 09:29:50', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$f.QW834atXzqNx8RMG4QqOQTLpZPynCRZqda7CXz3BW.YkeRDFacC', '2016-04-01 09:29:50', '2016-04-01 09:29:50', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$xhvntPoN6dXqFzPeIkqw4.1fNmQw0UntfSeGyDTL5hcEc91ncG6RG', '2016-04-01 09:29:50', '2016-04-01 09:29:50', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (99, ':1', NULL, NULL, NULL, '2016-04-01 09:29:50', '2016-04-01 09:29:50', 980190962)[0m
  [1m[35m (2.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 99]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
VisitTest: test_valid
---------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (11, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 09:30:01', '2016-04-01 09:30:01', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$0nmMMvuWQMwgYl2tpb8Gre7cNwee822SEQ19aqYgHE0LdV8iEOw1u', '2016-04-01 09:30:01', '2016-04-01 09:30:01', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$aXQeYiqWrH7zJs06VCwye.sevoEjrr5iwfooMro1hvao8QRiAZ/eK', '2016-04-01 09:30:01', '2016-04-01 09:30:01', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (99, ':1', NULL, NULL, NULL, '2016-04-01 09:30:01', '2016-04-01 09:30:01', 980190962)[0m
  [1m[35m (16.7ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[35mVisit Load (0.3ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 99]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
VisitTest: test_valid
---------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mLink Load (2.1ms)[0m  [1mSELECT "links".* FROM "links"[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT "links".* FROM "links"[0m
  [1m[35mLink Load (0.3ms)[0m  SELECT "links".* FROM "links"
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 09:33:13', '2016-04-01 09:33:13', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$7SOANlMcK/Dzyiy6QT.qjeDyGIjoUNwa/R108drM1s8ysIPKJhTDG', '2016-04-01 09:33:13', '2016-04-01 09:33:13', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$jwxTxjNx0HU8KVejkq2UkuSRENq7PGGCsINvC88sqg78tft6WofQS', '2016-04-01 09:33:13', '2016-04-01 09:33:13', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (99, ':1', NULL, NULL, NULL, '2016-04-01 09:33:13', '2016-04-01 09:33:13', 980190962)[0m
  [1m[35m (2.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
LinkTest: test_short_length_to_be_6_characters
----------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mLink Load (1.9ms)[0m  [1mSELECT "links".* FROM "links"[0m
  [1m[35mVisit Load (0.3ms)[0m  SELECT "visits".* FROM "visits"
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (8.1ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 09:34:23', '2016-04-01 09:34:23', 980190962)
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$kZDBzgM.RElekcnrXQWmoejh7HQTQbSZkP5MJrdqDlhuMUS4JaD3S', '2016-04-01 09:34:23', '2016-04-01 09:34:23', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$QkdbUoCq2PrjALYX5LdLSuDHDLeQe0vW9HZZm7Sjb8ph5qGN/PkyS', '2016-04-01 09:34:23', '2016-04-01 09:34:23', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 09:34:23', '2016-04-01 09:34:23', 980190962)[0m
  [1m[35m (5.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
VisitTest: test_valid
---------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
LinkTest: test_short_length_to_be_6_characters
----------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 09:34:40', '2016-04-01 09:34:40', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$qgnaMZ7BlY.EE5vuq85j1OSstYdli6R4z35wUqBJmSZD6NfpAn9LS', '2016-04-01 09:34:40', '2016-04-01 09:34:40', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$gS5P6TtMMkdobxxRu.qI8u3XaiUl5JBlC2xDpLvtMFyKxibZ2BX9S', '2016-04-01 09:34:40', '2016-04-01 09:34:40', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 09:34:40', '2016-04-01 09:34:40', 980190962)[0m
  [1m[35m (33.8ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[35mVisit Load (0.3ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>":1", "link_id"=>"980190962", "os"=>nil}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["link_id", 980190962], ["ip", ":1"], ["created_at", "2016-04-01 09:34:40.711007"], ["updated_at", "2016-04-01 09:34:40.711007"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190963
Completed 302 Found in 22ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (21.0ms)
  Rendered shared/_nav_bar.html.erb (16.2ms)
Completed 500 Internal Server Error in 140ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (68.3ms)
  Rendered visits/new.html.erb within layouts/application (79.5ms)
  Rendered shared/_nav_bar.html.erb (2.7ms)
Completed 500 Internal Server Error in 93ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.0ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "visits" WHERE "visits"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>":1", "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.0ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/_form.html.erb (2.6ms)
  Rendered visits/edit.html.erb within layouts/application (3.4ms)
  Rendered shared/_nav_bar.html.erb (1.8ms)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT "visits".* FROM "visits"[0m
  Rendered visits/index.html.erb within layouts/application (1.6ms)
  Rendered shared/_nav_bar.html.erb (1.8ms)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
LinkTest: test_short_length_to_be_6_characters
----------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------
VisitTest: test_valid
---------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinksControllerTest: test_new
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
RedirectControllerTest: test_should_get_show
--------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 09:35:08', '2016-04-01 09:35:08', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$oqeHXiKaKtF5H9futqXFgulIjE1JlBq7NMTwRqHzxDiYNtHvt.lou', '2016-04-01 09:35:08', '2016-04-01 09:35:08', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$Rat/lqTTD/eRbNGEGxpF7u7/0JaUHBd0uYN6fT6CPv3dj0QYuwVM2', '2016-04-01 09:35:08', '2016-04-01 09:35:08', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 09:35:08', '2016-04-01 09:35:08', 980190962)[0m
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
VisitTest: test_valid
---------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 09:35:45', '2016-04-01 09:35:45', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$sBdD/MP65g/NiMPPhLM9hO423tGLUoFNaO.l41e9OE8cNKCbDF.Fq', '2016-04-01 09:35:45', '2016-04-01 09:35:45', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$WTOkCeag4b1tjSOQvteSZuJS9Q2Ai/PMJvHcdO2ta8R.6oDtcjWSq', '2016-04-01 09:35:45', '2016-04-01 09:35:45', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 09:35:45', '2016-04-01 09:35:45', 980190962)[0m
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[36mLink Load (0.8ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
LinkTest: test_short_length_to_be_6_characters
----------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.7ms)[0m  begin transaction
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------
VisitTest: test_valid
---------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 09:36:14', '2016-04-01 09:36:14', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$LCQeSOCa0sjproLdyd1x..PC.wsoTkDvfpa1Rv.CpBM9WhUIgWCby', '2016-04-01 09:36:14', '2016-04-01 09:36:14', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$AWNy4Oe.hADa63xmxUpEm.2MRN40wk0hVh1D3gowVDsk8.F8bkyoe', '2016-04-01 09:36:14', '2016-04-01 09:36:14', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 09:36:14', '2016-04-01 09:36:14', 980190962)[0m
  [1m[35m (2.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[35mVisit Load (0.3ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "visits" WHERE "visits"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>":1", "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[35mVisit Load (0.0ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[35mVisit Load (0.1ms)[0m  SELECT "visits".* FROM "visits"
  Rendered visits/index.html.erb within layouts/application (3.1ms)
  Rendered shared/_nav_bar.html.erb (5.3ms)
Completed 500 Internal Server Error in 26ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>":1", "link_id"=>"980190962", "os"=>nil}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "visits" ("link_id", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["link_id", 980190962], ["ip", ":1"], ["created_at", "2016-04-01 09:36:15.112411"], ["updated_at", "2016-04-01 09:36:15.112411"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (26.0ms)
  Rendered visits/new.html.erb within layouts/application (28.2ms)
  Rendered shared/_nav_bar.html.erb (1.8ms)
Completed 500 Internal Server Error in 33ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.0ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (0.8ms)
  Rendered shared/_nav_bar.html.erb (1.8ms)
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.0ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/_form.html.erb (2.4ms)
  Rendered visits/edit.html.erb within layouts/application (3.3ms)
  Rendered shared/_nav_bar.html.erb (1.8ms)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinksControllerTest: test_new
-----------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
RedirectControllerTest: test_should_get_show
--------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 09:37:24', '2016-04-01 09:37:24', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$Wb01ImhlrJ3vjD39LH5cTuYXfNrYSU9o6kgq3ltO2.1mPxaEgjOnK', '2016-04-01 09:37:24', '2016-04-01 09:37:24', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$qKeVnU8XL5lfiBoYpQZZpepoCTxAEFeqZ7bdBwvPVACV9vhgeJlDW', '2016-04-01 09:37:24', '2016-04-01 09:37:24', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 09:37:24', '2016-04-01 09:37:24', 980190962)[0m
  [1m[35m (20.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinksControllerTest: test_new
-----------------------------
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[35mVisit Load (0.1ms)[0m  SELECT "visits".* FROM "visits"
  Rendered visits/index.html.erb within layouts/application (4.9ms)
  Rendered shared/_nav_bar.html.erb (7.4ms)
Completed 500 Internal Server Error in 69ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (1.0ms)
  Rendered shared/_nav_bar.html.erb (2.4ms)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/_form.html.erb (26.2ms)
  Rendered visits/edit.html.erb within layouts/application (28.6ms)
  Rendered shared/_nav_bar.html.erb (4.3ms)
Completed 500 Internal Server Error in 37ms (ActiveRecord: 0.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>":1", "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (2.4ms)
  Rendered visits/new.html.erb within layouts/application (3.0ms)
  Rendered shared/_nav_bar.html.erb (1.9ms)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>":1", "link_id"=>"980190962", "os"=>nil}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["link_id", 980190962], ["ip", ":1"], ["created_at", "2016-04-01 09:37:24.963295"], ["updated_at", "2016-04-01 09:37:24.963295"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (109.7ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "visits" WHERE "visits"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (35.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
RedirectControllerTest: test_should_get_show
--------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 09:37:31', '2016-04-01 09:37:31', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$ahDCC2VUlr.nKwVb59ekv.VtGhe7xjBXD73jU6t7wdNJ./ybHgYmy', '2016-04-01 09:37:31', '2016-04-01 09:37:31', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$i1LPA4GkFxH.g4Hk1fKS.OmjEXNVpdooF5Ce0x4RGcZ2vcYgGSe0e', '2016-04-01 09:37:31', '2016-04-01 09:37:31', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 09:37:31', '2016-04-01 09:37:31', 980190962)[0m
  [1m[35m (29.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
RedirectControllerTest: test_should_get_show
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
VisitTest: test_valid
---------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>":1", "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190962
Completed 302 Found in 6ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/_form.html.erb (17.7ms)
  Rendered visits/edit.html.erb within layouts/application (24.1ms)
  Rendered shared/_nav_bar.html.erb (4.8ms)
Completed 500 Internal Server Error in 46ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (3.3ms)
  Rendered visits/new.html.erb within layouts/application (4.1ms)
  Rendered shared/_nav_bar.html.erb (1.9ms)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.0ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (0.8ms)
  Rendered shared/_nav_bar.html.erb (1.8ms)
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.0ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "visits" WHERE "visits"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (17.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>":1", "link_id"=>"980190962", "os"=>nil}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "visits" ("link_id", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["link_id", 980190962], ["ip", ":1"], ["created_at", "2016-04-01 09:37:31.972765"], ["updated_at", "2016-04-01 09:37:31.972765"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190963
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[35mVisit Load (0.1ms)[0m  SELECT "visits".* FROM "visits"
  Rendered visits/index.html.erb within layouts/application (1.6ms)
  Rendered shared/_nav_bar.html.erb (4.5ms)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
LinkTest: test_short_length_to_be_6_characters
----------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------
LinksControllerTest: test_new
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 09:37:51', '2016-04-01 09:37:51', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$4M5IRLW214XZStKr.rBRPusTJ2TRh6IoQbiF4MCwF84Ev2aoU80Di', '2016-04-01 09:37:51', '2016-04-01 09:37:51', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$Pn4QGUGUnjwoX/2K20dQwuNyRbtA4xc92PksOhG80NkwdcVXvxhO.', '2016-04-01 09:37:51', '2016-04-01 09:37:51', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 09:37:51', '2016-04-01 09:37:51', 980190962)[0m
  [1m[35m (2.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinksControllerTest: test_new
-----------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (19.6ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 09:42:48', '2016-04-01 09:42:48', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$ieCzKG684E9mKFVK7eDaI.YQtKR46rR7Ky.VT1NBF6.2lmiT9H7Eq', '2016-04-01 09:42:49', '2016-04-01 09:42:49', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$ItTJz51dEt4EaCVYVwFWo.U9cnHyCGdiTuJ3fznZRFsaDa/1xAf3K', '2016-04-01 09:42:49', '2016-04-01 09:42:49', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 09:42:49', '2016-04-01 09:42:49', 980190962)[0m
  [1m[35m (44.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#new as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}, "id"=>"980190962"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 09:44:37', '2016-04-01 09:44:37', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$FeWbARFFblwY0MbmX96mCuqTPEKkmaDL6fIIhgvavLg509iB8juRq', '2016-04-01 09:44:37', '2016-04-01 09:44:37', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$Akn/e2GEBBhqADsCZ0HsJOxWJzM1B0zmzmDPajwsqwCSZArw9Vb.C', '2016-04-01 09:44:37', '2016-04-01 09:44:37', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 09:44:37', '2016-04-01 09:44:37', 980190962)[0m
  [1m[35m (4.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 298486374], ["long", "http://ruby.about.com/"], ["short", "1gT9UA"], ["created_at", "2016-04-01 09:44:37.885073"], ["updated_at", "2016-04-01 09:44:37.885073"]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to 
Completed 500 Internal Server Error in 126ms (ActiveRecord: 1.3ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}, "id"=>"980190962"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#index as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 09:47:54', '2016-04-01 09:47:54', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$rzKCBgKK2ZO.n3w7JwHT0Ozo4P0ja7D05YP4viWnmMQ36eGkdHzb2', '2016-04-01 09:47:54', '2016-04-01 09:47:54', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$WkVDOcHgA/KwnaOa3I6vYe8QpzD8g1xetkaculpvKMqntukHOin6q', '2016-04-01 09:47:54', '2016-04-01 09:47:54', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 09:47:54', '2016-04-01 09:47:54', 980190962)[0m
  [1m[35m (8.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mLink Load (0.4ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
Completed 500 Internal Server Error in 36ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 09:49:10', '2016-04-01 09:49:10', 980190962)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$zB.fnV8Erh58fpFYg4q2/OY17bRNQ4haKNVPiHB2LMDm7N2UNNA5u', '2016-04-01 09:49:10', '2016-04-01 09:49:10', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$OGoU2pwiTJQq7dlqCkdg3.LUYtUWyjDhhMdJKZVH28DuSgtzCMmn.', '2016-04-01 09:49:10', '2016-04-01 09:49:10', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 09:49:10', '2016-04-01 09:49:10', 980190962)[0m
  [1m[35m (5.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
Completed 500 Internal Server Error in 36ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 09:55:19', '2016-04-01 09:55:19', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$ye0vpzkwqVP4GEboQv5cBu0fBnNWVglTSzR4l/XX3p8Fpa68MTjWi', '2016-04-01 09:55:19', '2016-04-01 09:55:19', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$PXQwGQZ6cgFIJIgkUvg41uw/i/HQsTvGhd48rgsF4Ak.rKacVVj4.', '2016-04-01 09:55:19', '2016-04-01 09:55:19', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 09:55:19', '2016-04-01 09:55:19', 980190962)[0m
  [1m[35m (4.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
Completed 401 Unauthorized in 36ms (ActiveRecord: 0.0ms)
  Rendered text template (0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 09:59:38', '2016-04-01 09:59:38', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$9QXRfNWv9r7ufhF9K6clL.C4IQVPsLvX/I58T5cK32Mi2alWIq9hW', '2016-04-01 09:59:38', '2016-04-01 09:59:38', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$9oEX6Fq5qHRje7EjgzM5Su8PMYOEVnyGp6gi5loQ5UYFnrlW.YoIy', '2016-04-01 09:59:38', '2016-04-01 09:59:38', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 09:59:38', '2016-04-01 09:59:38', 980190962)[0m
  [1m[35m (7.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
Completed 401 Unauthorized in 33ms (ActiveRecord: 0.0ms)
  Rendered text template (0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 10:01:14', '2016-04-01 10:01:14', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$hZZjZRf/90eWhipbi4oKz.UaRi3ecqnxMw1VH/RqNgyuWMe.8KKam', '2016-04-01 10:01:14', '2016-04-01 10:01:14', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$sG3hkISnC.hKhRH3CaPlWOgRNPHqagkP60TbzoTq35YiqVlD2ovuy', '2016-04-01 10:01:14', '2016-04-01 10:01:14', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 10:01:14', '2016-04-01 10:01:14', 980190962)[0m
  [1m[35m (12.9ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 10:10:10', '2016-04-01 10:10:10', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$B3G8Sbg6Vj6NSjYhXLWZ5uu1bKLn7qwkwpaCzTJ8M.NSuhnJBOuBu', '2016-04-01 10:10:10', '2016-04-01 10:10:10', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$9WQRqpOtd6fpiN5nD6cnl.n8bqJDZnT.tRgZ0OyC9v48qcIuOQWey', '2016-04-01 10:10:10', '2016-04-01 10:10:10', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 10:10:10', '2016-04-01 10:10:10', 980190962)[0m
  [1m[35m (7.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mLink Load (0.4ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 10:16:26', '2016-04-01 10:16:26', 980190962)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$X00B2U4KVB8g02xw1By1C.hrKcq6z8LAutl8R3GmaU2RD6Nh6.tjO', '2016-04-01 10:16:26', '2016-04-01 10:16:26', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$mpbLho.cVyI9cQlOX1fYsek86f3Wni84iRDYfa62kWNLkEQYCroOC', '2016-04-01 10:16:26', '2016-04-01 10:16:26', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 10:16:26', '2016-04-01 10:16:26', 980190962)[0m
  [1m[35m (4.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------
LinksControllerTest: test_login_user_should_get_index
-----------------------------------------------------
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (2.6ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (33.5ms)
  Rendered shared/_nav_bar.html.erb (1.7ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 182ms (Views: 124.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 10:16:56', '2016-04-01 10:16:56', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$9B2Z8horqwrbdOGufGzUZukYliJsAwM9ZWoyZvrGKeqxcF9EjHCJC', '2016-04-01 10:16:56', '2016-04-01 10:16:56', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$Pk8B5JW3DcYLrvM3Ee4PFuVuM51QwdtSwTGxPuwbX5uRyz.Ara38C', '2016-04-01 10:16:56', '2016-04-01 10:16:56', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 10:16:56', '2016-04-01 10:16:56', 980190962)[0m
  [1m[35m (7.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------
LinksControllerTest: test_login_user_should_get_index
-----------------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
Completed 401 Unauthorized in 27ms (ActiveRecord: 0.0ms)
  Rendered text template (0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 10:18:38', '2016-04-01 10:18:38', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$/AnwbUXrTLUBPwYEiDC/GuHkoGJJczWk0Y3UTg5OBhwBFJyKK76Ca', '2016-04-01 10:18:38', '2016-04-01 10:18:38', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$kMUUDhhw2WypnwCUhdzlCOVKiVxwyqpVpg7/79vXQiDJw/LrMPwfm', '2016-04-01 10:18:38', '2016-04-01 10:18:38', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 10:18:38', '2016-04-01 10:18:38', 980190962)[0m
  [1m[35m (21.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------
LinksControllerTest: test_login_user_should_get_index
-----------------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.5ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (10.5ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 49ms (Views: 29.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 10:19:59', '2016-04-01 10:19:59', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$mZzDHV0sfEwRJLVDVWaHM.ePVLE5n2ElxSXVT9MCr7/eMsH5thO3O', '2016-04-01 10:19:59', '2016-04-01 10:19:59', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$tziu0gd47eG1kY6H.Ap3PeOb38NLex47/GdoNvLh/.ixtZPO47Lw.', '2016-04-01 10:19:59', '2016-04-01 10:19:59', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 10:19:59', '2016-04-01 10:19:59', 980190962)[0m
  [1m[35m (2.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (8.4ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 48ms (Views: 26.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------
LinksControllerTest: test_login_user_should_get_index
-----------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (1.6ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 10:20:14', '2016-04-01 10:20:14', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$Yc3SA7yjQ7UxHhzQ7s9GhOPc2SC/N5hOgV/JIKvRCQ1Ln.9LnV48m', '2016-04-01 10:20:14', '2016-04-01 10:20:14', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$zP4pHik4ygT0tlGRDdkW7ej855oYqDthRxabdrVdwNrbQzU.gkudW', '2016-04-01 10:20:14', '2016-04-01 10:20:14', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 10:20:14', '2016-04-01 10:20:14', 980190962)[0m
  [1m[35m (2.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------
LinksControllerTest: test_login_user_should_get_index
-----------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.3ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (8.7ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 46ms (Views: 27.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.4ms)
  Rendered links/partials/_form.html.erb (73.1ms)
  Rendered links/new.html.erb within layouts/application (80.4ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 161ms (Views: 101.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (1.2ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 10:22:44', '2016-04-01 10:22:44', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$lQ3wsZDQWPi9lHr64YLTY.FMLhObf.AzLb/PrZ2FwMKP9AHPQOu.m', '2016-04-01 10:22:44', '2016-04-01 10:22:44', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$UqkJiE08aqGjvZeu6EmFqOtI3OQle1qNwL5mc9j2tmSBJUM3HhZqy', '2016-04-01 10:22:44', '2016-04-01 10:22:44', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 10:22:44', '2016-04-01 10:22:44', 980190962)[0m
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.1ms)
  Rendered links/partials/_form.html.erb (19.0ms)
  Rendered links/new.html.erb within layouts/application (28.0ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 70ms (Views: 46.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (2.4ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://ruby.about.com/"], ["short", "1gT9UA"], ["created_at", "2016-04-01 10:22:44.240702"], ["updated_at", "2016-04-01 10:22:44.240702"]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to 
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.8ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35mLink Load (0.4ms)[0m  SELECT "links".* FROM "links"
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 10:25:08', '2016-04-01 10:25:08', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$XtoX3tjFklLCqqn5PmSrWOD9fcdr7KWskG3lAAxOQpH1gYkHTpGuG', '2016-04-01 10:25:08', '2016-04-01 10:25:08', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$DlGffZ8IZcs7spd42Ma6v.kUJENBhxJHnndgQJCghwxg1kD1sPEYC', '2016-04-01 10:25:08', '2016-04-01 10:25:08', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 10:25:08', '2016-04-01 10:25:08', 980190962)[0m
  [1m[35m (21.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (9.3ms)
  Rendered shared/_nav_bar.html.erb (1.6ms)
  Rendered shared/_footer.html.erb (0.7ms)
Completed 200 OK in 62ms (Views: 38.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://ruby.about.com/"], ["short", "1gT9UA"], ["created_at", "2016-04-01 10:25:08.462737"], ["updated_at", "2016-04-01 10:25:08.462737"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to 
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.9ms)
  [1m[35m (57.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  Rendered links/partials/_form.html.erb (16.6ms)
  Rendered links/new.html.erb within layouts/application (21.4ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 27ms (Views: 25.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 10:28:25', '2016-04-01 10:28:25', 980190962)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$DzIOOFTWXQDpbulesXiEG./UkyZ266X3/pKl4wMHQFw8OpivKFkwi', '2016-04-01 10:28:25', '2016-04-01 10:28:25', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$b9W9rfpWo5LYCJ59x67sWe5bQVwQLP3951FyyTobouiafbVk8xE0a', '2016-04-01 10:28:25', '2016-04-01 10:28:25', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 10:28:25', '2016-04-01 10:28:25', 980190962)[0m
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://ruby.about.com/"], ["short", "1gT9UA"], ["created_at", "2016-04-01 10:28:25.356272"], ["updated_at", "2016-04-01 10:28:25.356272"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://localhost:3000/links/new
Completed 302 Found in 29ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (14.5ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 50ms (Views: 47.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (19.2ms)
  Rendered links/new.html.erb within layouts/application (22.2ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 27ms (Views: 25.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 10:29:21', '2016-04-01 10:29:21', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$kHuuEnqJv3B5uF9p02vUiuuIC8DkMlnCAVrNgIZweF1DeQswr.v/y', '2016-04-01 10:29:21', '2016-04-01 10:29:21', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$Xejqz5Vmg2eV.ExktwExS.T/CZmM3.whjLNH3nlQ5foZRW5N4iM8q', '2016-04-01 10:29:21', '2016-04-01 10:29:21', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 10:29:21', '2016-04-01 10:29:21', 980190962)[0m
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://ruby.about.com/"], ["short", "1gT9UA"], ["created_at", "2016-04-01 10:29:22.006181"], ["updated_at", "2016-04-01 10:29:22.006181"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/sessions/new
Completed 302 Found in 30ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (11.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.3ms)
  Rendered links/partials/_form.html.erb (18.6ms)
  Rendered links/new.html.erb within layouts/application (28.9ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 50ms (Views: 48.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (2.1ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[35mLink Load (0.3ms)[0m  SELECT "links".* FROM "links"
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT "links".* FROM "links"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 10:31:33', '2016-04-01 10:31:33', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$iQOvH7SmSUNlntZuhFI/UextSZxBBX/rNalkItDtIJfLvBFsSp77m', '2016-04-01 10:31:33', '2016-04-01 10:31:33', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$m5ovQKXma5XtdeTiwIiXw.uiLe9DCsQ3BvbMRGXBWrNEU.qOcFbjK', '2016-04-01 10:31:33', '2016-04-01 10:31:33', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 10:31:33', '2016-04-01 10:31:33', 980190962)[0m
  [1m[35m (16.5ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://ruby.about.com/"], ["short", "1gT9UA"], ["created_at", "2016-04-01 10:31:33.253527"], ["updated_at", "2016-04-01 10:31:33.253527"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to 
Completed 500 Internal Server Error in 32ms (ActiveRecord: 1.0ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.3ms)
  Rendered links/partials/_form.html.erb (23.1ms)
  Rendered links/new.html.erb within layouts/application (32.8ms)
  Rendered shared/_nav_bar.html.erb (1.5ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 60ms (Views: 56.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (2.1ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 10:32:20', '2016-04-01 10:32:20', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$3rcBpPQLjDe/QG5faJuLQeJf9sZVPyKOAcPZiyddqc64KRujnX.ki', '2016-04-01 10:32:20', '2016-04-01 10:32:20', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$W9Vwy183LkHCkclTtk0H0eVkcyJEvKxL3F3wgDuPijWNQaQ93Tuze', '2016-04-01 10:32:20', '2016-04-01 10:32:20', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 10:32:20', '2016-04-01 10:32:20', 980190962)[0m
  [1m[35m (2.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://ruby.about.com/"], ["short", "1gT9UA"], ["created_at", "2016-04-01 10:32:20.761947"], ["updated_at", "2016-04-01 10:32:20.761947"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 43ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (2.0ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (15.2ms)
  Rendered shared/_nav_bar.html.erb (1.5ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 46ms (Views: 42.3ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.2ms)
  Rendered links/partials/_form.html.erb (22.8ms)
  Rendered links/new.html.erb within layouts/application (28.1ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 33ms (Views: 31.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[35mLink Load (0.2ms)[0m  SELECT "links".* FROM "links"
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 10:48:33', '2016-04-01 10:48:33', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$fzu6VAGrYmIBAqyTOBxdge21XW1rn5.gran37hq7AcsIQTUhQkWtu', '2016-04-01 10:48:33', '2016-04-01 10:48:33', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$bxbtCBnzzIHzrHZpxqC4Y.q53MOq5bEypkoUOIMK/XTPN2.mz3KY.', '2016-04-01 10:48:33', '2016-04-01 10:48:33', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 10:48:33', '2016-04-01 10:48:33', 980190962)[0m
  [1m[35m (3.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://ruby.about.com/"], ["short", "1gT9UA"], ["created_at", "2016-04-01 10:48:34.434648"], ["updated_at", "2016-04-01 10:48:34.434648"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 185ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (3.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.6ms)
  Rendered links/partials/_form.html.erb (151.6ms)
  Rendered links/new.html.erb within layouts/application (197.5ms)
  Rendered shared/_nav_bar.html.erb (2.4ms)
  Rendered shared/_footer.html.erb (0.6ms)
Completed 200 OK in 286ms (Views: 284.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.8ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (3.6ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 25ms (Views: 22.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (57.6ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 10:57:59', '2016-04-01 10:57:59', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl', '2016-04-01 10:57:59', '2016-04-01 10:57:59', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$4gtpGak7qty9rz5qghUOU.bCWMaykNinGPKzI3WnY3npZGHc4MiZa', '2016-04-01 10:57:59', '2016-04-01 10:57:59', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$/yVbZU1ExQi6u3uA4xWWJuzUJPPpq4e1.F2S7qEGOPZm.IXxRhqze', '2016-04-01 10:57:59', '2016-04-01 10:57:59', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 10:57:59', '2016-04-01 10:57:59', 980190962)
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 20ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (20.7ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 147ms (Views: 90.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl", "short"=>nil, "user_id"=>nil}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (12.9ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl"], ["user_id", 980190962], ["created_at", "2016-04-01 10:58:00.429488"], ["updated_at", "2016-04-01 10:58:00.429488"], ["short", "qtAwGw"]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 56ms (ActiveRecord: 13.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (154.9ms)
  Rendered links/new.html.erb within layouts/application (158.1ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 165ms (Views: 162.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 11:00:25', '2016-04-01 11:00:25', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl', '2016-04-01 11:00:25', '2016-04-01 11:00:25', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$poOtLKIg2JYdGMUZ5H9K1uPL6UUpbMbuKwlsrFalmv0fKfOEqyCe6', '2016-04-01 11:00:25', '2016-04-01 11:00:25', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$P6U8v.oQVD/bbJZDGZgviOp01xiLk/Y95EE6UJTTWPiBbuo5lF.ji', '2016-04-01 11:00:25', '2016-04-01 11:00:25', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 11:00:25', '2016-04-01 11:00:25', 980190962)
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://ruby.about.com/"], ["short", "1gT9UA"], ["created_at", "2016-04-01 11:00:25.582800"], ["updated_at", "2016-04-01 11:00:25.582800"]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 34ms (ActiveRecord: 1.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.1ms)
  Rendered links/partials/_form.html.erb (16.7ms)
  Rendered links/new.html.erb within layouts/application (25.7ms)
  Rendered shared/_nav_bar.html.erb (1.6ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 49ms (Views: 47.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (2.1ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 11:01:04', '2016-04-01 11:01:04', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl', '2016-04-01 11:01:04', '2016-04-01 11:01:04', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$i/UVTHHuv2MZnc6QDrbIWe01aLw12IcmaDcPFMeuNuiz9/FBcx6gq', '2016-04-01 11:01:04', '2016-04-01 11:01:04', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$SWIuuaMeY9kbcVUOVVJLcO9Yd/naEK4HI1Kbb/fgoYTiRXgHStZW.', '2016-04-01 11:01:04', '2016-04-01 11:01:04', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 11:01:04', '2016-04-01 11:01:04', 980190962)
  [1m[36m (19.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://ruby.about.com/"], ["short", "1gT9UA"], ["created_at", "2016-04-01 11:01:04.349995"], ["updated_at", "2016-04-01 11:01:04.349995"]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 37ms (ActiveRecord: 1.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (11.7ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 37ms (Views: 35.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (22.7ms)
  Rendered links/new.html.erb within layouts/application (25.6ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 30ms (Views: 28.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 11:01:51', '2016-04-01 11:01:51', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl', '2016-04-01 11:01:51', '2016-04-01 11:01:51', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$RKMET7QmtaJvANmNkiJYPO88ek4khM7iat8gEVbn5DYgbTeBKHahe', '2016-04-01 11:01:51', '2016-04-01 11:01:51', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$JzJQAw028zhB2T4MoenbCuxpm9qZ75Mi5iYHRAb0lq1cGPyA0pnFC', '2016-04-01 11:01:51', '2016-04-01 11:01:51', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 11:01:51', '2016-04-01 11:01:51', 980190962)
  [1m[36m (2.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (2.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (11.1ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 50ms (Views: 34.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (18.9ms)
  Rendered links/new.html.erb within layouts/application (21.9ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 30ms (Views: 24.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://ruby.about.com/"], ["short", "1gT9UA"], ["created_at", "2016-04-01 11:01:51.984074"], ["updated_at", "2016-04-01 11:01:51.984074"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (1.6ms)[0m  [1mrollback transaction[0m
  [1m[36mLink Load (0.5ms)[0m  [1mSELECT "links".* FROM "links"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 11:26:12', '2016-04-01 11:26:12', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl', '2016-04-01 11:26:12', '2016-04-01 11:26:12', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$kcoDyhMrIGX6sN7XWXws..dqEwoO/PBpyolp4/D9AM//jPGJgWTsW', '2016-04-01 11:26:12', '2016-04-01 11:26:12', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$RpBhAs4QAIIQkqDs.fuCw.veePilIEKhubFWu6ZTD4uktHK75jzu2', '2016-04-01 11:26:12', '2016-04-01 11:26:12', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 11:26:12', '2016-04-01 11:26:12', 980190962)
  [1m[36m (7.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 22ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (22.6ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 133ms (Views: 92.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://ruby.about.com/"], ["short", "1gT9UA"], ["created_at", "2016-04-01 11:26:12.834906"], ["updated_at", "2016-04-01 11:26:12.834906"]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 51ms (ActiveRecord: 1.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.7ms)
  Rendered links/partials/_form.html.erb (136.9ms)
  Rendered links/new.html.erb within layouts/application (140.7ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 147ms (Views: 144.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mLink Load (0.3ms)[0m  SELECT "links".* FROM "links"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 11:30:16', '2016-04-01 11:30:16', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl', '2016-04-01 11:30:16', '2016-04-01 11:30:16', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$LV2M8gPYkObwodvSlg9ayeUUjQzyoxQsKjbdmZQ85ZA6swk/iFDbO', '2016-04-01 11:30:16', '2016-04-01 11:30:16', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$CGtuGciRU1LrBlPy3B3GIe91bskLzCSoW935oyEVp4hKqLzWRRE/K', '2016-04-01 11:30:16', '2016-04-01 11:30:16', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 11:30:16', '2016-04-01 11:30:16', 980190962)
  [1m[36m (5.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.8ms)
  Rendered links/partials/_form.html.erb (168.0ms)
  Rendered links/new.html.erb within layouts/application (206.3ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 435ms (Views: 367.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 13ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}, "id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (2.9ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 28ms (Views: 24.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (28.3ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://ruby.about.com/"], ["short", "1gT9UA"], ["created_at", "2016-04-01 11:30:17.548800"], ["updated_at", "2016-04-01 11:30:17.548800"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 35ms (ActiveRecord: 28.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 11:33:56', '2016-04-01 11:33:56', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl', '2016-04-01 11:33:56', '2016-04-01 11:33:56', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$/ngCXNR/PSkq4BZSQO1dL.2Pp55yE2WA1.BZTx4UzTZX9nIxF5cjO', '2016-04-01 11:33:56', '2016-04-01 11:33:56', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$Cv7sMKJTNz3wvVse4b8aK.Mi3vt/wWiSyMmeJgeC7ncmOHRlbXIiy', '2016-04-01 11:33:56', '2016-04-01 11:33:56', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 11:33:56', '2016-04-01 11:33:56', 980190962)
  [1m[36m (7.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (2.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (25.4ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 157ms (Views: 96.6ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 13ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.8ms)
  Rendered links/partials/_form.html.erb (140.5ms)
  Rendered links/new.html.erb within layouts/application (144.6ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 168ms (Views: 148.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://ruby.about.com/"], ["short", "1gT9UA"], ["created_at", "2016-04-01 11:33:57.498929"], ["updated_at", "2016-04-01 11:33:57.498929"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 6ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Started GET "/" for ::1 at 2016-04-01 12:43:55 +0100
Processing by PagesController#index as HTML
Redirected to http://localhost:3000/pages/index
Completed 302 Found in 96ms (ActiveRecord: 0.0ms)
Started GET "/pages/index" for ::1 at 2016-04-01 12:43:56 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"index"}
  [1m[36m (0.5ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (366.1ms)
  Rendered links/partials/_popular_links.html.erb (5.3ms)
  Rendered pages/index.html.erb within layouts/application (411.4ms)
Completed 500 Internal Server Error in 771ms (ActiveRecord: 33.2ms)
Started GET "/pages/index" for ::1 at 2016-04-01 12:46:03 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"index"}
  [1m[36m (0.3ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.5ms)
  Rendered links/partials/_popular_links.html.erb (5.2ms)
  Rendered pages/index.html.erb within layouts/application (7.1ms)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.4ms)
Started GET "/" for ::1 at 2016-04-01 12:46:38 +0100
Processing by PagesController#index as HTML
Redirected to http://localhost:3000/pages/index
Completed 302 Found in 37ms (ActiveRecord: 0.0ms)
Started GET "/pages/index" for ::1 at 2016-04-01 12:46:38 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"index"}
  [1m[36m (16.7ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (171.6ms)
  Rendered links/partials/_popular_links.html.erb (18.7ms)
  Rendered pages/index.html.erb within layouts/application (227.5ms)
Completed 500 Internal Server Error in 409ms (ActiveRecord: 26.3ms)
Started GET "/" for ::1 at 2016-04-01 12:48:05 +0100
Processing by PagesController#index as HTML
Redirected to http://localhost:3000/pages/index
Completed 302 Found in 46ms (ActiveRecord: 0.0ms)
Started GET "/pages/index" for ::1 at 2016-04-01 12:48:05 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"index"}
  [1m[36m (8.4ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (168.2ms)
  Rendered links/partials/_popular_links.html.erb (21022.6ms)
  Rendered pages/index.html.erb within layouts/application (21219.5ms)
Completed 401 Unauthorized in 21402ms (ActiveRecord: 17.3ms)
Started GET "/" for ::1 at 2016-04-01 12:50:47 +0100
Processing by PagesController#index as HTML
Redirected to http://localhost:3000/pages/index
Completed 302 Found in 37ms (ActiveRecord: 0.0ms)
Started GET "/pages/index" for ::1 at 2016-04-01 12:50:47 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"index"}
  [1m[36m (15.9ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (178.9ms)
  Rendered links/partials/_popular_links.html.erb (15.6ms)
  Rendered pages/index.html.erb within layouts/application (238.4ms)
Completed 500 Internal Server Error in 421ms (ActiveRecord: 25.1ms)
  [1m[36mActiveRecord::SchemaMigration Load (14.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 12:23:10', '2016-04-01 12:23:10', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl', '2016-04-01 12:23:10', '2016-04-01 12:23:10', 298486374)[0m
  [1m[35mFixture Delete (8.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$EoLpfELQPtfvXFiW9p7.4.2JTL3Q0OHh8Mkp/LzYZOUsgKG/o4Dtm', '2016-04-01 12:23:10', '2016-04-01 12:23:10', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$hQgySDm7iu3D5cBsph.eBOhhHBsax4gds516Gd2wNCXovaj3AQctC', '2016-04-01 12:23:10', '2016-04-01 12:23:10', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 12:23:10', '2016-04-01 12:23:10', 980190962)
  [1m[36m (11.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 10ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (12.2ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 106ms (Views: 48.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://ruby.about.com/"], ["short", "1gT9UA"], ["created_at", "2016-04-01 12:23:10.861069"], ["updated_at", "2016-04-01 12:23:10.861069"]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 12ms (ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.7ms)
  Rendered links/partials/_form.html.erb (21.6ms)
  Rendered links/new.html.erb within layouts/application (25.4ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 31ms (Views: 29.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 12:27:36', '2016-04-01 12:27:36', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl', '2016-04-01 12:27:36', '2016-04-01 12:27:36', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$NZJ1jPrJ0bMPKCFkWVb1ze6OT.89ZmKbwDCmF76FbzsbwwGp9ach.', '2016-04-01 12:27:36', '2016-04-01 12:27:36', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$aer3XooiEEBtFO6g3HcI0O9mpFYP98clJelGvKKz1rw9q/rOPkR3W', '2016-04-01 12:27:36', '2016-04-01 12:27:36', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 12:27:36', '2016-04-01 12:27:36', 980190962)
  [1m[36m (2.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.1ms)
  Rendered links/partials/_form.html.erb (17.9ms)
  Rendered links/new.html.erb within layouts/application (29.3ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 75ms (Views: 53.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}, "id"=>"980190962"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://ruby.about.com/"], ["short", "1gT9UA"], ["created_at", "2016-04-01 12:27:36.313701"], ["updated_at", "2016-04-01 12:27:36.313701"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 8ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (2.3ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 12:32:12', '2016-04-01 12:32:12', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl', '2016-04-01 12:32:12', '2016-04-01 12:32:12', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$miOU65oHy9VVcrU50agXA.5Q.7Kv6vlgkaq3eBDa7ZReW/wzGXUfm', '2016-04-01 12:32:12', '2016-04-01 12:32:12', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$93quVKlT.6GOO2JwN83bqORXJkEmqOx/VH2oXhV3Ht/M5O8n9T2M2', '2016-04-01 12:32:12', '2016-04-01 12:32:12', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 12:32:12', '2016-04-01 12:32:12', 980190962)
  [1m[36m (17.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (10.2ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 47ms (Views: 32.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (22.3ms)
  Rendered links/new.html.erb within layouts/application (25.3ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 35ms (Views: 29.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://ruby.about.com/"], ["short", "1gT9UA"], ["created_at", "2016-04-01 12:32:12.750388"], ["updated_at", "2016-04-01 12:32:12.750388"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 7ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (20.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 12:33:42', '2016-04-01 12:33:42', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl', '2016-04-01 12:33:42', '2016-04-01 12:33:42', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$w5SvjzzptJEWCk18RrsiC.kii1gHGzsScm3oSWjpdrxDHdIdZSIF2', '2016-04-01 12:33:42', '2016-04-01 12:33:42', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$wVnQRDp7jyPHifKSMa4G.Ow2oiWgb0U23h5q1KQUYagEjU5ooN6xW', '2016-04-01 12:33:42', '2016-04-01 12:33:42', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 12:33:42', '2016-04-01 12:33:42', 980190962)
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (2.4ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://ruby.about.com/"], ["short", "1gT9UA"], ["created_at", "2016-04-01 12:33:42.365353"], ["updated_at", "2016-04-01 12:33:42.365353"]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 40ms (ActiveRecord: 1.2ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.7ms)
  Rendered links/partials/_form.html.erb (22.3ms)
  Rendered links/new.html.erb within layouts/application (35.1ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 60ms (Views: 58.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (2.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (5.6ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 8.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 12:34:27', '2016-04-01 12:34:27', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl', '2016-04-01 12:34:27', '2016-04-01 12:34:27', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$t8FgCqg2.sytWavU.7RmvuktZnQRIpsujEKfLYORHx3ldzAGawYKW', '2016-04-01 12:34:27', '2016-04-01 12:34:27', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$y7qFFwe8bVqs6fkc7abKc.qKO9vy7lDc1wxGqO6pRteLTW6mtvk8S', '2016-04-01 12:34:27', '2016-04-01 12:34:27', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 12:34:27', '2016-04-01 12:34:27', 980190962)
  [1m[36m (32.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.1ms)
  Rendered links/partials/_form.html.erb (20.5ms)
  Rendered links/new.html.erb within layouts/application (29.8ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 72ms (Views: 50.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (3.2ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 8.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://ruby.about.com/"], ["short", "1gT9UA"], ["created_at", "2016-04-01 12:34:27.554818"], ["updated_at", "2016-04-01 12:34:27.554818"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 7ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (29.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (2.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 2.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 12:59:49', '2016-04-01 12:59:49', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl', '2016-04-01 12:59:49', '2016-04-01 12:59:49', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$4dM3eorhf2F3.ylphEFpKOBvCGGKD0BmThYFmLt2otcCAp7SdyWiW', '2016-04-01 12:59:49', '2016-04-01 12:59:49', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$RvTSeF6cW27BSxbjwkzlfexsVO9YQAKbofWsODEYIpiOXSyuqH3na', '2016-04-01 12:59:49', '2016-04-01 12:59:49', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 12:59:49', '2016-04-01 12:59:49', 980190962)
  [1m[36m (18.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[36mVisit Load (0.3ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------
VisitTest: test_valid
---------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT "visits".* FROM "visits"[0m
  Rendered visits/index.html.erb within layouts/application (4.0ms)
  Rendered shared/_nav_bar.html.erb (11.6ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 59ms (Views: 55.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.0ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (1.0ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (50.5ms)
  Rendered visits/new.html.erb within layouts/application (53.0ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 57ms (Views: 56.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>":1", "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.0ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "visits" WHERE "visits"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/_form.html.erb (4.3ms)
  Rendered visits/edit.html.erb within layouts/application (5.9ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 10.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>":1", "link_id"=>"980190962", "os"=>nil}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["link_id", 980190962], ["ip", ":1"], ["created_at", "2016-04-01 12:59:49.553618"], ["updated_at", "2016-04-01 12:59:49.553618"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
RedirectControllerTest: test_should_get_show
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
LinkTest: test_short_length_to_be_6_characters
----------------------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.9ms)
  Rendered links/partials/_form.html.erb (5.3ms)
  Rendered links/new.html.erb within layouts/application (11.5ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 21ms (Views: 18.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://ruby.about.com/"], ["short", "1gT9UA"], ["created_at", "2016-04-01 12:59:49.679730"], ["updated_at", "2016-04-01 12:59:49.679730"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (2.8ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 6.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 13:05:02', '2016-04-01 13:05:02', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl', '2016-04-01 13:05:02', '2016-04-01 13:05:02', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$fJf2VZOwxe98QkuaQ93Q.OBHskDicz1QNpXD6bcqDaiqPpt3Q1amK', '2016-04-01 13:05:02', '2016-04-01 13:05:02', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$uViHK2dncNSiFyVFY35zp./WCGvXzOcvmK7WXn8IJzE.RqIl7JgJy', '2016-04-01 13:05:02', '2016-04-01 13:05:02', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 13:05:02', '2016-04-01 13:05:02', 980190962)
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 8ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://ruby.about.com/"], ["short", "1gT9UA"], ["created_at", "2016-04-01 13:05:02.566201"], ["updated_at", "2016-04-01 13:05:02.566201"]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 30ms (ActiveRecord: 0.9ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (2.5ms)
  Rendered links/partials/_form.html.erb (18.3ms)
  Rendered links/new.html.erb within layouts/application (34.2ms)
  Rendered shared/_nav_bar.html.erb (1.8ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 59ms (Views: 57.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (4.2ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 13ms (Views: 10.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 13:06:42', '2016-04-01 13:06:42', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl', '2016-04-01 13:06:42', '2016-04-01 13:06:42', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$woLbyiJKkEtbZI91I..2OuIT7y01exJG8AkHuCBOwDkUpHPiXZT2S', '2016-04-01 13:06:42', '2016-04-01 13:06:42', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$Rb0Uxt9NsPrlVFEzgJshu.GCsywjlanonefSTthS45n5AVXnzvhsq', '2016-04-01 13:06:42', '2016-04-01 13:06:42', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 13:06:42', '2016-04-01 13:06:42', 980190962)
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://ruby.about.com/"], ["short", "1gT9UA"], ["created_at", "2016-04-01 13:06:42.277798"], ["updated_at", "2016-04-01 13:06:42.277798"]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 32ms (ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.1ms)
  Rendered links/partials/_form.html.erb (17.2ms)
  Rendered links/new.html.erb within layouts/application (26.3ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 51ms (Views: 47.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (2.1ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mUser Load (3.2ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35mLink Load (0.2ms)[0m  SELECT "links".* FROM "links" WHERE "links"."user_id" = ?  [["user_id", 298486374]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 13:17:44', '2016-04-01 13:17:44', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl', '2016-04-01 13:17:44', '2016-04-01 13:17:44', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$LK1KKll.EsA5qoK1eQlKmenBst0fw6.4LLc91qkEK1Y8QyjZRrDVe', '2016-04-01 13:17:44', '2016-04-01 13:17:44', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$CN0ax4lNxnU4W52gcIuSnOHF3okQ8BlPwqYmf48FyzC3oOKfKf1VO', '2016-04-01 13:17:44', '2016-04-01 13:17:44', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 13:17:44', '2016-04-01 13:17:44', 980190962)
  [1m[36m (26.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (9.8ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 52ms (Views: 31.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  Rendered links/partials/_form.html.erb (21.1ms)
  Rendered links/new.html.erb within layouts/application (24.8ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 34ms (Views: 28.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://ruby.about.com/"], ["short", "1gT9UA"], ["created_at", "2016-04-01 13:17:45.128753"], ["updated_at", "2016-04-01 13:17:45.128753"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 6ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (1.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 13:25:55', '2016-04-01 13:25:55', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl', '2016-04-01 13:25:55', '2016-04-01 13:25:55', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$3J.KCk.SQXQWUlCihDJRl.B/VIID.5vnQ6bJORr3T9sfbuHhYo3hC', '2016-04-01 13:25:55', '2016-04-01 13:25:55', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$GV8tgzgdYaSGD8d/UUCTneYltLo6rIf30q8jzNJbK.e5VltkdFzYe', '2016-04-01 13:25:55', '2016-04-01 13:25:55', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 13:25:55', '2016-04-01 13:25:55', 980190962)
  [1m[36m (12.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
RegistrationsControllerTest: test_should_create_user
----------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 13:27:53', '2016-04-01 13:27:53', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl', '2016-04-01 13:27:53', '2016-04-01 13:27:53', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$zhlpF3U6uI/1vue7l2G/beJydf5nzRA0yi1qPCQy66hubcPbSzEZq', '2016-04-01 13:27:53', '2016-04-01 13:27:53', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$ZJ8iSMDj5shUZHRKD3u8WOgo/3bEk85OlwYJyeYnKHoJcCipqiqJu', '2016-04-01 13:27:53', '2016-04-01 13:27:53', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 13:27:53', '2016-04-01 13:27:53', 980190962)
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://ruby.about.com/"], ["short", "1gT9UA"], ["created_at", "2016-04-01 13:27:53.496031"], ["updated_at", "2016-04-01 13:27:53.496031"]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 29ms (ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.8ms)
  Rendered links/partials/_form.html.erb (21.0ms)
  Rendered links/new.html.erb within layouts/application (32.6ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 62ms (Views: 59.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (2.9ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (11.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 13:29:33', '2016-04-01 13:29:33', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl', '2016-04-01 13:29:33', '2016-04-01 13:29:33', 298486374)[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$EhNM.ZPZC5NeKrkQMRz4Ge.9UeUKw5LiTqZcOyh5etZjp8OfBfWa2', '2016-04-01 13:29:33', '2016-04-01 13:29:33', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$Gvs3DMMDvZ0OBzh0bL.f1OpGJs9fXg6O22othiDjEdSREypo/dPNG', '2016-04-01 13:29:33', '2016-04-01 13:29:33', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 13:29:33', '2016-04-01 13:29:33', 980190962)
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.6ms)
  Rendered links/partials/_form.html.erb (130.0ms)
  Rendered links/new.html.erb within layouts/application (155.3ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 313ms (Views: 247.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 13ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
LinksControllerTest: test_logged_in_should_get_show
---------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (3.1ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 23ms (Views: 21.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://ruby.about.com/"], ["short", "1gT9UA"], ["created_at", "2016-04-01 13:29:34.308852"], ["updated_at", "2016-04-01 13:29:34.308852"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 8ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (11.5ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 13:33:29', '2016-04-01 13:33:29', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl', '2016-04-01 13:33:29', '2016-04-01 13:33:29', 298486374)[0m
  [1m[35mFixture Delete (1.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$OB.09H9A6..Ds.Ylx7gA3uIGec7286l57/wWWBUZMXUcXlQgWOQ/q', '2016-04-01 13:33:29', '2016-04-01 13:33:29', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$MN3AalerYUNVfD3Iys21O.EYE7SfaEvv7ATpVsQ5V1kcBuI7vnrcu', '2016-04-01 13:33:29', '2016-04-01 13:33:29', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 13:33:29', '2016-04-01 13:33:29', 980190962)
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 21ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.4ms)
  Rendered links/partials/_form.html.erb (202.2ms)
  Rendered links/new.html.erb within layouts/application (245.2ms)
  Rendered shared/_nav_bar.html.erb (1.3ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 399ms (Views: 326.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://ruby.about.com/"], ["short", "1gT9UA"], ["created_at", "2016-04-01 13:33:30.334800"], ["updated_at", "2016-04-01 13:33:30.334800"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 7ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (2.5ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 16ms (Views: 13.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (11.1ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 13:41:06', '2016-04-01 13:41:06', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl', '2016-04-01 13:41:06', '2016-04-01 13:41:06', 298486374)[0m
  [1m[35mFixture Delete (1.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$zndoznLoagHwuru8xLzYPeXQ0KzREZhxO.rLFYmXr5SmSXpIf91Fq', '2016-04-01 13:41:06', '2016-04-01 13:41:06', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$rFq6PAAFvUJsQzIPJOpbMelVP.77ZQQBrEIxLbNIt/UzQmYZFwFVu', '2016-04-01 13:41:06', '2016-04-01 13:41:06', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 13:41:06', '2016-04-01 13:41:06', 980190962)
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (11.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 13:42:10', '2016-04-01 13:42:10', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl', '2016-04-01 13:42:10', '2016-04-01 13:42:10', 298486374)[0m
  [1m[35mFixture Delete (1.3ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$/xSlVdgWRl5I8Txj5g7pT.g9CVxM4.ORHhrfCYmNZYUp4Wm7NeGqW', '2016-04-01 13:42:10', '2016-04-01 13:42:10', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$UffxNUyvmMpqpfxbbxLQxukj/jlt/feIkAeeqY4PWkPHA7he/sOCe', '2016-04-01 13:42:10', '2016-04-01 13:42:10', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 13:42:10', '2016-04-01 13:42:10', 980190962)
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.3ms)
  Rendered links/partials/_form.html.erb (132.1ms)
  Rendered links/new.html.erb within layouts/application (155.2ms)
  Rendered shared/_nav_bar.html.erb (1.4ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 313ms (Views: 242.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"long=http%3A%2F%2Fedgeguides.rubyonrails.org%2Ftesting.html&user_id=980190962"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 0]]
Completed 404 Not Found in 12ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (2.8ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 22ms (Views: 19.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"long=http%3A%2F%2Fedgeguides.rubyonrails.org%2Ftesting.html&user_id=980190962"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 0]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"long=http%3A%2F%2Fedgeguides.rubyonrails.org%2Ftesting.html&user_id=980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 0]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (17.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 13:46:11', '2016-04-01 13:46:11', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl', '2016-04-01 13:46:11', '2016-04-01 13:46:11', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$RIDkPRB28st9M8dKVYMWGe2M9TSKdVC0LVwAvw7xDQ3CnjkgROzyK', '2016-04-01 13:46:11', '2016-04-01 13:46:11', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$TG0qT/t6n4Ws3PV0RaJBUer744m1DtWjRmp/p3Sx/ub81uecwgDI2', '2016-04-01 13:46:11', '2016-04-01 13:46:11', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 13:46:11', '2016-04-01 13:46:11', 980190962)
  [1m[36m (7.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (10.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 13:47:11', '2016-04-01 13:47:11', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl', '2016-04-01 13:47:11', '2016-04-01 13:47:11', 298486374)[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$2CKdzYQ6N26R1YFNG5r14uFGqVx5yxAYAWMqUkgTZAVC0Ea0iVbZu', '2016-04-01 13:47:11', '2016-04-01 13:47:11', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$lL9/Pm9jtK2bkBQ8C.eoseEGgQpocQY54p2wYjWNDOZkV81PHpmSO', '2016-04-01 13:47:11', '2016-04-01 13:47:11', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 13:47:11', '2016-04-01 13:47:11', 980190962)
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl", "short"=>nil, "user_id"=>nil}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl"], ["user_id", 980190962], ["created_at", "2016-04-01 13:47:11.768778"], ["updated_at", "2016-04-01 13:47:11.768778"], ["short", "TtNISw"]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 85ms (ActiveRecord: 0.9ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (29848637, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 13:48:17', '2016-04-01 13:48:17', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl', '2016-04-01 13:48:17', '2016-04-01 13:48:17', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$Zyg6jkzragBUHYkTJzxyRuDZwIW4rrtzoUL8VNE9IDewzVOMc4xim', '2016-04-01 13:48:17', '2016-04-01 13:48:17', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$enI.VIKxtyofAmpZwL9nEebxe8DqX3BAYDpL9tQ3Fs/8vaDgU0TM6', '2016-04-01 13:48:17', '2016-04-01 13:48:17', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 13:48:17', '2016-04-01 13:48:17', 980190962)
  [1m[36m (12.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl", "short"=>nil, "user_id"=>nil}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl"], ["user_id", 980190962], ["created_at", "2016-04-01 13:48:17.816060"], ["updated_at", "2016-04-01 13:48:17.816060"], ["short", "A9ckEw"]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 38ms (ActiveRecord: 1.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (11.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 13:51:19', '2016-04-01 13:51:19', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl', '2016-04-01 13:51:19', '2016-04-01 13:51:19', 298486374)[0m
  [1m[35mFixture Delete (27.6ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$7V4aCUXtIaRZ.ypsHDvAU.ZYo97z.96RUTNEf1TfgyKdvvw9wFIMy', '2016-04-01 13:51:19', '2016-04-01 13:51:19', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$.wV01Jf8sNXCW5/nnZxoZuwl9WhBieRNkBM9lGvGUMzG5DySc4qWa', '2016-04-01 13:51:19', '2016-04-01 13:51:19', 298486374)
  [1m[36mFixture Delete (12.8ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 13:51:19', '2016-04-01 13:51:19', 980190962)
  [1m[36m (26.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl", "short"=>nil, "user_id"=>nil}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl"], ["user_id", 980190962], ["created_at", "2016-04-01 13:51:19.767022"], ["updated_at", "2016-04-01 13:51:19.767022"], ["short", "jB7cVg"]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 118ms (ActiveRecord: 1.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 13:51:59', '2016-04-01 13:51:59', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl', '2016-04-01 13:51:59', '2016-04-01 13:51:59', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$v65ya5b.mqQxKpXu2vBMDOjUh3snO0dfbfC.JXirAPd0Q/qEk/7s6', '2016-04-01 13:51:59', '2016-04-01 13:51:59', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$8RVoFz6YgtGqnDyuTb3tn.plasEKfxSz6Onm8vCYGF673Ur3VnDT2', '2016-04-01 13:51:59', '2016-04-01 13:51:59', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 13:51:59', '2016-04-01 13:51:59', 980190962)
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 15ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.4ms)
  Rendered links/partials/_form.html.erb (131.3ms)
  Rendered links/new.html.erb within layouts/application (153.9ms)
  Rendered shared/_nav_bar.html.erb (1.7ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 268ms (Views: 246.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"298486374"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl", "short"=>nil, "user_id"=>nil}, "id"=>"298486374"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"298486374"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl", "short"=>nil, "user_id"=>nil}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl"], ["user_id", 980190962], ["created_at", "2016-04-01 13:52:00.115779"], ["updated_at", "2016-04-01 13:52:00.115779"], ["short", "ClTJSg"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 6ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (2.9ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 29ms (Views: 26.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 13:55:19', '2016-04-01 13:55:19', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl', '2016-04-01 13:55:19', '2016-04-01 13:55:19', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$GH7KRyyBQQup2RlJMJfQfejNOt1fqS75uHy7Y79BL04qyHKX.GI02', '2016-04-01 13:55:19', '2016-04-01 13:55:19', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Simon Peter', 'simon.peter@andela.com', '$2a$10$.AQTv76tI.WNO3WKX8Zpxe6MIe7RRgQ4vb2tOyiDSBVTzc0lpFG1m', '2016-04-01 13:55:19', '2016-04-01 13:55:19', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 13:55:19', '2016-04-01 13:55:19', 980190962)
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[36mVisit Load (0.4ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------
VisitTest: test_valid
---------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
LinkTest: test_short_length_to_be_6_characters
----------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 13:56:07', '2016-04-01 13:56:07', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl', '2016-04-01 13:56:07', '2016-04-01 13:56:07', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$xOsZpuPONfvYb/nNEYdGz.jGbXwNdRUOqYWU2mXCWZ8MDBl9k9p/2', '2016-04-01 13:56:07', '2016-04-01 13:56:07', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Simon Peter', 'simon.peter@andela.com', '$2a$10$BzWQ52vj/xQaJTq//7HDI.Ok3O/rKMeAfJEdmCVPflNQKqApRwN9S', '2016-04-01 13:56:07', '2016-04-01 13:56:07', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 13:56:07', '2016-04-01 13:56:07', 980190962)
  [1m[36m (14.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
LinkTest: test_short_length_to_be_6_characters
----------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
VisitTest: test_valid
---------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 13:56:28', '2016-04-01 13:56:28', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl', '2016-04-01 13:56:28', '2016-04-01 13:56:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$KSMMBe.Y20rHOnzKrdFA8ujJHvhBxgYD8DnAup5ErcSQltO9IZ8de', '2016-04-01 13:56:28', '2016-04-01 13:56:28', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$oupyKnBzU2srAtEFaBsmgepYTMdXOwkN6XiBdc5rZp8cLy1HJ0y/e', '2016-04-01 13:56:28', '2016-04-01 13:56:28', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Simon Peter', 'simon.peter@andela.com', '$2a$10$r7qfpSGMjW7G2gkcWnq.XueZKvwyP73xjolIqmDqecnZV9Z6tafX2', '2016-04-01 13:56:28', '2016-04-01 13:56:28', 113629430)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 13:56:28', '2016-04-01 13:56:28', 980190962)[0m
  [1m[35m (10.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
VisitTest: test_valid
---------------------
  [1m[35mVisit Load (0.3ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 113629430]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 113629430]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 113629430]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 113629430]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 113629430]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 113629430]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 113629430]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
LinkTest: test_short_length_to_be_6_characters
----------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 14:00:27', '2016-04-01 14:00:27', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl', '2016-04-01 14:00:27', '2016-04-01 14:00:27', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$hsoNMOe5bnkRU6DncYm.ueeWPRNrXtQLFVN6fpUbVaDQz8IFkTMTi', '2016-04-01 14:00:27', '2016-04-01 14:00:27', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$bVDI4d0a9bf5ZOWWPENZ1uIWPdIVk6/Q4l4VoQR9cpaNRhONnyqvi', '2016-04-01 14:00:27', '2016-04-01 14:00:27', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 14:00:27', '2016-04-01 14:00:27', 980190962)
  [1m[36m (27.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (2.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (14.6ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 55ms (Views: 34.8ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (20.1ms)
  Rendered links/new.html.erb within layouts/application (23.1ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 33ms (Views: 26.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"298486374"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://ruby.about.com/"], ["short", "1gT9UA"], ["created_at", "2016-04-01 14:00:27.663270"], ["updated_at", "2016-04-01 14:00:27.663270"]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (6.5ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (206669143, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 14:04:33', '2016-04-01 14:04:33', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl', '2016-04-01 14:04:33', '2016-04-01 14:04:33', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$Iy4raQ5xzDn6Ca3iOELNB.G6OjMNwwJlWaByfEaipBNjcxgXDiG92', '2016-04-01 14:04:33', '2016-04-01 14:04:33', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$0hptp8kbAXdpmI2i7qRn/Oowdxmq.cmEmHco9O9khKEau88Q92/Ve', '2016-04-01 14:04:33', '2016-04-01 14:04:33', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 14:04:33', '2016-04-01 14:04:33', 980190962)
  [1m[36m (12.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.2ms)
  Rendered links/partials/_form.html.erb (156.1ms)
  Rendered links/new.html.erb within layouts/application (167.8ms)
  Rendered shared/_nav_bar.html.erb (1.4ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 215ms (Views: 192.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (2.2ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"206669143"}, "id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>"1gT9UA", "user_id"=>"206669143"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://ruby.about.com/"], ["short", "1gT9UA"], ["created_at", "2016-04-01 14:04:34.167086"], ["updated_at", "2016-04-01 14:04:34.167086"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 6ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mFixture Delete (9.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (1.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (206669143, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 14:06:16', '2016-04-01 14:06:16', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl', '2016-04-01 14:06:16', '2016-04-01 14:06:16', 298486374)[0m
  [1m[35mFixture Delete (22.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$OjMkywSrU28t/X3kf.8POuwehGrcCRGsoIqmk/S1B0EK8PiMb1IiO', '2016-04-01 14:06:16', '2016-04-01 14:06:16', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$R9t6lpFurOdNyEpHsAbJWukaS2Y7zrLomwgmLi61RkW1oqip5T81S', '2016-04-01 14:06:16', '2016-04-01 14:06:16', 298486374)
  [1m[36mFixture Delete (20.4ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 14:06:16', '2016-04-01 14:06:16', 980190962)
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 18ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (2.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (28.3ms)
  Rendered shared/_nav_bar.html.erb (2.2ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 178ms (Views: 97.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  Rendered links/partials/_form.html.erb (161.2ms)
  Rendered links/new.html.erb within layouts/application (165.3ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 204ms (Views: 170.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl", "short"=>nil, "user_id"=>nil}, "id"=>"298486374"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl", "short"=>nil, "user_id"=>nil}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl"], ["user_id", 980190962], ["created_at", "2016-04-01 14:06:16.888610"], ["updated_at", "2016-04-01 14:06:16.888610"], ["short", "U31idw"]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (9.5ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (206669143, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 14:08:08', '2016-04-01 14:08:08', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl', '2016-04-01 14:08:08', '2016-04-01 14:08:08', 298486374)[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$UUIHePCZwFTm4.VgPlo1muEyv3aYaiUyKyJt9ZyBu6qSdotWFm35y', '2016-04-01 14:08:08', '2016-04-01 14:08:08', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$59KVcOQKeEI7T1lz37WAVuLKNsuwXElyi7P4ElvsBSl1uAUHw274S', '2016-04-01 14:08:08', '2016-04-01 14:08:08', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 14:08:08', '2016-04-01 14:08:08', 980190962)
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (118.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (11.0ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (206669143, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 14:09:00', '2016-04-01 14:09:00', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl', '2016-04-01 14:09:00', '2016-04-01 14:09:00', 298486374)[0m
  [1m[35mFixture Delete (1.3ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$svySyAvmnpJe5IegUxWZx.Qte73516GGuhGCqElVaugdr1rkehCh6', '2016-04-01 14:09:00', '2016-04-01 14:09:00', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$M6KQUmx9xEiX8C9xTPrTeefC4qz05QKEBOn6Nz9qfZf39BRUAmxIC', '2016-04-01 14:09:00', '2016-04-01 14:09:00', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 14:09:00', '2016-04-01 14:09:00', 980190962)
  [1m[36m (27.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 17ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl", "short"=>nil, "user_id"=>nil}, "id"=>"298486374"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.3ms)
  Rendered links/partials/_form.html.erb (132.1ms)
  Rendered links/new.html.erb within layouts/application (156.0ms)
  Rendered shared/_nav_bar.html.erb (2.4ms)
  Rendered shared/_footer.html.erb (0.6ms)
Completed 200 OK in 328ms (Views: 256.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (4.2ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 20ms (Views: 18.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"298486374"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl", "short"=>nil, "user_id"=>nil}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl"], ["user_id", 980190962], ["created_at", "2016-04-01 14:09:00.998267"], ["updated_at", "2016-04-01 14:09:00.998267"], ["short", "Gj3osA"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (9.9ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (206669143, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 14:12:33', '2016-04-01 14:12:33', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl', '2016-04-01 14:12:33', '2016-04-01 14:12:33', 298486374)[0m
  [1m[35mFixture Delete (1.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$StswqnpWRQt1OREwzUO1K.gH8c6kjyr.kTNJISSSb5nUnVKIijzKq', '2016-04-01 14:12:33', '2016-04-01 14:12:33', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$X/QisNAxpc3cTdEbXSF1NO9MVi02z7DQbo37ap13bvOrUKf9iQGXO', '2016-04-01 14:12:33', '2016-04-01 14:12:33', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 14:12:33', '2016-04-01 14:12:33', 980190962)
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl", "short"=>nil, "user_id"=>nil}, "id"=>"298486374"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 21ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl", "short"=>nil, "user_id"=>nil}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl"], ["user_id", 980190962], ["created_at", "2016-04-01 14:12:34.438861"], ["updated_at", "2016-04-01 14:12:34.438861"], ["short", "7Lkvxg"]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 83ms (ActiveRecord: 1.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.8ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (27.8ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 98ms (Views: 96.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"298486374"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.1ms)
  Rendered links/partials/_form.html.erb (125.6ms)
  Rendered links/new.html.erb within layouts/application (131.8ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 138ms (Views: 136.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (9.6ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (206669143, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 14:13:50', '2016-04-01 14:13:50', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl', '2016-04-01 14:13:50', '2016-04-01 14:13:50', 298486374)[0m
  [1m[35mFixture Delete (1.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$UJluWHVTNPbnPJocTc9qzO8t7UJRxwhZg7N7T2tcJxAq6ESqcWhjy', '2016-04-01 14:13:50', '2016-04-01 14:13:50', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$Mn0mlwy88QsMhW..wRsR0.JFNa4WNhy1CsIO9BeZ2AMNfSz8MgqgC', '2016-04-01 14:13:50', '2016-04-01 14:13:50', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 14:13:50', '2016-04-01 14:13:50', 980190962)
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (37.1ms)
  Rendered shared/_nav_bar.html.erb (1.4ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 240ms (Views: 148.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (243.7ms)
  Rendered links/new.html.erb within layouts/application (247.3ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 282ms (Views: 251.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl", "short"=>nil, "user_id"=>nil}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl"], ["user_id", 980190962], ["created_at", "2016-04-01 14:13:51.919030"], ["updated_at", "2016-04-01 14:13:51.919030"], ["short", "cKplgQ"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 17ms (ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl", "short"=>nil, "user_id"=>nil}, "id"=>"298486374"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (9.9ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (206669143, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 14:16:50', '2016-04-01 14:16:50', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl', '2016-04-01 14:16:50', '2016-04-01 14:16:50', 298486374)[0m
  [1m[35mFixture Delete (25.6ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$Txadd2.5Lu/mqyIuKDr7G.x7QOEwtwxg1SNcdzMr8tm.CMV39VsjG', '2016-04-01 14:16:50', '2016-04-01 14:16:50', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$Xwnd9xDbT7/DBA/RFQ.95OgxtmGrjnry92ffgidjSkJiUCsQdrDVS', '2016-04-01 14:16:50', '2016-04-01 14:16:50', 298486374)
  [1m[36mFixture Delete (10.2ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 14:16:50', '2016-04-01 14:16:50', 980190962)
  [1m[36m (2.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------
LinksControllerTest: test_user_sign_in_successfully
---------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (2.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (42.0ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 185ms (Views: 111.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mFixture Delete (9.1ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (206669143, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 14:17:47', '2016-04-01 14:17:47', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl', '2016-04-01 14:17:47', '2016-04-01 14:17:47', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$uvQCzC/LNVDhdYChGS4BHeLzqMpu0Xv/4SAO/7BG5plgI7TndAyKm', '2016-04-01 14:17:47', '2016-04-01 14:17:47', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$4phsj38EwzdWmziNOrxb7OJRXG/CK2m3Hj3mk9lxCcp0ouf.YKJvG', '2016-04-01 14:17:47', '2016-04-01 14:17:47', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 14:17:47', '2016-04-01 14:17:47', 980190962)
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------
LinksControllerTest: test_user_sign_in_successfully
---------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.6ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (20.0ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 164ms (Views: 93.5ms | ActiveRecord: 0.5ms)
  [1m[35mLink Load (0.3ms)[0m  SELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC  [["user_id", 980190962]]
Processing by LinksController#index as HTML
  Rendered shared/_side_bar.html.erb (1.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (2.2ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.5ms)
  [1m[35mLink Load (0.1ms)[0m  SELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC  [["user_id", 980190962]]
Processing by LinksController#index as HTML
  Rendered shared/_side_bar.html.erb (1.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (2.7ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (206669143, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 14:26:23', '2016-04-01 14:26:23', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl', '2016-04-01 14:26:23', '2016-04-01 14:26:23', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$16ikV.6vNXuQV60BSQ8kB.PdcvT.MYMnNaqxzopMR1Bu9xSzjoqJu', '2016-04-01 14:26:23', '2016-04-01 14:26:23', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$8LwOY15Z2ct2rz7fMJnkZO3hgB9n.jHLDCmCFe80CAv0JFwmHubGS', '2016-04-01 14:26:23', '2016-04-01 14:26:23', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 14:26:23', '2016-04-01 14:26:23', 980190962)
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (33.3ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 164ms (Views: 106.6ms | ActiveRecord: 0.3ms)
Processing by LinksController#index as HTML
  Rendered shared/_side_bar.html.erb (1.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (3.7ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.5ms)
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC[0m  [["user_id", 980190962]]
Processing by LinksController#index as HTML
  Rendered shared/_side_bar.html.erb (0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (1.8ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.6ms)
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC[0m  [["user_id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (206669143, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 14:30:49', '2016-04-01 14:30:49', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl', '2016-04-01 14:30:49', '2016-04-01 14:30:49', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cats.com', '$2a$10$.RSZfrAqTtotrl0ocyv5/ejJcoDu5REW2Go0y5QkFAWSufk8jNfCW', '2016-04-01 14:30:49', '2016-04-01 14:30:49', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$M0CO2nAieg9SvM7lB9h19ODb5.7Nee58kuSGN8plg9JnIIRfI.kYi', '2016-04-01 14:30:49', '2016-04-01 14:30:49', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 14:30:49', '2016-04-01 14:30:49', 980190962)
  [1m[36m (2.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (8.5ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 47ms (Views: 29.1ms | ActiveRecord: 0.4ms)
Processing by LinksController#index as HTML
  Rendered shared/_side_bar.html.erb (1.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (2.4ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.5ms)
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC[0m  [["user_id", 980190962]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (206669143, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 14:31:33', '2016-04-01 14:31:33', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl', '2016-04-01 14:31:33', '2016-04-01 14:31:33', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 14:31:33', '2016-04-01 14:31:33', 980190962)
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (206669143, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 14:32:07', '2016-04-01 14:32:07', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl', '2016-04-01 14:32:07', '2016-04-01 14:32:07', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.coms', '$2a$10$u8pcLSWNi1Acvu0yvY0mm.vc2gmCP2gjvHjrZwoqsjy59fiTXBp4u', '2016-04-01 14:32:07', '2016-04-01 14:32:07', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$9DuhL7b.QvXw.wVRA7fMNu63gLSOawH1cRVOwvHu3eNhlBJRv5nOu', '2016-04-01 14:32:07', '2016-04-01 14:32:07', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 14:32:07', '2016-04-01 14:32:07', 980190962)
  [1m[36m (26.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.6ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (15.8ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 52ms (Views: 34.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (206669143, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 14:32:30', '2016-04-01 14:32:30', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl', '2016-04-01 14:32:30', '2016-04-01 14:32:30', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (29.8ms)[0m  [1mINSERT INTO "users" ("full_name", "emails", "encrypted_passwords", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$HcqWV/fCMXVUMxqK3rGsA.vLQKqrH5ijdwYg1pB6trhY17AMDluX6', '2016-04-01 14:32:30', '2016-04-01 14:32:30', 980190962)[0m
SQLite3::SQLException: table users has no column named emails: INSERT INTO "users" ("full_name", "emails", "encrypted_passwords", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$HcqWV/fCMXVUMxqK3rGsA.vLQKqrH5ijdwYg1pB6trhY17AMDluX6', '2016-04-01 14:32:30', '2016-04-01 14:32:30', 980190962)
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (206669143, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 14:33:12', '2016-04-01 14:33:12', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl', '2016-04-01 14:33:12', '2016-04-01 14:33:12', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Tom Cat', 'tom@cat.com', '$2a$10$4eZf0aPstO5Yo/lfjzeo.uzMHghoDJoiZdUM3FlGwscA/YoWjEdxG', '2016-04-01 14:33:12', '2016-04-01 14:33:12', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Jerry Mouse', 'jerry@mouse.com', '$2a$10$yocCs4e.9EwW/THFWJhH7.ApZ7BvzZHKI2iO5rmA96lcyaHeBkMzy', '2016-04-01 14:33:12', '2016-04-01 14:33:12', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 14:33:12', '2016-04-01 14:33:12', 980190962)
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.3ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (10.0ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 51ms (Views: 28.9ms | ActiveRecord: 0.4ms)
  [1m[35mLink Load (0.2ms)[0m  SELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC  [["user_id", 980190962]]
Processing by LinksController#index as HTML
  Rendered shared/_side_bar.html.erb (0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (1.8ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.4ms)
  [1m[35mLink Load (0.1ms)[0m  SELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC  [["user_id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (206669143, 'http://ruby.about.com/', '1gT9UA', '2016-04-01 14:46:19', '2016-04-01 14:46:19', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/771656/correctly-doing-redirect-to-back-in-ruby-on-rails-when-referrer-is-not-availabl', '2016-04-01 14:46:19', '2016-04-01 14:46:19', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$Jo5GyS/9PvuVG5xBM3zvA.b3fPM7yoBLhb3me9cF1JIaIJCJWiCoq', '2016-04-01 14:46:19', '2016-04-01 14:46:19', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$2xTeAlt573LodMO/geZryOhFCWv0Bwx9J.VfhxOdy08RFtSp6T1vC', '2016-04-01 14:46:19', '2016-04-01 14:46:19', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 14:46:19', '2016-04-01 14:46:19', 980190962)
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" DESC LIMIT 1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" DESC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" DESC LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" DESC LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" DESC LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" DESC LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" DESC LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" DESC LIMIT 1[0m
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" DESC LIMIT 1
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://ruby.about.com/', '2016-04-01 14:55:27', '2016-04-01 14:55:27', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/29388578/testing-user-model-devise-authentication-with-minitest', 'minitest', '2016-04-01 14:55:27', '2016-04-01 14:55:27', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$0wBCwsV2.tszwdJ9e3RlIeEkQckN1llpOCp.CG389suA7IYYqHMZS', '2016-04-01 14:55:28', '2016-04-01 14:55:28', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$wTvjbueZk7t/35XK1H1M2ez33iwY46GZGNQNdBkmghV.hfCyGuImK', '2016-04-01 14:55:28', '2016-04-01 14:55:28', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 14:55:28', '2016-04-01 14:55:28', 980190962)
  [1m[36m (4.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links"  ORDER BY "links"."id" ASC LIMIT 1[0m
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links"  ORDER BY "links"."id" DESC LIMIT 1
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links".* FROM "links"  ORDER BY "links"."id" DESC LIMIT 1[0m
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 27ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>nil, "user_id"=>nil}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://ruby.about.com/"], ["user_id", 980190962], ["created_at", "2016-04-01 14:57:26.726927"], ["updated_at", "2016-04-01 14:57:26.726927"], ["short", "DD2Pog"]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 112ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (2.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (35.3ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 111ms (Views: 108.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>nil, "user_id"=>nil}, "id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  Rendered links/partials/_form.html.erb (141.5ms)
  Rendered links/new.html.erb within layouts/application (146.5ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 156ms (Views: 152.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://ruby.about.com/', '2016-04-01 14:59:06', '2016-04-01 14:59:06', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/29388578/testing-user-model-devise-authentication-with-minitest', 'minitest', '2016-04-01 14:59:06', '2016-04-01 14:59:06', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$1w/Y3u0COPYlu32LWAN.ZO9L./HvCWoog1UyrGrDWDFXWQNRMfl/q', '2016-04-01 14:59:06', '2016-04-01 14:59:06', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$XGdfIdgH4EGXrmyGxfq3lO7zlAKv0uel.2P.g16XzgZo/8u.gi/rK', '2016-04-01 14:59:06', '2016-04-01 14:59:06', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 14:59:06', '2016-04-01 14:59:06', 980190962)
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://ruby.about.com/', '2016-04-01 14:59:36', '2016-04-01 14:59:36', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/29388578/testing-user-model-devise-authentication-with-minitest', 'minitest', '2016-04-01 14:59:36', '2016-04-01 14:59:36', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$5jZNTEqYaBHcUgry.eXjDuuBRHr7vDpCo6ndJlQLhNYcR6UEB/D06', '2016-04-01 14:59:36', '2016-04-01 14:59:36', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$yhTNI/.LnsOyL8CA1Fp/gOcXuAG4lgQlk5zKXTULZX3kElQvmPRDW', '2016-04-01 14:59:36', '2016-04-01 14:59:36', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 14:59:36', '2016-04-01 14:59:36', 980190962)
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://ruby.about.com/', '2016-04-01 15:01:59', '2016-04-01 15:01:59', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/29388578/testing-user-model-devise-authentication-with-minitest', 'minitest', '2016-04-01 15:01:59', '2016-04-01 15:01:59', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$93RI6itev0OjFE66Zxb1geJwRwbqfVFzNzvD40yTdcqskt2J4VkXS', '2016-04-01 15:01:59', '2016-04-01 15:01:59', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$giL9tmuRcFi/bSZ5wlJPkeA7N0GPMp1uj3ARTRJnh4jQB287BVRh.', '2016-04-01 15:01:59', '2016-04-01 15:01:59', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 15:01:59', '2016-04-01 15:01:59', 980190962)
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 11ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>nil, "user_id"=>nil}, "id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.4ms)
  Rendered links/partials/_form.html.erb (20.2ms)
  Rendered links/new.html.erb within layouts/application (30.5ms)
  Rendered shared/_nav_bar.html.erb (1.9ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 75ms (Views: 56.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (2.7ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://ruby.about.com/', '2016-04-01 15:02:59', '2016-04-01 15:02:59', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/29388578/testing-user-model-devise-authentication-with-minitest', 'minitest', '2016-04-01 15:02:59', '2016-04-01 15:02:59', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$GVYAf44FaSpuMVHaWKqwQeBBStP1JE/eAKhoEnbmwAJsiRDt7sWWC', '2016-04-01 15:02:59', '2016-04-01 15:02:59', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$dg58KFuAYlKNgI0scF8xqed93Dr9ZNBGZTapux1fz2a4W4LbRbXiG', '2016-04-01 15:02:59', '2016-04-01 15:02:59', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 15:02:59', '2016-04-01 15:02:59', 980190962)
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>nil, "user_id"=>nil}, "id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.1ms)
  Rendered links/partials/_form.html.erb (17.4ms)
  Rendered links/new.html.erb within layouts/application (26.5ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 68ms (Views: 45.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.8ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (4.0ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 8.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://ruby.about.com/', '2016-04-01 15:03:48', '2016-04-01 15:03:48', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/29388578/testing-user-model-devise-authentication-with-minitest', 'minitest', '2016-04-01 15:03:48', '2016-04-01 15:03:48', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$qHCaJzkwJbVUYvX4B2hm3e26Ky3XoDkdMc9ouuDX7VONIzUBdSMDq', '2016-04-01 15:03:48', '2016-04-01 15:03:48', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$0sTO7UN92Qk1s7kMVyir2OkL.MGhW61ygaESeN3Sp9zwp01TyDeTe', '2016-04-01 15:03:48', '2016-04-01 15:03:48', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 15:03:48', '2016-04-01 15:03:48', 980190962)
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (8.5ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 49ms (Views: 28.0ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"user"=>"980190962", "link"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.8ms)
  Rendered links/partials/_form.html.erb (21.2ms)
  Rendered links/new.html.erb within layouts/application (26.1ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 39ms (Views: 31.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>nil, "user_id"=>nil}, "id"=>"980190962"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://ruby.about.com/', '2016-04-01 15:04:35', '2016-04-01 15:04:35', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/29388578/testing-user-model-devise-authentication-with-minitest', 'minitest', '2016-04-01 15:04:35', '2016-04-01 15:04:35', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$oNbIgFAXVU80ZWi7U5ksheCzTXQoNJWtGnFFXiRdPT0ZDh81yIvDG', '2016-04-01 15:04:35', '2016-04-01 15:04:35', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$BAiUSDhudPfggg3.hXTMle56xV/DbFw389xnPmIpC7wpXwmRb/bd.', '2016-04-01 15:04:35', '2016-04-01 15:04:35', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 15:04:35', '2016-04-01 15:04:35', 980190962)
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>nil, "user_id"=>nil}, "id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.3ms)
  Rendered links/partials/_form.html.erb (20.6ms)
  Rendered links/new.html.erb within layouts/application (30.7ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 70ms (Views: 50.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"user"=>"980190962", "link"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://ruby.about.com/', '2016-04-01 15:05:23', '2016-04-01 15:05:23', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/29388578/testing-user-model-devise-authentication-with-minitest', 'minitest', '2016-04-01 15:05:23', '2016-04-01 15:05:23', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$jDnHxzNyToLayjloNjZCwOwjtRv1ws3zsMeBXq0NGzjW7SVnMOQDW', '2016-04-01 15:05:23', '2016-04-01 15:05:23', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$Ts6tgYM6KJOivXH2eJV.euTvw1EGM5ZnYFxYgca9COqfncLJzemby', '2016-04-01 15:05:23', '2016-04-01 15:05:23', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 15:05:23', '2016-04-01 15:05:23', 980190962)
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.3ms)
  Rendered links/partials/_form.html.erb (19.7ms)
  Rendered links/new.html.erb within layouts/application (29.9ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 78ms (Views: 49.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (2.2ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>nil, "user_id"=>"980190962"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://ruby.about.com/"], ["created_at", "2016-04-01 15:05:24.095690"], ["updated_at", "2016-04-01 15:05:24.095690"], ["short", "a_52pQ"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>nil, "user_id"=>"980190962"}, "id"=>"980190962"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mActiveRecord::SchemaMigration Load (45.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (16.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (11.9ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "links" ("user_id", "long", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '2016-04-01 15:27:31', '2016-04-01 15:27:31', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/29388578/testing-user-model-devise-authentication-with-minitest', 'minitest', '2016-04-01 15:27:31', '2016-04-01 15:27:31', 298486374)[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$DL9OWOSRRMOWU4EJlvmR5u/HJOCZEQccuPA8UUCT9SL2sv0.W5o16', '2016-04-01 15:27:31', '2016-04-01 15:27:31', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$B0M.6JDxM216PeQ2AEZ20ur.u10.pHRbsZHnSj59ivq1.2mi6x1CK', '2016-04-01 15:27:31', '2016-04-01 15:27:31', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 15:27:31', '2016-04-01 15:27:31', 980190962)
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 21ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://stackoverflow.com/questions/29388578/testing-user-model-devise-authentication-with-minitest", "short"=>"minitest", "user_id"=>nil}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "links" ("long", "short", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["long", "http://stackoverflow.com/questions/29388578/testing-user-model-devise-authentication-with-minitest"], ["short", "minitest"], ["user_id", 980190962], ["created_at", "2016-04-01 15:27:31.517226"], ["updated_at", "2016-04-01 15:27:31.517226"]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 74ms (ActiveRecord: 0.9ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"298486374"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (2.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (23.4ms)
  Rendered shared/_nav_bar.html.erb (1.3ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 101ms (Views: 98.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.9ms)
  Rendered links/partials/_form.html.erb (126.5ms)
  Rendered links/new.html.erb within layouts/application (131.5ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 138ms (Views: 135.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://stackoverflow.com/questions/29388578/testing-user-model-devise-authentication-with-minitest", "short"=>"minitest", "user_id"=>nil}, "id"=>"298486374"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mLink Load (2.2ms)[0m  [1mSELECT "links".* FROM "links"[0m
  [1m[36mActiveRecord::SchemaMigration Load (13.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "links" ("user_id", "long", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '2016-04-01 22:29:43', '2016-04-01 22:29:43', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/29388578/testing-user-model-devise-authentication-with-minitest', 'minitest', '2016-04-01 22:29:43', '2016-04-01 22:29:43', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$OSfrczBt2/HeCYYMM.00N.TUBs6AfCf.QCC4mrjg6uJLRy1DCYSyC', '2016-04-01 22:29:43', '2016-04-01 22:29:43', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$q9mzTpXO14P73B9vlTrGpuRhOEaA3/Tg2gXtogEyO8nqw9BUy7DZK', '2016-04-01 22:29:43', '2016-04-01 22:29:43', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-01 22:29:43', '2016-04-01 22:29:43', 980190962)
  [1m[36m (3.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.5ms)
  Rendered links/partials/_form.html.erb (237.4ms)
  Rendered links/new.html.erb within layouts/application (261.3ms)
  Rendered shared/_nav_bar.html.erb (2.1ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 451ms (Views: 361.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 20ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"298486374"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://stackoverflow.com/questions/29388578/testing-user-model-devise-authentication-with-minitest", "short"=>"minitest", "user_id"=>nil}, "id"=>"298486374"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (2.3ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 17ms (Views: 15.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"298486374"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://stackoverflow.com/questions/29388578/testing-user-model-devise-authentication-with-minitest", "short"=>"minitest", "user_id"=>nil}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "links" ("long", "short", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://stackoverflow.com/questions/29388578/testing-user-model-devise-authentication-with-minitest"], ["short", "minitest"], ["user_id", 980190962], ["created_at", "2016-04-01 22:29:44.400412"], ["updated_at", "2016-04-01 22:29:44.400412"]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 8ms (ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (19.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (16.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("user_id", "long", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '2016-04-02 10:05:11', '2016-04-02 10:05:11', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/29388578/testing-user-model-devise-authentication-with-minitest', 'minitest', '2016-04-02 10:05:11', '2016-04-02 10:05:11', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$vLBDzwfLjI5csazfp0O38e5RatpVXao384iY5/Lku.JAOVfdTVWza', '2016-04-02 10:05:11', '2016-04-02 10:05:11', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$uYH4BdW3POj4tMOWuPNRAOzTMHualuEJfRQK9CVKcG60utZcUKTn2', '2016-04-02 10:05:11', '2016-04-02 10:05:11', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 10:05:11', '2016-04-02 10:05:11', 980190962)
  [1m[36m (6.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://stackoverflow.com/questions/29388578/testing-user-model-devise-authentication-with-minitest", "short"=>"minitest", "user_id"=>nil}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "links" ("long", "short", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["long", "http://stackoverflow.com/questions/29388578/testing-user-model-devise-authentication-with-minitest"], ["short", "minitest"], ["user_id", 980190962], ["created_at", "2016-04-02 10:05:12.265910"], ["updated_at", "2016-04-02 10:05:12.265910"]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 96ms (ActiveRecord: 1.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 28ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"298486374"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (2.6ms)
  Rendered links/partials/_form.html.erb (138.9ms)
  Rendered links/new.html.erb within layouts/application (165.2ms)
  Rendered shared/_nav_bar.html.erb (3.4ms)
  Rendered shared/_footer.html.erb (0.6ms)
Completed 200 OK in 250ms (Views: 248.5ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://stackoverflow.com/questions/29388578/testing-user-model-devise-authentication-with-minitest", "short"=>"minitest", "user_id"=>nil}, "id"=>"298486374"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (2.4ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 11.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (11.8ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (1.1ms)[0m  INSERT INTO "links" ("user_id", "long", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '2016-04-02 10:08:49', '2016-04-02 10:08:49', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/29388578/testing-user-model-devise-authentication-with-minitest', 'minitest', '2016-04-02 10:08:49', '2016-04-02 10:08:49', 298486374)[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$n.tRORe2HxKkKzkq2PLBwOAn8O2/ecXvPomyksx8.nhnqcQKHZppq', '2016-04-02 10:08:49', '2016-04-02 10:08:49', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$FW7KwUUjqrzjFNsfZh1VB.ObeR3cR/mafPJx55gW/0p6KgNjYD9Wm', '2016-04-02 10:08:49', '2016-04-02 10:08:49', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 10:08:49', '2016-04-02 10:08:49', 980190962)
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 22ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://stackoverflow.com/questions/29388578/testing-user-model-devise-authentication-with-minitest", "short"=>"minitest", "user_id"=>nil}, "id"=>"298486374"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (18.2ms)
  Rendered shared/_nav_bar.html.erb (1.4ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 157ms (Views: 102.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (153.0ms)
  Rendered links/new.html.erb within layouts/application (156.8ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 194ms (Views: 161.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://stackoverflow.com/questions/29388578/testing-user-model-devise-authentication-with-minitest", "short"=>"minitest", "user_id"=>nil}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "short", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://stackoverflow.com/questions/29388578/testing-user-model-devise-authentication-with-minitest"], ["short", "minitest"], ["user_id", 980190962], ["created_at", "2016-04-02 10:08:50.105663"], ["updated_at", "2016-04-02 10:08:50.105663"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 6ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 298486374]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mUser Load (9.7ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mLink Load (8.6ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35mLink Load (0.3ms)[0m  SELECT "links".* FROM "links"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links"  ORDER BY "links"."id" ASC LIMIT 1
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links".* FROM "links"  ORDER BY "links"."id" DESC LIMIT 1[0m
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links"  ORDER BY "links"."id" DESC LIMIT 1
  [1m[36mActiveRecord::SchemaMigration Load (15.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (12.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "links" ("user_id", "long", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '2016-04-02 10:13:45', '2016-04-02 10:13:45', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('http://stackoverflow.com/questions/29388578/testing-user-model-devise-authentication-with-minitest', 'minitest', '2016-04-02 10:13:45', '2016-04-02 10:13:45', 298486374)[0m
  [1m[35mFixture Delete (1.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$6pKkPVRozOqA30TfOsCkHeKBzoykCrV7LoPo7iG71tg4F8fu06VQe', '2016-04-02 10:13:45', '2016-04-02 10:13:45', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$g0AIkrLroZK/8CffeMXyTe43yhevavVQ0Qc0uU8OkKGx4R8Ux4J.e', '2016-04-02 10:13:45', '2016-04-02 10:13:45', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 10:13:45', '2016-04-02 10:13:45', 980190962)
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>nil, "user_id"=>"298486374"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "links" ("user_id", "long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://ruby.about.com/"], ["created_at", "2016-04-02 10:13:45.565872"], ["updated_at", "2016-04-02 10:13:45.565872"], ["short", "dZQhGQ"]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 84ms (ActiveRecord: 1.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.9ms)
  Rendered links/partials/_form.html.erb (139.5ms)
  Rendered links/new.html.erb within layouts/application (163.8ms)
  Rendered shared/_nav_bar.html.erb (2.7ms)
  Rendered shared/_footer.html.erb (0.8ms)
Completed 200 OK in 258ms (Views: 256.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (2.3ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 8.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 18ms (ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>nil, "user_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links"  ORDER BY "links"."id" DESC LIMIT 1
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links"  ORDER BY "links"."id" ASC LIMIT 1[0m
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links"  ORDER BY "links"."id" ASC LIMIT 1
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[36mActiveRecord::SchemaMigration Load (14.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "links" ("user_id", "long", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '2016-04-02 10:15:07', '2016-04-02 10:15:07', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$xiKvEJU3j7XuRGNqIqIGIeEld5qPSrNuvzuv1PwsUGecwVQwaOfkO', '2016-04-02 10:15:07', '2016-04-02 10:15:07', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$HSdoBRqwqS8O1KIT.hUigueI6YWlTD6SWTTw5h/lgjbUBRIIk05qe', '2016-04-02 10:15:07', '2016-04-02 10:15:07', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 10:15:07', '2016-04-02 10:15:07', 980190962)[0m
  [1m[35m (4.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.7ms)
  Rendered links/partials/_form.html.erb (156.2ms)
  Rendered links/new.html.erb within layouts/application (209.2ms)
  Rendered shared/_nav_bar.html.erb (2.5ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 369ms (Views: 306.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 22ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>nil, "user_id"=>"298486374"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("user_id", "long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://ruby.about.com/"], ["created_at", "2016-04-02 10:15:08.621894"], ["updated_at", "2016-04-02 10:15:08.621894"], ["short", "7gyPoA"]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (2.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (6.7ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 30ms (Views: 28.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>nil, "user_id"=>"298486374"}, "id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[35mLink Load (0.3ms)[0m  SELECT "links".* FROM "links"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[36mActiveRecord::SchemaMigration Load (25.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (18.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "links" ("user_id", "long", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '2016-04-02 10:16:11', '2016-04-02 10:16:11', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://stackoverflow.com/questions/29388578/testing-user-model-devise-authentication-with-minitest', 'minitest', '2016-04-02 10:16:11', '2016-04-02 10:16:11', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$evUkj3wwatMpMHIuUhQgWueO53odyZNapniftTEOncw5AM8ad4Br6', '2016-04-02 10:16:11', '2016-04-02 10:16:11', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$HBtian8A1C6bhVKJCwCx4up45GiWKVJAnqQjpRRIAsOh19n2n2woq', '2016-04-02 10:16:11', '2016-04-02 10:16:11', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 10:16:11', '2016-04-02 10:16:11', 980190962)
  [1m[36m (209.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 20ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>nil, "user_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.7ms)
  Rendered links/partials/_form.html.erb (154.7ms)
  Rendered links/new.html.erb within layouts/application (208.5ms)
  Rendered shared/_nav_bar.html.erb (2.6ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 350ms (Views: 297.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (4.2ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 13ms (Views: 11.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>nil, "user_id"=>"298486374"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://ruby.about.com/"], ["created_at", "2016-04-02 10:16:12.355021"], ["updated_at", "2016-04-02 10:16:12.355021"], ["short", "bLiJSg"]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (23.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (50.5ms)[0m  INSERT INTO "links" ("user_id", "long", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '2016-04-02 14:41:51', '2016-04-02 14:41:51', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://stackoverflow.com/questions/29388578/testing-user-model-devise-authentication-with-minitest', 'minitest', '2016-04-02 14:41:51', '2016-04-02 14:41:51', 298486374)[0m
  [1m[35mFixture Delete (98.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$O2vHYWVydE0id12HpF11g.Lexg4bYnvmTtZNuxgluni02sd9szLsy', '2016-04-02 14:41:51', '2016-04-02 14:41:51', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$oSLJSEblJBipMPF0ingDBe62i4J8s828uzjlr5P/h5t/hEZBBU9WO', '2016-04-02 14:41:51', '2016-04-02 14:41:51', 298486374)
  [1m[36mFixture Delete (11.0ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 14:41:51', '2016-04-02 14:41:51', 980190962)
  [1m[36m (45.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (3.2ms)
  Rendered links/partials/_form.html.erb (288.1ms)
  Rendered links/new.html.erb within layouts/application (353.7ms)
  Rendered shared/_nav_bar.html.erb (1.5ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 736ms (Views: 513.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.9ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (4.5ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 25ms (Views: 22.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 28ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>nil, "user_id"=>"298486374"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://ruby.about.com/"], ["created_at", "2016-04-02 14:41:53.977778"], ["updated_at", "2016-04-02 14:41:53.977778"], ["short", "ja-yVA"]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>nil, "user_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (10.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "links" ("user_id", "long", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '2016-04-02 14:42:48', '2016-04-02 14:42:48', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://stackoverflow.com/questions/29388578/testing-user-model-devise-authentication-with-minitest', 'minitest', '2016-04-02 14:42:48', '2016-04-02 14:42:48', 298486374)[0m
  [1m[35mFixture Delete (1.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$jdGLoIKplkIIUzHQ4rO31eXroHRUAfYP5Ym5N4ROFX5ltYRB.Rj1m', '2016-04-02 14:42:48', '2016-04-02 14:42:48', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$6C5X.CU702OCuJOLfm1V2eXsjAHjnumk6vkhzyMh6Z/5fUpHKrPVq', '2016-04-02 14:42:48', '2016-04-02 14:42:48', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 14:42:48', '2016-04-02 14:42:48', 980190962)
  [1m[36m (2.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>nil, "user_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "links" SET "short" = ? WHERE "links"."id" = ?  [["short", "L4tYGA"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/links/980190962
Completed 302 Found in 36ms (ActiveRecord: 0.7ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "links" WHERE "links"."id" = ?  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/dashboard
Completed 302 Found in 51ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.7ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (31.8ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 133ms (Views: 94.3ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>nil, "user_id"=>"298486374"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("user_id", "long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://ruby.about.com/"], ["created_at", "2016-04-02 14:42:49.450747"], ["updated_at", "2016-04-02 14:42:49.450747"], ["short", "Yakqlg"]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.7ms)
  Rendered links/partials/_form.html.erb (133.1ms)
  Rendered links/new.html.erb within layouts/application (137.1ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 143ms (Views: 141.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  Rendered links/show.html.erb within layouts/application (13.3ms)
Completed 500 Internal Server Error in 24ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.2ms)
  Rendered links/partials/_form.html.erb (23.3ms)
  Rendered links/edit.html.erb within layouts/application (26.5ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 42ms (Views: 40.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (10.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO "links" ("user_id", "long", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '2016-04-02 14:43:43', '2016-04-02 14:43:43', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://stackoverflow.com/questions/29388578/testing-user-model-devise-authentication-with-minitest', 'minitest', '2016-04-02 14:43:43', '2016-04-02 14:43:43', 298486374)[0m
  [1m[35mFixture Delete (1.3ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$6.2ESWTzhiOEIq/ic728Kec3JkUVSU71iMy86jupV9fF30MmtBo1i', '2016-04-02 14:43:43', '2016-04-02 14:43:43', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$M8jU9jnX4qchbEAwH07M2u9VCHPjygX4XzvFVwYhL..9f8zsbtdPm', '2016-04-02 14:43:43', '2016-04-02 14:43:43', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 14:43:43', '2016-04-02 14:43:43', 980190962)
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.8ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (30.8ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 165ms (Views: 100.8ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  Rendered links/show.html.erb within layouts/application (22.4ms)
Completed 500 Internal Server Error in 45ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (144.6ms)
  Rendered links/edit.html.erb within layouts/application (148.4ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 154ms (Views: 152.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "links" WHERE "links"."id" = ?[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/dashboard
Completed 302 Found in 35ms (ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.8ms)
  Rendered links/partials/_form.html.erb (1.3ms)
  Rendered links/new.html.erb within layouts/application (3.6ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 39ms (Views: 37.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>nil, "user_id"=>"298486374"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("user_id", "long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://ruby.about.com/"], ["created_at", "2016-04-02 14:43:44.764262"], ["updated_at", "2016-04-02 14:43:44.764262"], ["short", "kL4w5g"]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>nil, "user_id"=>"298486374"}, "id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "links" SET "short" = ? WHERE "links"."id" = ?[0m  [["short", "trj8mw"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/links/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '2016-04-02 15:53:10', '2016-04-02 15:53:10', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://stackoverflow.com/questions/29388578/testing-user-model-devise-authentication-with-minitest', 'minitest', '2016-04-02 15:53:10', '2016-04-02 15:53:10', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$NOUnWJMUgNBkQfAai8UJGuuR.DCxIv8euppWSMUf7rdeJBdypikxy', '2016-04-02 15:53:10', '2016-04-02 15:53:10', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$WXI2HsQQRMLbkuxE9nLDHeOnPBOVY3WdTPrYE.9p9CrDwIjJBc.0S', '2016-04-02 15:53:10', '2016-04-02 15:53:10', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 15:53:10', '2016-04-02 15:53:10', 980190962)
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>nil, "user_id"=>"298486374"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "links" ("user_id", "long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://ruby.about.com/"], ["created_at", "2016-04-02 15:53:10.998097"], ["updated_at", "2016-04-02 15:53:10.998097"], ["short", "qsuM2Q"]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 43ms (ActiveRecord: 1.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.2ms)
  Rendered links/partials/_form.html.erb (46.2ms)
  Rendered links/new.html.erb within layouts/application (58.1ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 98ms (Views: 97.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (2.1ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>nil, "user_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$rIBWbjRTx8U0bW1xxAF35OfeU9HDV/5iyzr1VhZAAqD9QwCqKXTy6', '2016-04-02 15:54:23', '2016-04-02 15:54:23', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$60f3MkcjImNNR7q4W9R5tu1zo3f59G6AfS1F957a9k.1VXscfJxfG', '2016-04-02 15:54:23', '2016-04-02 15:54:23', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 15:54:23', '2016-04-02 15:54:23', 980190962)
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (10.1ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 47ms (Views: 29.6ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>nil, "user_id"=>nil}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://ruby.about.com/"], ["user_id", 980190962], ["created_at", "2016-04-02 15:54:24.121137"], ["updated_at", "2016-04-02 15:54:24.121137"], ["short", "-wF3ww"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 11ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (18.8ms)
  Rendered links/new.html.erb within layouts/application (23.3ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 28ms (Views: 26.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$7Hgwq5h389QprbB5r/A4SulKxtHYFxIqtUdX/P6imJHumO2XPhmyG', '2016-04-02 15:55:55', '2016-04-02 15:55:55', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$kaf3519jilcmvs4xK1bjTOtA7lJGe5GMeg0IU6RbL2mRSvJCtBa6q', '2016-04-02 15:55:55', '2016-04-02 15:55:55', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 15:55:55', '2016-04-02 15:55:55', 980190962)
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>nil, "user_id"=>"298486374"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("user_id", "long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://ruby.about.com/"], ["created_at", "2016-04-02 15:55:55.478785"], ["updated_at", "2016-04-02 15:55:55.478785"], ["short", "sAqOaA"]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 33ms (ActiveRecord: 1.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (8.3ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 31ms (Views: 28.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (15.4ms)
  Rendered links/new.html.erb within layouts/application (18.3ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 24ms (Views: 21.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (1.8ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[36mActiveRecord::SchemaMigration Load (5.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (9.8ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "links" ("user_id", "long", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '2016-04-02 17:33:38', '2016-04-02 17:33:38', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://stackoverflow.com/questions/29388578/testing-user-model-devise-authentication-with-minitest', 'minitest', '2016-04-02 17:33:38', '2016-04-02 17:33:38', 298486374)[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$501pdFinlNtdlPEn2cR2LeisLvCHDqa/HxF0SfjmYpysEK2O1sVjO', '2016-04-02 17:33:38', '2016-04-02 17:33:38', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$N4diSlL7CAgzIZy2Y19rMO2DkCoOLb3I8HbTFLEaehqa5W73Vfy5C', '2016-04-02 17:33:38', '2016-04-02 17:33:38', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 17:33:38', '2016-04-02 17:33:38', 980190962)
  [1m[36m (10.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 298486374]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '2016-04-02 17:34:32', '2016-04-02 17:34:32', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://stackoverflow.com/questions/29388578/testing-user-model-devise-authentication-with-minitest', 'minitest', '2016-04-02 17:34:32', '2016-04-02 17:34:32', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$OVu/GA5dKbMAH2hJlO8KEu1KeZmuLG0Sr3TvNQ6yS1FbR2wkE1KaS', '2016-04-02 17:34:32', '2016-04-02 17:34:32', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$NslQJJxyaNSxBMj6PDpCEu44akYeh.JU4oIZ.rUXlDiImuQe3KK46', '2016-04-02 17:34:32', '2016-04-02 17:34:32', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 17:34:32', '2016-04-02 17:34:32', 980190962)
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36mUser Load (2.8ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("user_id", "long", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '2016-04-02 17:35:57', '2016-04-02 17:35:57', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at", "id") VALUES (298486374, 'http://stackoverflow.com/questions/29388578/testing-user-model-devise-authentication-with-minitest', 'minitest', '2016-04-02 17:35:57', '2016-04-02 17:35:57', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$4kgcPOD1it/pkk9LUiqSOuy5qnnSm90vaHRCu6w6labP/O71rdRpy', '2016-04-02 17:35:57', '2016-04-02 17:35:57', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$uqpFByjkGU.HKN/CVsKeJO1i1G/KiGUSfmN5t9k.yjBvpAJ13lyWu', '2016-04-02 17:35:57', '2016-04-02 17:35:57', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 17:35:57', '2016-04-02 17:35:57', 980190962)
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[35mLink Load (0.2ms)[0m  SELECT "links".* FROM "links"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "links" WHERE "links"."id" = ?  [["id", 298486374]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?  [["id", 298486374]]
  [1m[36m (4935.4ms)[0m  [1mcommit transaction[0m
SQLite3::BusyException: database is locked: commit transaction
  [1m[35m (2.1ms)[0m  rollback transaction
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 37ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>nil, "user_id"=>"298486374"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("user_id", "long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://ruby.about.com/"], ["created_at", "2016-04-02 17:37:26.342671"], ["updated_at", "2016-04-02 17:37:26.342671"], ["short", "ZXUpkQ"]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 30ms (ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (1.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[36mLink Load (0.4ms)[0m  [1mSELECT "links".* FROM "links"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "links" WHERE "links"."id" = ?[0m  [["id", 298486374]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (12.1ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "links" WHERE "links"."id" = ?  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?  [["id", 298486374]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35mLink Load (0.3ms)[0m  SELECT "links".* FROM "links"
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("user_id", "long", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '2016-04-02 17:38:07', '2016-04-02 17:38:07', 980190962)
  [1m[36mFixture Delete (1.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$Vv89Zf3ykeEpiKWovae0/evlhINgfBHtESF.CdlMIMHzWj.IGHTEW', '2016-04-02 17:38:07', '2016-04-02 17:38:07', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$GTrILjvUKFlGcp73VohVoOk.nXcWKB8aVPPHnE9DItfMyFuW.qgJO', '2016-04-02 17:38:07', '2016-04-02 17:38:07', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 17:38:07', '2016-04-02 17:38:07', 980190962)[0m
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 8ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>nil, "user_id"=>"298486374"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://ruby.about.com/"], ["created_at", "2016-04-02 17:38:07.808692"], ["updated_at", "2016-04-02 17:38:07.808692"], ["short", "7TiRKQ"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 24ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.7ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (15.4ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.6ms)
Completed 200 OK in 47ms (Views: 44.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>nil, "user_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (21.9ms)
  Rendered links/new.html.erb within layouts/application (25.3ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 30ms (Views: 28.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT "links".* FROM "links"[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (3.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35mLink Load (0.4ms)[0m  SELECT "links".* FROM "links"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "links" WHERE "links"."id" = ?  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (2.7ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("user_id", "long", "created_at", "updated_at", "id") VALUES (298486374, 'http://ruby.about.com/', '2016-04-02 17:39:42', '2016-04-02 17:39:42', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$J1Uk1W1OUAw4y8W.AdIWLONmWsfzdz1OrarICNbuLcim3pGU3zAQe', '2016-04-02 17:39:42', '2016-04-02 17:39:42', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 17:39:42', '2016-04-02 17:39:42', 980190962)
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://ruby.about.com/', '2016-04-02 17:42:39', '2016-04-02 17:42:39', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$7Hojuw71mkb//yLRN5DLd.LRCEPdQU.x6I8LP7mtT/uvbKzT641au', '2016-04-02 17:42:39', '2016-04-02 17:42:39', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 17:42:39', '2016-04-02 17:42:39', 980190962)
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 17:42:39.419650"], ["updated_at", "2016-04-02 17:42:39.419650"], ["short", "f0DI0w"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"f0DI0w", "user_id"=>"980190962"}}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "f0DI0w"], ["created_at", "2016-04-02 17:42:39.446931"], ["updated_at", "2016-04-02 17:42:39.446931"]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 21ms (ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 17:42:39.454546"], ["updated_at", "2016-04-02 17:42:39.454546"], ["short", "RFwBuw"]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.6ms)
  [1m[35mVisit Exists (0.2ms)[0m  SELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (22.4ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 49ms (Views: 43.9ms | ActiveRecord: 0.4ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 17:42:39.509499"], ["updated_at", "2016-04-02 17:42:39.509499"], ["short", "zfd3jg"]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.9ms)
  Rendered links/partials/_form.html.erb (30.6ms)
  Rendered links/edit.html.erb within layouts/application (36.3ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 53ms (Views: 52.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 17:42:39.569232"], ["updated_at", "2016-04-02 17:42:39.569232"], ["short", "2lnj7Q"]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.9ms)
  Rendered links/partials/_form.html.erb (1.6ms)
  Rendered links/new.html.erb within layouts/application (3.5ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 17:42:39.583915"], ["updated_at", "2016-04-02 17:42:39.583915"], ["short", "jPd3Sg"]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (4.5ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 17:42:39.599283"], ["updated_at", "2016-04-02 17:42:39.599283"], ["short", "h1vwnA"]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "links" WHERE "links"."id" = ?[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/dashboard
Completed 302 Found in 6ms (ActiveRecord: 1.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 17:42:39.614115"], ["updated_at", "2016-04-02 17:42:39.614115"], ["short", "JqBniQ"]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"JqBniQ", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/links/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35mLink Load (0.3ms)[0m  SELECT "links".* FROM "links"
  [1m[36mLink Load (1.9ms)[0m  [1mSELECT "links".* FROM "links"[0m
  [1m[36mLink Load (2.0ms)[0m  [1mSELECT "links".* FROM "links"[0m
  [1m[35mLink Load (0.3ms)[0m  SELECT "links".* FROM "links"
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "links" WHERE "links"."id" = ?  [["id", 980190962]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35mLink Load (0.3ms)[0m  SELECT "links".* FROM "links"
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$RCPclsOPnnp3ztqno5rIMuuF3MHTlYdSZImGx2u1rfdT.Dawh5EFO', '2016-04-02 17:47:41', '2016-04-02 17:47:41', 980190962)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 17:47:41', '2016-04-02 17:47:41', 980190962)[0m
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"long=http%3A%2F%2Fgoogle.com.ng&user=980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 0]]
Completed 404 Not Found in 7ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"long=http%3A%2F%2Fgoogle.com.ng&user=980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 0]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.2ms)
  Rendered links/partials/_form.html.erb (23.5ms)
  Rendered links/new.html.erb within layouts/application (32.7ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 82ms (Views: 55.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"long=http%3A%2F%2Fgoogle.com.ng&user=980190962"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 0]]
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (3.3ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mLink Load (0.5ms)[0m  [1mSELECT "links".* FROM "links"[0m
  [1m[36mLink Load (1.8ms)[0m  [1mSELECT "links".* FROM "links"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$zyuJbXPyPmxfBz7g1C5il.XsXmmS8IWD6bdWCLhNsWAcLQvwp4hXG', '2016-04-02 17:48:54', '2016-04-02 17:48:54', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 17:48:54', '2016-04-02 17:48:54', 980190962)[0m
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"long=http%3A%2F%2Fgoogle.com.ng&user=980190962"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 0]]
Completed 404 Not Found in 8ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"long=http%3A%2F%2Fgoogle.com.ng&user=980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 0]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.6ms)
  Rendered links/partials/_form.html.erb (21.1ms)
  Rendered links/new.html.erb within layouts/application (31.6ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 77ms (Views: 51.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"long=http%3A%2F%2Fgoogle.com.ng&user=980190962"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 0]]
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (2.0ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (3.3ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$If/VCukQJnJ7l7b8eoz/PuGeK28jY2XAZGnztyV/k3mXi/e2yLvNq', '2016-04-02 17:49:19', '2016-04-02 17:49:19', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 17:49:19', '2016-04-02 17:49:19', 980190962)[0m
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"long=http%3A%2F%2Fgoogle.com.ng&user=980190962"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 0]]
Completed 404 Not Found in 7ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"long=http%3A%2F%2Fgoogle.com.ng&user=980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 0]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"long=http%3A%2F%2Fgoogle.com.ng&user=980190962"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 0]]
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (9.5ms)
  Rendered shared/_nav_bar.html.erb (2.3ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 50ms (Views: 31.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (22.6ms)
  Rendered links/new.html.erb within layouts/application (25.6ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 41ms (Views: 28.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$lYoATcZgK8GxMptlkykfIOt5L7RdQheCwdBzeTdcabiJ2g.7rOUaO', '2016-04-02 17:50:28', '2016-04-02 17:50:28', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 17:50:28', '2016-04-02 17:50:28', 980190962)[0m
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.3ms)
  Rendered links/partials/_form.html.erb (20.8ms)
  Rendered links/new.html.erb within layouts/application (31.1ms)
  Rendered shared/_nav_bar.html.erb (1.8ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 85ms (Views: 54.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.8ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (3.8ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 12ms (Views: 9.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$Vs/sdzaTqMcqLqePNjMkw.0tQynOA8L25iVy0MMu.xtB8K7vhaeqi', '2016-04-02 17:51:44', '2016-04-02 17:51:44', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 17:51:44', '2016-04-02 17:51:44', 980190962)[0m
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (9.8ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 50ms (Views: 31.2ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  Rendered links/partials/_form.html.erb (20.5ms)
  Rendered links/new.html.erb within layouts/application (24.0ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 39ms (Views: 27.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$AnumrrU9P.dM5ZS3e.sLROK9mQBIAmkxDD.mAu0rf5X7snEPrAIWm', '2016-04-02 17:52:39', '2016-04-02 17:52:39', 980190962)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 17:52:39', '2016-04-02 17:52:39', 980190962)[0m
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>nil, "user_id"=>"980190962"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "links" ("user_id", "long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://google.com.ng"], ["created_at", "2016-04-02 17:52:39.812019"], ["updated_at", "2016-04-02 17:52:39.812019"], ["short", "4zJ4Dg"]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 37ms (ActiveRecord: 1.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (13.1ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 35ms (Views: 33.0ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  Rendered links/partials/_form.html.erb (22.8ms)
  Rendered links/new.html.erb within layouts/application (26.7ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 29.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mLink Load (0.4ms)[0m  SELECT "links".* FROM "links"
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$cFl9OcqhbRdF0SZEkvBBpetHbRAGd.aMcnxLLdAv2huhKsxI3xsSu', '2016-04-02 17:53:16', '2016-04-02 17:53:16', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 17:53:16', '2016-04-02 17:53:16', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (9.1ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 48ms (Views: 28.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>nil, "user_id"=>"980190962"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["created_at", "2016-04-02 17:53:16.569336"], ["updated_at", "2016-04-02 17:53:16.569336"], ["short", "QbtuHg"]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 15ms (ActiveRecord: 1.0ms)
  [1m[35mLink Load (0.2ms)[0m  SELECT "links".* FROM "links"
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$GmYebPQ6L3EcPH7sdij4Suj2ZeIadrTXlZuK4.A9r4qiD9qPyf28S', '2016-04-02 17:55:48', '2016-04-02 17:55:48', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 17:55:48', '2016-04-02 17:55:48', 980190962)[0m
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (9.9ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 54ms (Views: 31.0ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (22.6ms)
  Rendered links/new.html.erb within layouts/application (25.7ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 35ms (Views: 29.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>nil, "user_id"=>"980190962"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("user_id", "long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://google.com.ng"], ["created_at", "2016-04-02 17:55:48.772690"], ["updated_at", "2016-04-02 17:55:48.772690"], ["short", "6ech0Q"]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$tSoNIHi/wsNnBrsJpScay.LIxTgpuI1SYk.8fLG/rhQWUIKAl911e', '2016-04-02 17:58:57', '2016-04-02 17:58:57', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 17:58:57', '2016-04-02 17:58:57', 980190962)[0m
  [1m[35m (1.7ms)[0m  commit transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.5ms)
  Rendered links/partials/_form.html.erb (20.1ms)
  Rendered links/new.html.erb within layouts/application (34.9ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 79ms (Views: 56.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$CkruEb0dQNOdzZTEZ6SSvegcEyHh6kCB8geMUim5He5.HNe0NTi3.', '2016-04-02 17:58:57', '2016-04-02 17:58:57', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 17:58:57', '2016-04-02 17:58:57', 980190962)
  [1m[36m (5.7ms)[0m  [1mcommit transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>nil, "user_id"=>"980190962"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("user_id", "long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://google.com.ng"], ["created_at", "2016-04-02 17:58:57.987654"], ["updated_at", "2016-04-02 17:58:57.987654"], ["short", "vHcwNw"]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.2ms)[0m  commit transaction
Redirected to http://test.com/
Completed 302 Found in 9ms (ActiveRecord: 2.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$n.peQXJlrcx3XGzfuNuf3uZ/UHPsc/aGAMT2mThuQsZLumw5P5tiu', '2016-04-02 17:58:57', '2016-04-02 17:58:57', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 17:58:57', '2016-04-02 17:58:57', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.1ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (4.7ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 12ms (Views: 8.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$vTz3QId8oVCKOaorKqsRH.y7w5kuuZBrQNm/5uKcxbTmRBDdBfpPS', '2016-04-02 17:58:58', '2016-04-02 17:58:58', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 17:58:58', '2016-04-02 17:58:58', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$Z4DxYmi8xDlgi.M1gbNSReR/jlTS57IvRTqvm/sDU691uYr.1zume', '2016-04-02 18:01:23', '2016-04-02 18:01:23', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:01:23', '2016-04-02 18:01:23', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>nil, "user_id"=>"980190962"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "links" ("user_id", "long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://google.com.ng"], ["created_at", "2016-04-02 18:01:23.132816"], ["updated_at", "2016-04-02 18:01:23.132816"], ["short", "JO4S7w"]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 36ms (ActiveRecord: 1.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (10.7ms)
  Rendered shared/_nav_bar.html.erb (1.3ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 34ms (Views: 32.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (15.4ms)
  Rendered links/new.html.erb within layouts/application (18.4ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 23ms (Views: 21.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$ErU3q3bObAnvZrTZQnd6PuoVlJLs7M7spfoYoZpKw7aR2aDrZjr/.', '2016-04-02 18:01:47', '2016-04-02 18:01:47', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:01:47', '2016-04-02 18:01:47', 980190962)[0m
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.3ms)
  Rendered links/partials/_form.html.erb (17.2ms)
  Rendered links/new.html.erb within layouts/application (27.9ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.6ms)
Completed 200 OK in 74ms (Views: 50.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (2.8ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>nil, "user_id"=>"980190962"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["created_at", "2016-04-02 18:01:47.409509"], ["updated_at", "2016-04-02 18:01:47.409509"], ["short", "SlOzkA"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$YGzYsPPPUEQ3V92DQWCJD.yfLK/zwE1pBVtffWGTVd.ZbhV/qyB9q', '2016-04-02 18:04:42', '2016-04-02 18:04:42', 980190962)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:04:42', '2016-04-02 18:04:42', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>nil, "user_id"=>"980190962"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["created_at", "2016-04-02 18:04:42.479553"], ["updated_at", "2016-04-02 18:04:42.479553"], ["short", "bA7JIw"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
Redirected to http://test.com/
Completed 302 Found in 33ms (ActiveRecord: 2.4ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$anz/zNEWl7fUV4AY2YLXIOBcYn5kvTlVfgIh.mAg.eM3oKapiluRS', '2016-04-02 18:05:40', '2016-04-02 18:05:40', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:05:40', '2016-04-02 18:05:40', 980190962)[0m
  [1m[35m (1.9ms)[0m  commit transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (8.7ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 49ms (Views: 31.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$Cthm.jIYHE5J5t1b9FAMZuKrG/J7D8LTuK36SyMwfVD9Cku1.PBoq', '2016-04-02 18:05:40', '2016-04-02 18:05:40', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:05:40', '2016-04-02 18:05:40', 980190962)[0m
  [1m[35m (1.5ms)[0m  commit transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>nil, "user_id"=>"980190962"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["created_at", "2016-04-02 18:05:40.556280"], ["updated_at", "2016-04-02 18:05:40.556280"], ["short", "5a9MgQ"]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
Redirected to http://test.com/
Completed 302 Found in 15ms (ActiveRecord: 2.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$9rYdCbQY/KrPmDbMmR3ZX.V/luPs0TuVRXMZYO81WCM4IkYZG.Rwm', '2016-04-02 18:06:27', '2016-04-02 18:06:27', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:06:27', '2016-04-02 18:06:27', 980190962)[0m
  [1m[35m (1.5ms)[0m  commit transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>nil, "user_id"=>"980190962"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["created_at", "2016-04-02 18:06:27.864932"], ["updated_at", "2016-04-02 18:06:27.864932"], ["short", "1CIKtQ"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
Redirected to http://test.com/
Completed 302 Found in 36ms (ActiveRecord: 2.5ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$BOr13G.JK3Fl9OYt8r9VDelxa8aedHvEbrKKIgsOTGxvJJFgwEP7S', '2016-04-02 18:07:20', '2016-04-02 18:07:20', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:07:20', '2016-04-02 18:07:20', 980190962)[0m
  [1m[35m (1.5ms)[0m  commit transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.4ms)
  Rendered links/partials/_form.html.erb (17.9ms)
  Rendered links/new.html.erb within layouts/application (31.2ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 69ms (Views: 48.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$XKo6MIpsDrVnSUTu7r38yO7cCdkg6Miu9eQDV.hyxJzuk9D9o00aS', '2016-04-02 18:07:20', '2016-04-02 18:07:20', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:07:20', '2016-04-02 18:07:20', 980190962)
  [1m[36m (22.0ms)[0m  [1mcommit transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.1ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (4.7ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 11.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$1/iaFuv0uwYGujGruKuUPOh3ZEKQ9gqgy/dGBUTz26evZGRgi9cfW', '2016-04-02 18:07:20', '2016-04-02 18:07:20', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:07:20', '2016-04-02 18:07:20', 980190962)
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>nil, "user_id"=>"980190962"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("user_id", "long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://google.com.ng"], ["created_at", "2016-04-02 18:07:20.913965"], ["updated_at", "2016-04-02 18:07:20.913965"], ["short", "ils8kQ"]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.4ms)[0m  commit transaction
Redirected to http://test.com/
Completed 302 Found in 7ms (ActiveRecord: 2.2ms)
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT "links".* FROM "links"[0m
  [1m[36mLink Load (0.4ms)[0m  [1mSELECT "links".* FROM "links"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("long", "created_at", "updated_at", "id", "user_id") VALUES ('http://ruby.about.com/', '2016-04-02 18:16:41', '2016-04-02 18:16:41', 980190962, 980190962)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$fQAkGWyaFf44ScFgw64EquDrXia3Ws0g4hGd6TWLiqOeyOnV72M6e', '2016-04-02 18:16:41', '2016-04-02 18:16:41', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:16:41', '2016-04-02 18:16:41', 980190962)
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>nil, "user_id"=>"980190962"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://ruby.about.com/"], ["created_at", "2016-04-02 18:16:41.863092"], ["updated_at", "2016-04-02 18:16:41.863092"], ["short", "fgBEXw"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
Redirected to http://test.com/
Completed 302 Found in 32ms (ActiveRecord: 2.8ms)
  [1m[35mLink Load (0.3ms)[0m  SELECT "links".* FROM "links"
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://ruby.about.com/', '2016-04-02 18:17:24', '2016-04-02 18:17:24', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$EIKgB3ERmxzvhcQQj8E.XuHOIAJ2mhdoxDgss50NpS3JdljWKeaiG', '2016-04-02 18:17:24', '2016-04-02 18:17:24', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:17:24', '2016-04-02 18:17:24', 980190962)
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>nil, "user_id"=>nil}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://ruby.about.com/"], ["user_id", 980190962], ["created_at", "2016-04-02 18:17:24.253836"], ["updated_at", "2016-04-02 18:17:24.253836"], ["short", "qr4PiQ"]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
Redirected to http://test.com/
Completed 302 Found in 28ms (ActiveRecord: 2.3ms)
  [1m[35mLink Load (0.2ms)[0m  SELECT "links".* FROM "links"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35mLink Load (0.4ms)[0m  SELECT "links".* FROM "links"
  [1m[36mLink Load (0.4ms)[0m  [1mSELECT "links".* FROM "links"[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "links" WHERE "links"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "links" WHERE "links"."id" = ?  [["id", 980190969]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT "links".* FROM "links"
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://ruby.about.com/', '2016-04-02 18:19:26', '2016-04-02 18:19:26', 980190962)
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$KeZoqZxiRCOZxeT7ZU4nfu8ohfIEEPuiApb/vLMakqr93DGDNS1SG', '2016-04-02 18:19:26', '2016-04-02 18:19:26', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:19:26', '2016-04-02 18:19:26', 980190962)
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>nil, "user_id"=>nil}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://ruby.about.com/"], ["user_id", 980190962], ["created_at", "2016-04-02 18:19:26.223694"], ["updated_at", "2016-04-02 18:19:26.223694"], ["short", "dMothg"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
Redirected to http://test.com/
Completed 302 Found in 29ms (ActiveRecord: 2.6ms)
  [1m[35mLink Load (0.5ms)[0m  SELECT "links".* FROM "links"
  [1m[35mLink Load (0.2ms)[0m  SELECT "links".* FROM "links"
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (1.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://ruby.about.com/', '2016-04-02 18:20:03', '2016-04-02 18:20:03', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$0N.BCPp5Y.pYwDwYV0jwf.cmHV2ryjjAXD4uNMACG7frhsBJxcHpS', '2016-04-02 18:20:03', '2016-04-02 18:20:03', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:20:03', '2016-04-02 18:20:03', 980190962)
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>nil, "user_id"=>nil}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://ruby.about.com/"], ["user_id", 980190962], ["created_at", "2016-04-02 18:20:03.772226"], ["updated_at", "2016-04-02 18:20:03.772226"], ["short", "6xgWOA"]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
Redirected to http://test.com/
Completed 302 Found in 28ms (ActiveRecord: 2.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "links"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://ruby.about.com/', '2016-04-02 18:20:03', '2016-04-02 18:20:03', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$Y/Xve2I12qVXmI0Ahz9dJOOQ8RhEvtlaNkHGNothkFGEdf7rtnREC', '2016-04-02 18:20:03', '2016-04-02 18:20:03', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:20:03', '2016-04-02 18:20:03', 980190962)[0m
  [1m[35m (1.2ms)[0m  commit transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (8.5ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 31ms (Views: 29.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "links"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://ruby.about.com/', '2016-04-02 18:20:03', '2016-04-02 18:20:03', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$kTP3xZfxguNAfhdL3efXD.acvE70LLKh5A.frqD6l3USH/aFFkPxm', '2016-04-02 18:20:03', '2016-04-02 18:20:03', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:20:03', '2016-04-02 18:20:03', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (15.7ms)
  Rendered links/new.html.erb within layouts/application (20.2ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 25ms (Views: 23.4ms | ActiveRecord: 0.1ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://ruby.about.com/', '2016-04-02 18:20:24', '2016-04-02 18:20:24', 980190962)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$Dr.FqOZ1QEFk9eXwFV1NwemvD65qZj5KxKixT1K8uaG41A2/QQyS6', '2016-04-02 18:20:24', '2016-04-02 18:20:24', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:20:24', '2016-04-02 18:20:24', 980190962)
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (13.0ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 50ms (Views: 32.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://ruby.about.com/', '2016-04-02 18:20:24', '2016-04-02 18:20:24', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$O6Jpkur8u6eRsh/L5tENYuMBTGTvtts0GEPRsWrRfOwOhtA1L7p62', '2016-04-02 18:20:24', '2016-04-02 18:20:24', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:20:24', '2016-04-02 18:20:24', 980190962)
  [1m[36m (5.0ms)[0m  [1mcommit transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  Rendered links/partials/_form.html.erb (19.4ms)
  Rendered links/new.html.erb within layouts/application (23.0ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 35ms (Views: 26.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "links"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://ruby.about.com/', '2016-04-02 18:20:24', '2016-04-02 18:20:24', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$SK5PpHfw30SL1m4rgycRh.oJ5NctLVryG06bo3fkRuyVuSEy3oSza', '2016-04-02 18:20:24', '2016-04-02 18:20:24', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:20:24', '2016-04-02 18:20:24', 980190962)[0m
  [1m[35m (1.5ms)[0m  commit transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://ruby.about.com/", "short"=>nil, "user_id"=>nil}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://ruby.about.com/"], ["user_id", 980190962], ["created_at", "2016-04-02 18:20:24.654162"], ["updated_at", "2016-04-02 18:20:24.654162"], ["short", "lWuRpg"]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.4ms)[0m  commit transaction
Redirected to http://test.com/
Completed 302 Found in 7ms (ActiveRecord: 2.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('http://ruby.about.com/', '2016-04-02 18:20:24', '2016-04-02 18:20:24', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$p1iSh1IjiSpASBC/4vdIo.iDllcoxj/uT2hb0ZIJHk/X.jNWsEDwK', '2016-04-02 18:20:24', '2016-04-02 18:20:24', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:20:24', '2016-04-02 18:20:24', 980190962)
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
Redirected to http://test.host/dashboard
Filter chain halted as :check_owner rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
  [1m[36mLink Load (0.4ms)[0m  [1mSELECT "links".* FROM "links"[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$ZR.weNH989J9caYRXlwUcON1vFzPT2sBFHvBAVGU9nA.FtQiBNf06', '2016-04-02 18:36:14', '2016-04-02 18:36:14', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:36:14', '2016-04-02 18:36:14', 980190962)[0m
  [1m[35m (1.2ms)[0m  commit transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$jwNiqumQsBIEzG4UM6sIT.mObLkRYTcJV.aMi6u.vhZwf81flkx6K', '2016-04-02 18:36:14', '2016-04-02 18:36:14', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:36:14', '2016-04-02 18:36:14', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.2ms)
  Rendered links/partials/_form.html.erb (24.3ms)
  Rendered links/new.html.erb within layouts/application (35.0ms)
  Rendered shared/_nav_bar.html.erb (2.2ms)
  Rendered shared/_footer.html.erb (0.6ms)
Completed 200 OK in 87ms (Views: 59.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$l.gt5AsHNURHM3pnRrxKO.ynwOBnOrAZmkhBwAic32wp4qpMSnf4O', '2016-04-02 18:36:14', '2016-04-02 18:36:14', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:36:14', '2016-04-02 18:36:14', 980190962)
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>nil, "user_id"=>"980190962"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "links" ("user_id", "long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://google.com.ng"], ["created_at", "2016-04-02 18:36:14.513067"], ["updated_at", "2016-04-02 18:36:14.513067"], ["short", "cepNLw"]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.3ms)[0m  commit transaction
Redirected to http://test.com/
Completed 302 Found in 8ms (ActiveRecord: 2.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$V8oPxyYDOeYaOVChdJcXQ.EpfnYzzm70GxTnNFf5B.yeVtC.WbhyK', '2016-04-02 18:36:14', '2016-04-02 18:36:14', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:36:14', '2016-04-02 18:36:14', 980190962)[0m
  [1m[35m (1.1ms)[0m  commit transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.9ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (2.9ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 0.3ms)
  [1m[35mLink Load (0.3ms)[0m  SELECT "links".* FROM "links"
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT "links".* FROM "links"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$4xgDqLYBR3Kj.6PAGjjg4O0hOLY1fnh9Hk5kR7pqDoCMvjIdRwUgK', '2016-04-02 18:39:51', '2016-04-02 18:39:51', 980190962)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:39:51', '2016-04-02 18:39:51', 980190962)[0m
  [1m[35m (1.7ms)[0m  commit transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.2ms)
  Rendered links/partials/_form.html.erb (18.5ms)
  Rendered links/new.html.erb within layouts/application (28.7ms)
  Rendered shared/_nav_bar.html.erb (1.6ms)
  Rendered shared/_footer.html.erb (0.9ms)
Completed 200 OK in 80ms (Views: 51.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$D/AUcXadzCzwPyjKmWviK.NoQlg6FmM2FjJGJDbL85Kic8lElfqze', '2016-04-02 18:39:51', '2016-04-02 18:39:51', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:39:51', '2016-04-02 18:39:51', 980190962)
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>nil, "user_id"=>"980190962"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("user_id", "long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://google.com.ng"], ["created_at", "2016-04-02 18:39:51.893334"], ["updated_at", "2016-04-02 18:39:51.893334"], ["short", "uFx1lg"]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.1ms)[0m  commit transaction
Redirected to http://test.com/
Completed 302 Found in 8ms (ActiveRecord: 2.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$EcrhAPagPwPzLDEeZdIL5OOfk49Egc.fYHyWUTNlDxR9uFGoF.5.u', '2016-04-02 18:39:51', '2016-04-02 18:39:51', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:39:51', '2016-04-02 18:39:51', 980190962)[0m
  [1m[35m (1.3ms)[0m  commit transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$RrrXIOBd7E.KNGzuxd.JXeOmxmhN/pw5b0K9A.lUG5TPIrEIbfpdq', '2016-04-02 18:39:51', '2016-04-02 18:39:51', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:39:51', '2016-04-02 18:39:51', 980190962)[0m
  [1m[35m (1.3ms)[0m  commit transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (3.2ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 7.2ms | ActiveRecord: 0.4ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$2JHRbfsGhL24LIZ2/prx2uRsuh3/medbKem0Sy4Kjxm4HOtSO9kmu', '2016-04-02 18:40:37', '2016-04-02 18:40:37', 980190962)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:40:37', '2016-04-02 18:40:37', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>nil, "user_id"=>"980190962"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["created_at", "2016-04-02 18:40:37.204590"], ["updated_at", "2016-04-02 18:40:37.204590"], ["short", "Z79_og"]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
Redirected to http://test.com/
Completed 302 Found in 40ms (ActiveRecord: 2.7ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$1Q0xbM79TsDaAF1cyMLVk.NOXFATA147Yl2XTN3hg6djWbsTFJyJW', '2016-04-02 18:40:37', '2016-04-02 18:40:37', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:40:37', '2016-04-02 18:40:37', 980190962)
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (2.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (11.7ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 35ms (Views: 33.0ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$qmzs63YFDr75EyiRDg6MI.Ib6ZkUAsS0BZXNukCLwGm0T/wLbnL.m', '2016-04-02 18:40:37', '2016-04-02 18:40:37', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:40:37', '2016-04-02 18:40:37', 980190962)
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.2ms)
  Rendered links/partials/_form.html.erb (20.0ms)
  Rendered links/new.html.erb within layouts/application (24.5ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 32ms (Views: 30.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$BKv.l4tPJPkJAGaY4fORj.3hmCwUcsGefepPVLlQ9piUD2RM8Vb6G', '2016-04-02 18:40:37', '2016-04-02 18:40:37', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:40:37', '2016-04-02 18:40:37', 980190962)[0m
  [1m[35m (1.9ms)[0m  commit transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "id") VALUES ('http://google.com.ng', 980190962, '2016-04-02 18:47:46', '2016-04-02 18:47:46', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$qXRMy9Edq1fxvMQh1oKsi.J4ZTF0uLXRwnxON4sSLj/2nC8FpEnGC', '2016-04-02 18:47:46', '2016-04-02 18:47:46', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:47:46', '2016-04-02 18:47:46', 980190962)
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.1ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35mLink Load (0.2ms)[0m  SELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (32.3ms)
Completed 500 Internal Server Error in 72ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "links"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "id") VALUES ('http://google.com.ng', 980190962, '2016-04-02 18:47:46', '2016-04-02 18:47:46', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$TOltJ1IpBRdbdFWyvlRju..1QbVpHgF5mlOOiG8kF35IHpwT4cIce', '2016-04-02 18:47:46', '2016-04-02 18:47:46', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:47:46', '2016-04-02 18:47:46', 980190962)[0m
  [1m[35m (2.0ms)[0m  commit transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>nil, "user_id"=>"980190962"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("user_id", "long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://google.com.ng"], ["created_at", "2016-04-02 18:47:46.225935"], ["updated_at", "2016-04-02 18:47:46.225935"], ["short", "ws-fdw"]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.4ms)[0m  commit transaction
Redirected to http://test.com/
Completed 302 Found in 12ms (ActiveRecord: 2.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "id") VALUES ('http://google.com.ng', 980190962, '2016-04-02 18:47:46', '2016-04-02 18:47:46', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$8he4eDcWd7cdYCsqlZANZuYQBJsJTaQ31WScamQ068AhZqNqJyHrK', '2016-04-02 18:47:46', '2016-04-02 18:47:46', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:47:46', '2016-04-02 18:47:46', 980190962)
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.9ms)
  Rendered links/show.html.erb within layouts/application (5.4ms)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "id") VALUES ('http://google.com.ng', 980190962, '2016-04-02 18:47:46', '2016-04-02 18:47:46', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$uyVury5iMNbFTaf8E33f7O5l5Iz.ZgPbWuw3HnAsuLeV6e06vwVMy', '2016-04-02 18:47:46', '2016-04-02 18:47:46', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:47:46', '2016-04-02 18:47:46', 980190962)
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (16.7ms)
  Rendered links/new.html.erb within layouts/application (21.3ms)
  Rendered shared/_nav_bar.html.erb (1.8ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 33ms (Views: 31.3ms | ActiveRecord: 0.1ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "short", "created_at", "updated_at", "id") VALUES ('http://google.com.ng', 980190962, '', '2016-04-02 18:48:38', '2016-04-02 18:48:38', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$s.LignbtMG/XncUwbbW1o.d/3bWHmEuJvYfkX2fil5ZFvWft.05cO', '2016-04-02 18:48:38', '2016-04-02 18:48:38', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:48:38', '2016-04-02 18:48:38', 980190962)
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.1ms)
  [1m[35mVisit Exists (0.2ms)[0m  SELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1  [["link_id", 980190962]]
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT "visits".* FROM "visits" WHERE "visits"."link_id" = ?[0m  [["link_id", 980190962]]
  Rendered links/show.html.erb within layouts/application (49.4ms)
  Rendered shared/_nav_bar.html.erb (1.9ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 85ms (Views: 77.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("long", "user_id", "short", "created_at", "updated_at", "id") VALUES ('http://google.com.ng', 980190962, '', '2016-04-02 18:48:38', '2016-04-02 18:48:38', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$NxASuYCwfgnw1.jUdxs3uOcrcMbUKYQFQ20YzjFc116YlSj3qA5r6', '2016-04-02 18:48:38', '2016-04-02 18:48:38', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:48:38', '2016-04-02 18:48:38', 980190962)
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.0ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35mLink Load (0.2ms)[0m  SELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (15.3ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 21ms (Views: 18.0ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "links"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "short", "created_at", "updated_at", "id") VALUES ('http://google.com.ng', 980190962, '', '2016-04-02 18:48:38', '2016-04-02 18:48:38', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$dFDekwjyvgIZCqusa4wNVOH2EuVEsmFCKGId3TlEZRYyzj8j0JjGK', '2016-04-02 18:48:38', '2016-04-02 18:48:38', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:48:38', '2016-04-02 18:48:38', 980190962)[0m
  [1m[35m (1.5ms)[0m  commit transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"", "user_id"=>"980190962"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "SVB1cA"], ["created_at", "2016-04-02 18:48:38.322809"], ["updated_at", "2016-04-02 18:48:38.322809"]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.1ms)[0m  commit transaction
Redirected to http://test.com/
Completed 302 Found in 12ms (ActiveRecord: 2.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("long", "user_id", "short", "created_at", "updated_at", "id") VALUES ('http://google.com.ng', 980190962, '', '2016-04-02 18:48:38', '2016-04-02 18:48:38', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$JdABadOx4yyHJZP0i9KPp.qsGV7IHFglBskNJcLC4zGBQ9F44k/ae', '2016-04-02 18:48:38', '2016-04-02 18:48:38', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:48:38', '2016-04-02 18:48:38', 980190962)
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  Rendered links/partials/_form.html.erb (12.2ms)
  Rendered links/new.html.erb within layouts/application (16.8ms)
  Rendered shared/_nav_bar.html.erb (1.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 24ms (Views: 22.3ms | ActiveRecord: 0.2ms)
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT "links".* FROM "links"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$ZK9YE.ZSflHrBK6gvR4kJeRI9lnUD5AsXtDLPUfYMZxsTQBIvlpja', '2016-04-02 18:50:51', '2016-04-02 18:50:51', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:50:51', '2016-04-02 18:50:51', 980190962)[0m
  [1m[35m (2.5ms)[0m  commit transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 18:50:51.646610"], ["updated_at", "2016-04-02 18:50:51.646610"], ["short", "EG6isg"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"EG6isg", "user_id"=>"980190962"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "EG6isg"], ["created_at", "2016-04-02 18:50:51.695889"], ["updated_at", "2016-04-02 18:50:51.695889"]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.2ms)[0m  commit transaction
Redirected to http://test.com/
Completed 302 Found in 23ms (ActiveRecord: 2.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$9SKxAcTD4fCYhn1C6YkyJuv13VwxDquvyEqP9Yxznc5JKkXfAkj6a', '2016-04-02 18:50:51', '2016-04-02 18:50:51', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:50:51', '2016-04-02 18:50:51', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 18:50:51.713105"], ["updated_at", "2016-04-02 18:50:51.713105"], ["short", "27XC2A"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.3ms)[0m  commit transaction
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (23.8ms)
  Rendered shared/_nav_bar.html.erb (1.7ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 54ms (Views: 52.0ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$dtdjwDtigbeJWPoY7dPU3usJepTmobmePYwNPQiIfIEDRCGhuJ4L2', '2016-04-02 18:50:51', '2016-04-02 18:50:51', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:50:51', '2016-04-02 18:50:51', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 18:50:51.784033"], ["updated_at", "2016-04-02 18:50:51.784033"], ["short", "piyT2Q"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.5ms)[0m  commit transaction
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (13.7ms)
  Rendered links/new.html.erb within layouts/application (16.6ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 22ms (Views: 19.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$ezRakTD.unRXD5mRbzMgRu4dcBP8PVy6W7f4.q5pZc9Y4YVpXX6H.', '2016-04-02 18:50:51', '2016-04-02 18:50:51', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:50:51', '2016-04-02 18:50:51', 980190962)[0m
  [1m[35m (1.5ms)[0m  commit transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 18:50:51.820706"], ["updated_at", "2016-04-02 18:50:51.820706"], ["short", "yw9ScA"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.5ms)[0m  commit transaction
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190982"}
  [1m[36mLink Load (0.4ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190982]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  [1m[36mVisit Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1[0m  [["link_id", 980190982]]
  Rendered links/show.html.erb within layouts/application (12.5ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 19ms (Views: 15.4ms | ActiveRecord: 0.8ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$KjYxSpcZqNKXMiHYcqCMveMafYDTZwY0y00e.b9aVGQ6FMgAeo93i', '2016-04-02 18:51:43', '2016-04-02 18:51:43', 980190962)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:51:43', '2016-04-02 18:51:43', 980190962)[0m
  [1m[35m (1.3ms)[0m  commit transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 18:51:43.625264"], ["updated_at", "2016-04-02 18:51:43.625264"], ["short", "u6O_KA"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.6ms)[0m  commit transaction
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190983"}
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190983]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.3ms)
  [1m[36mVisit Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1[0m  [["link_id", 980190983]]
  Rendered links/show.html.erb within layouts/application (30.5ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 60ms (Views: 51.4ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$tng57lwfU4sGNIhvafgFVeafdSVm4mqRnul1CK7GCchpCrHnh8zoC', '2016-04-02 18:51:43', '2016-04-02 18:51:43', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:51:43', '2016-04-02 18:51:43', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 18:51:43.722590"], ["updated_at", "2016-04-02 18:51:43.722590"], ["short", "3Cr5CQ"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.4ms)[0m  commit transaction
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.3ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (15.0ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 24ms (Views: 18.1ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$/AKthjBqYKG2etVx/qZ.NuawbYviVfGq2Ag8h8y.lrfodvWAElHhO', '2016-04-02 18:51:43', '2016-04-02 18:51:43', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:51:43', '2016-04-02 18:51:43', 980190962)[0m
  [1m[35m (1.2ms)[0m  commit transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 18:51:43.764040"], ["updated_at", "2016-04-02 18:51:43.764040"], ["short", "LqCimQ"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.5ms)[0m  commit transaction
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (9.0ms)
  Rendered links/new.html.erb within layouts/application (12.0ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 18ms (Views: 16.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$gl00fJ8T9Dk7U.e9e61Mj.4rCfMxSPeuEKKvCr5QXRVba5NtrVr3a', '2016-04-02 18:51:43', '2016-04-02 18:51:43', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:51:43', '2016-04-02 18:51:43', 980190962)[0m
  [1m[35m (1.3ms)[0m  commit transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 18:51:43.797852"], ["updated_at", "2016-04-02 18:51:43.797852"], ["short", "pKCNrA"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"pKCNrA", "user_id"=>"980190962"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "pKCNrA"], ["created_at", "2016-04-02 18:51:43.806984"], ["updated_at", "2016-04-02 18:51:43.806984"]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.6ms)[0m  commit transaction
Redirected to http://test.com/
Completed 302 Found in 8ms (ActiveRecord: 2.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$w47pFffID71bNDENl.akx.leSygsITlgQ32YQ9JChvTnRRNivtAiW', '2016-04-02 18:53:16', '2016-04-02 18:53:16', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:53:16', '2016-04-02 18:53:16', 980190962)[0m
  [1m[35m (1.5ms)[0m  commit transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 18:53:16.243734"], ["updated_at", "2016-04-02 18:53:16.243734"], ["short", "Is-Pdw"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"Is-Pdw", "user_id"=>"980190962"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "Is-Pdw"], ["created_at", "2016-04-02 18:53:16.289010"], ["updated_at", "2016-04-02 18:53:16.289010"]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.3ms)[0m  commit transaction
Redirected to http://test.com/
Completed 302 Found in 20ms (ActiveRecord: 2.3ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$9V66f5at0ed1W3snxBJLVuVHDGb68Qw58xlbbMIGqDVddv6NhsNx6', '2016-04-02 18:53:16', '2016-04-02 18:53:16', 980190962)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:53:16', '2016-04-02 18:53:16', 980190962)[0m
  [1m[35m (1.2ms)[0m  commit transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 18:53:16.305934"], ["updated_at", "2016-04-02 18:53:16.305934"], ["short", "eboHKA"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.6ms)[0m  commit transaction
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190990"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190990]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.2ms)
  [1m[36mVisit Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1[0m  [["link_id", 980190990]]
  Rendered links/show.html.erb within layouts/application (19.8ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 42ms (Views: 39.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$3mNKCrKcnfYGIXv5ww6yjetYYuutj.juzx/wCYomow4rJEHHiTCBa', '2016-04-02 18:53:16', '2016-04-02 18:53:16', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:53:16', '2016-04-02 18:53:16', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 18:53:16.363519"], ["updated_at", "2016-04-02 18:53:16.363519"], ["short", "hfDX3Q"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.3ms)[0m  commit transaction
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190991"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190991]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (19.9ms)
  Rendered links/edit.html.erb within layouts/application (23.1ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 29ms (Views: 27.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$EmvDKo8THPUHDAie8owTYelsAHULcFuJXAna2vdsvW382Nx9RuYhq', '2016-04-02 18:53:16', '2016-04-02 18:53:16', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:53:16', '2016-04-02 18:53:16', 980190962)
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 18:53:16.408120"], ["updated_at", "2016-04-02 18:53:16.408120"], ["short", "nK1c-Q"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/new.html.erb within layouts/application (2.2ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$pmfY3Q7a2FeIxoV/v3wVGuNkmJ2qC2ymTvcxDqxh42Hf9Rn1UaWeq', '2016-04-02 18:53:16', '2016-04-02 18:53:16', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:53:16', '2016-04-02 18:53:16', 980190962)
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 18:53:16.431352"], ["updated_at", "2016-04-02 18:53:16.431352"], ["short", "SU16Kg"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (3.2ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.1ms | ActiveRecord: 0.4ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$2qPzp/aXa1HWWRvp9jqPXumzzTjUxfcV36EMbrO9VCvvrF7HVF.Qm', '2016-04-02 18:53:46', '2016-04-02 18:53:46', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:53:46', '2016-04-02 18:53:46', 980190962)[0m
  [1m[35m (2.2ms)[0m  commit transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 18:53:46.383221"], ["updated_at", "2016-04-02 18:53:46.383221"], ["short", "AKHfiA"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.6ms)[0m  commit transaction
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190994"}
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190994]]
Completed 401 Unauthorized in 37ms (ActiveRecord: 0.3ms)
  Rendered text template (0.0ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$BGwN8lG2PtBYiJWKH1Jsmupxw6wgBCEcChh918LCWSMEmbhoyr.fi', '2016-04-02 18:53:46', '2016-04-02 18:53:46', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:53:46', '2016-04-02 18:53:46', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 18:53:46.481707"], ["updated_at", "2016-04-02 18:53:46.481707"], ["short", "qHMbUw"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.4ms)[0m  commit transaction
Processing by LinksController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  Rendered text template (0.0ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$fn3BoP9MI3hK04.T95MzVuiww4rj6vjzd417on79Yc60DPS/AIYIi', '2016-04-02 18:53:46', '2016-04-02 18:53:46', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:53:46', '2016-04-02 18:53:46', 980190962)
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 18:53:46.499917"], ["updated_at", "2016-04-02 18:53:46.499917"], ["short", "kJsmuw"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"kJsmuw", "user_id"=>"980190962"}}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "kJsmuw"], ["created_at", "2016-04-02 18:53:46.509152"], ["updated_at", "2016-04-02 18:53:46.509152"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Redirected to http://test.com/
Completed 302 Found in 8ms (ActiveRecord: 2.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$Rsmhv7sAusZewmkZTf2YROo08Dde82mrMWLwnehPXB7VM.Ttkf.2.', '2016-04-02 18:53:46', '2016-04-02 18:53:46', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:53:46', '2016-04-02 18:53:46', 980190962)
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 18:53:46.525992"], ["updated_at", "2016-04-02 18:53:46.525992"], ["short", "tr8OxQ"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
Processing by LinksController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  Rendered text template (0.0ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$CViHoJhCb/Krr14UTuYtwuRFSKE6MnTDuMegcuGCCC1dVP4R/PHqC', '2016-04-02 18:53:46', '2016-04-02 18:53:46', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:53:46', '2016-04-02 18:53:46', 980190962)[0m
  [1m[35m (1.2ms)[0m  commit transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 18:53:46.544993"], ["updated_at", "2016-04-02 18:53:46.544993"], ["short", "l8vYtw"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.3ms)[0m  commit transaction
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190999"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190999]]
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.2ms)
  Rendered text template (0.0ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$eD3jdRNKgHsanC9USTRZFONoz5kMGoMla8S61tLi2GymyXV2.UFbO', '2016-04-02 18:53:59', '2016-04-02 18:53:59', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:53:59', '2016-04-02 18:53:59', 980190962)[0m
  [1m[35m (1.8ms)[0m  commit transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 18:53:59.346717"], ["updated_at", "2016-04-02 18:53:59.346717"], ["short", "wk1wdQ"]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.5ms)[0m  commit transaction
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.5ms)
  Rendered links/partials/_form.html.erb (18.5ms)
  Rendered links/new.html.erb within layouts/application (30.3ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 64ms (Views: 48.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$Sv276V8q4heRKsVrpgYkZOhRQqQt7v3YixDsP6dnABRKY/pz.1h0y', '2016-04-02 18:53:59', '2016-04-02 18:53:59', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:53:59', '2016-04-02 18:53:59', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 18:53:59.446597"], ["updated_at", "2016-04-02 18:53:59.446597"], ["short", "rV-CsA"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.4ms)[0m  commit transaction
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980191001"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980191001]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  [1m[36mVisit Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1[0m  [["link_id", 980191001]]
  Rendered links/show.html.erb within layouts/application (12.2ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 18ms (Views: 14.9ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$OgEPG1Yd8Fm9y0eCFlUjx.r7LLSHEj.r9U7zHzKNsjwDh060GFgIS', '2016-04-02 18:53:59', '2016-04-02 18:53:59', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:53:59', '2016-04-02 18:53:59', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 18:53:59.481651"], ["updated_at", "2016-04-02 18:53:59.481651"], ["short", "ZEv6Tg"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"ZEv6Tg", "user_id"=>"980190962"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "ZEv6Tg"], ["created_at", "2016-04-02 18:53:59.491040"], ["updated_at", "2016-04-02 18:53:59.491040"]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.4ms)[0m  commit transaction
Redirected to http://test.com/
Completed 302 Found in 7ms (ActiveRecord: 2.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$r75qZm1/cRaB3I8W84t3QOo9wzz9XFs0pEDg/zybmnmVZ/SkNRro2', '2016-04-02 18:53:59', '2016-04-02 18:53:59', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:53:59', '2016-04-02 18:53:59', 980190962)[0m
  [1m[35m (1.6ms)[0m  commit transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 18:53:59.505160"], ["updated_at", "2016-04-02 18:53:59.505160"], ["short", "xAKCmg"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.4ms)[0m  commit transaction
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (4.3ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$ynUUAJfj0osgHt9kb0NKFOw56DPid08wkwl8ET8G7FdWi0E6y8CR6', '2016-04-02 18:53:59', '2016-04-02 18:53:59', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:53:59', '2016-04-02 18:53:59', 980190962)[0m
  [1m[35m (1.3ms)[0m  commit transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 18:53:59.527826"], ["updated_at", "2016-04-02 18:53:59.527826"], ["short", "4Xew0Q"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.2ms)[0m  commit transaction
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980191005"}
  [1m[36mLink Load (0.4ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980191005]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (3.7ms)
  Rendered links/edit.html.erb within layouts/application (5.1ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 0.5ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$dTc1wUnq2V2iDbY3W0III.g/bXFUrnPInvLn.xTSrU6SgsBsgfvSq', '2016-04-02 18:55:01', '2016-04-02 18:55:01', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:55:01', '2016-04-02 18:55:01', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 18:55:02.000801"], ["updated_at", "2016-04-02 18:55:02.000801"], ["short", "bE-c-A"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.4ms)[0m  commit transaction
Processing by LinksController#new as HTML
Completed 401 Unauthorized in 12ms (ActiveRecord: 0.0ms)
  Rendered text template (0.0ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$VidYsLbnlOQOxgoW1zmSvOMWhD670tkvMZAEb3P8YcZTNG1iO5/GK', '2016-04-02 18:55:02', '2016-04-02 18:55:02', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:55:02', '2016-04-02 18:55:02', 980190962)
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 18:55:02.068076"], ["updated_at", "2016-04-02 18:55:02.068076"], ["short", "uVhqgg"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980191007"}
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980191007]]
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.3ms)
  Rendered text template (0.0ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$v671DHDKacRT4JmC/jc3DeKj5Vi.G0Zx1rKuyg0DJ9//Td01zeWYy', '2016-04-02 18:55:02', '2016-04-02 18:55:02', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:55:02', '2016-04-02 18:55:02', 980190962)
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 18:55:02.089226"], ["updated_at", "2016-04-02 18:55:02.089226"], ["short", "Y2MpMg"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"Y2MpMg", "user_id"=>"980190962"}}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "Y2MpMg"], ["created_at", "2016-04-02 18:55:02.100896"], ["updated_at", "2016-04-02 18:55:02.100896"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Redirected to http://test.com/
Completed 302 Found in 10ms (ActiveRecord: 2.2ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$.bpCBy8uKKUyO4svb6QO9.DKMymN.qQy20CGgTBSQoh3FiIP5rvkC', '2016-04-02 18:55:02', '2016-04-02 18:55:02', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:55:02', '2016-04-02 18:55:02', 980190962)
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 18:55:02.122993"], ["updated_at", "2016-04-02 18:55:02.122993"], ["short", "FG2nRg"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980191010"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980191010]]
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.2ms)
  Rendered text template (0.0ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$Ew/vqp9NNpJSmm6BhCJS1.sjzLn7zM1V1Uq2e4qdYjq9UUw4.Cd4u', '2016-04-02 18:55:02', '2016-04-02 18:55:02', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:55:02', '2016-04-02 18:55:02', 980190962)
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 18:55:02.143346"], ["updated_at", "2016-04-02 18:55:02.143346"], ["short", "s5Rf9A"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
Processing by LinksController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  Rendered text template (0.0ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$x.EwMlXaolZQ1o2QcTnXsexa27Tt8u6n/.LGu3.4NYkyuZGjJUGUS', '2016-04-02 18:55:13', '2016-04-02 18:55:13', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:55:13', '2016-04-02 18:55:13', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 18:55:13.990247"], ["updated_at", "2016-04-02 18:55:13.990247"], ["short", "dqzSpw"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.9ms)[0m  commit transaction
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.2ms)
  Rendered links/partials/_form.html.erb (21.8ms)
  Rendered links/new.html.erb within layouts/application (31.4ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 69ms (Views: 54.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$AQQii6hgp/Yi5dM1wRrWNenCQWG6KmXwiiwXEPYCpLM6hJFresbS6', '2016-04-02 18:55:14', '2016-04-02 18:55:14', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:55:14', '2016-04-02 18:55:14', 980190962)[0m
  [1m[35m (1.5ms)[0m  commit transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 18:55:14.102638"], ["updated_at", "2016-04-02 18:55:14.102638"], ["short", "fiz5KQ"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.4ms)[0m  commit transaction
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (3.6ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$Z/1zf3Xk95N1qcI4OJ20IelXLrQdzED.6mGla/x4fxTf.0l2VQlSy', '2016-04-02 18:55:14', '2016-04-02 18:55:14', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:55:14', '2016-04-02 18:55:14', 980190962)[0m
  [1m[35m (1.5ms)[0m  commit transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 18:55:14.127760"], ["updated_at", "2016-04-02 18:55:14.127760"], ["short", "L0W1Jw"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.4ms)[0m  commit transaction
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980191014"}
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980191014]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.8ms)
  Rendered links/partials/_form.html.erb (3.9ms)
  Rendered links/edit.html.erb within layouts/application (5.9ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 8.8ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$Uh3SIDrry3sUDTpAOO7xwOAIGmPBEz5U4Oc02y7jC8H.miXlNfy6.', '2016-04-02 18:55:14', '2016-04-02 18:55:14', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:55:14', '2016-04-02 18:55:14', 980190962)
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 18:55:14.158445"], ["updated_at", "2016-04-02 18:55:14.158445"], ["short", "xM7k8w"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980191015"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980191015]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.4ms)
  [1m[35mVisit Exists (0.2ms)[0m  SELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1  [["link_id", 980191015]]
  Rendered links/show.html.erb within layouts/application (22.1ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 29ms (Views: 26.6ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$gmemrfIC7S6pnek/Y3JrqeTqlXi1dnwdSmC9FPEXe0piCJBtan1dO', '2016-04-02 18:55:14', '2016-04-02 18:55:14', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 18:55:14', '2016-04-02 18:55:14', 980190962)
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 18:55:14.205716"], ["updated_at", "2016-04-02 18:55:14.205716"], ["short", "JrHRhg"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"JrHRhg", "user_id"=>"980190962"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "JrHRhg"], ["created_at", "2016-04-02 18:55:14.228101"], ["updated_at", "2016-04-02 18:55:14.228101"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
Redirected to http://test.com/
Completed 302 Found in 14ms (ActiveRecord: 3.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$QZDXk6NrTAFyNHNcS.Ns9uVVHkJDSu/Xq.S9Q1CLkuN6Ywdtlzuv.', '2016-04-02 19:00:07', '2016-04-02 19:00:07', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 19:00:07', '2016-04-02 19:00:07', 980190962)[0m
  [1m[35m (2.5ms)[0m  commit transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 19:00:07.538648"], ["updated_at", "2016-04-02 19:00:07.538648"], ["short", "oohADg"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.4ms)[0m  commit transaction
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.4ms)
  Rendered links/partials/_form.html.erb (15.9ms)
  Rendered links/new.html.erb within layouts/application (26.7ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 65ms (Views: 44.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$D7vT1IWDZRl9AaAvwlsffOpFNeQZ1pFGyKbzopUwxgsfsRLFZBgwe', '2016-04-02 19:00:07', '2016-04-02 19:00:07', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 19:00:07', '2016-04-02 19:00:07', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 19:00:07.640522"], ["updated_at", "2016-04-02 19:00:07.640522"], ["short", "1NOf0w"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.3ms)[0m  commit transaction
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980191019"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980191019]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (3.7ms)
  Rendered links/edit.html.erb within layouts/application (5.1ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 8.0ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$02hW00TREr8ZD7.1DLxAUuF5ImxCDpeC9rObpnTtZvVoW.bPJr1Na', '2016-04-02 19:00:07', '2016-04-02 19:00:07', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 19:00:07', '2016-04-02 19:00:07', 980190962)
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 19:00:07.670285"], ["updated_at", "2016-04-02 19:00:07.670285"], ["short", "YutHAQ"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"YutHAQ", "user_id"=>"980190962"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "YutHAQ"], ["created_at", "2016-04-02 19:00:07.680613"], ["updated_at", "2016-04-02 19:00:07.680613"]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Redirected to http://test.com/
Completed 302 Found in 7ms (ActiveRecord: 1.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$o/iGdKVty2375a8bZ1E51.OjeXq1u9yQGAe4jmW4J2U9VvdjAMbcq', '2016-04-02 19:00:07', '2016-04-02 19:00:07', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 19:00:07', '2016-04-02 19:00:07', 980190962)
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 19:00:07.696864"], ["updated_at", "2016-04-02 19:00:07.696864"], ["short", "NbklFg"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980191022"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980191022]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.8ms)
  [1m[35mVisit Exists (0.2ms)[0m  SELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1  [["link_id", 980191022]]
  Rendered links/show.html.erb within layouts/application (14.8ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 21ms (Views: 18.5ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$3Kmz0dx6xdOngS/HdGb6X.2OiIMFT.c7VFGBaapsZ2yrH31ubjqLy', '2016-04-02 19:00:07', '2016-04-02 19:00:07', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 19:00:07', '2016-04-02 19:00:07', 980190962)
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 19:00:07.734514"], ["updated_at", "2016-04-02 19:00:07.734514"], ["short", "xtLDEw"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (3.1ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.6ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$PYA4M/FXx6pQij4tOHiWwu2iLlViooVCZTrqtocawopbbjZ4FJ0F.', '2016-04-02 19:00:07', '2016-04-02 19:00:07', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 19:00:07', '2016-04-02 19:00:07', 980190962)
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 19:00:07.758038"], ["updated_at", "2016-04-02 19:00:07.758038"], ["short", "o38AFw"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"o38AFw", "user_id"=>"980190962"}, "id"=>"980191024"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980191024]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
Redirected to http://test.host/links/980191024
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$6YVaOc3xtKoluvRBYP0Y2eCTlJqaXt3hlAKNtNzdwc3Yt3g0JbO26', '2016-04-02 19:00:25', '2016-04-02 19:00:25', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 19:00:25', '2016-04-02 19:00:25', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 19:00:25.453578"], ["updated_at", "2016-04-02 19:00:25.453578"], ["short", "iBPDcA"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.6ms)[0m  commit transaction
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (23.6ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 62ms (Views: 44.1ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$ehd7Rc.yfchQTEi7l8bUqeVjMLQ2dSs2NEPoNw0r4LcupcYnHr8t6', '2016-04-02 19:00:25', '2016-04-02 19:00:25', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 19:00:25', '2016-04-02 19:00:25', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 19:00:25.548860"], ["updated_at", "2016-04-02 19:00:25.548860"], ["short", "3ylVwg"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.5ms)[0m  commit transaction
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (9.2ms)
  Rendered links/new.html.erb within layouts/application (12.3ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 18ms (Views: 15.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$ICQz/pPAvQMjlbhm6DAJme5oB.EfvFy3McXkvhMCZLHNtrbJwzi2S', '2016-04-02 19:00:25', '2016-04-02 19:00:25', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 19:00:25', '2016-04-02 19:00:25', 980190962)[0m
  [1m[35m (1.3ms)[0m  commit transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 19:00:25.582426"], ["updated_at", "2016-04-02 19:00:25.582426"], ["short", "vo3wJA"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (2.0ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980191027"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980191027]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "links" WHERE "links"."id" = ?[0m  [["id", 980191027]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.1ms)[0m  commit transaction
Redirected to http://test.host/dashboard
Completed 302 Found in 5ms (ActiveRecord: 1.9ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$cIx/rYfIyD4WToAHL7yY4.xKRO7gGJtUFIceIhp6S.6kIkuMvMCIS', '2016-04-02 19:00:25', '2016-04-02 19:00:25', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 19:00:25', '2016-04-02 19:00:25', 980190962)[0m
  [1m[35m (1.5ms)[0m  commit transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 19:00:25.606421"], ["updated_at", "2016-04-02 19:00:25.606421"], ["short", "OdTwZw"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.3ms)[0m  commit transaction
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980191028"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980191028]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (4.0ms)
  Rendered links/edit.html.erb within layouts/application (5.6ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 10.0ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$1D46FACy45Tbg9I8uRSIredEi9nRoa8mi.1CKNaxmrdODSbCS6lLy', '2016-04-02 19:00:25', '2016-04-02 19:00:25', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 19:00:25', '2016-04-02 19:00:25', 980190962)
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 19:00:25.633047"], ["updated_at", "2016-04-02 19:00:25.633047"], ["short", "nkNBEQ"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"nkNBEQ", "user_id"=>"980190962"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "nkNBEQ"], ["created_at", "2016-04-02 19:00:25.644049"], ["updated_at", "2016-04-02 19:00:25.644049"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
Redirected to http://test.com/
Completed 302 Found in 9ms (ActiveRecord: 2.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$i2pgHzq9wmW3/GMk6fjix.i3v.ZZqGzJ2jhnvolBRIf0sqdHMta32', '2016-04-02 19:00:25', '2016-04-02 19:00:25', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 19:00:25', '2016-04-02 19:00:25', 980190962)
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 19:00:25.660415"], ["updated_at", "2016-04-02 19:00:25.660415"], ["short", "K7vsqw"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980191031"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980191031]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  [1m[35mVisit Exists (0.2ms)[0m  SELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1  [["link_id", 980191031]]
  Rendered links/show.html.erb within layouts/application (14.7ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 18.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$m2ANIFNyxpWPws0fV6kKXekB6n9/jcxFj/rYK.FuXNonG2TWLc04u', '2016-04-02 19:00:25', '2016-04-02 19:00:25', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 19:00:25', '2016-04-02 19:00:25', 980190962)
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 19:00:25.696160"], ["updated_at", "2016-04-02 19:00:25.696160"], ["short", "t9gjFQ"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"t9gjFQ", "user_id"=>"980190962"}, "id"=>"980191032"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980191032]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
Redirected to http://test.host/links/980191032
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$egQFTjYq4gjqJlN8CUziX.XwslgDo5C6OGL/LdyhTx2RfaCdEq4W.', '2016-04-02 19:01:44', '2016-04-02 19:01:44', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 19:01:44', '2016-04-02 19:01:44', 980190962)[0m
  [1m[35m (1.6ms)[0m  commit transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 19:01:44.605771"], ["updated_at", "2016-04-02 19:01:44.605771"], ["short", "QdfZJQ"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"QdfZJQ", "user_id"=>"980190962"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "QdfZJQ"], ["created_at", "2016-04-02 19:01:44.647288"], ["updated_at", "2016-04-02 19:01:44.647288"]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.3ms)[0m  commit transaction
Redirected to http://test.com/
Completed 302 Found in 19ms (ActiveRecord: 2.3ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$N894lncRD7lWfEstvDQ9AO4vMa7CRJccHQCzZs33dzXxQATU9.3ba', '2016-04-02 19:01:44', '2016-04-02 19:01:44', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 19:01:44', '2016-04-02 19:01:44', 980190962)[0m
  [1m[35m (1.3ms)[0m  commit transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 19:01:44.667803"], ["updated_at", "2016-04-02 19:01:44.667803"], ["short", "QNnhQw"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.4ms)[0m  commit transaction
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (20.0ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 54ms (Views: 51.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$oFL.vz8toPLYYBO/gxDZLeScCOz2pE.iddVPP//VsTa..d3MSxN0.', '2016-04-02 19:01:44', '2016-04-02 19:01:44', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 19:01:44', '2016-04-02 19:01:44', 980190962)[0m
  [1m[35m (1.3ms)[0m  commit transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 19:01:44.742657"], ["updated_at", "2016-04-02 19:01:44.742657"], ["short", "nR3G4g"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.3ms)[0m  commit transaction
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980191036"}
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980191036]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (15.5ms)
  Rendered links/edit.html.erb within layouts/application (19.5ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 27ms (Views: 23.9ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$aeDWHesUYzmAqz/VaGqLPOliaH3Ky/pyCgM4KGK5M3kJkuLgPcQp.', '2016-04-02 19:01:44', '2016-04-02 19:01:44', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 19:01:44', '2016-04-02 19:01:44', 980190962)
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 19:01:44.784354"], ["updated_at", "2016-04-02 19:01:44.784354"], ["short", "-0fULQ"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980191037"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980191037]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "links" WHERE "links"."id" = ?  [["id", 980191037]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
Redirected to http://test.host/dashboard
Completed 302 Found in 6ms (ActiveRecord: 2.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$JwKDQWQ4yw8z2b/h/ScSL.U2gA5E0OHTSos.fWDKFwjfpICWD1Ygq', '2016-04-02 19:01:44', '2016-04-02 19:01:44', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 19:01:44', '2016-04-02 19:01:44', 980190962)
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 19:01:44.806761"], ["updated_at", "2016-04-02 19:01:44.806761"], ["short", "veO0eQ"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.9ms)
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/new.html.erb within layouts/application (3.2ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$X7yHQaFaQJ.ZJw8HGJjIS.BFKywrG/ocuxs3OYK0.OQk4EWSo6gxa', '2016-04-02 19:01:44', '2016-04-02 19:01:44', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 19:01:44', '2016-04-02 19:01:44', 980190962)
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 19:01:44.830324"], ["updated_at", "2016-04-02 19:01:44.830324"], ["short", "q33FjQ"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"q33FjQ", "user_id"=>"980190962"}, "id"=>"980191039"}
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980191039]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
Redirected to http://test.host/links/980191039
Completed 302 Found in 6ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$9NcjFRTn07wnw6VbrVUlvOwb7It1jJuhGg.AQ0pWAcZBiGandKX/m', '2016-04-02 19:01:44', '2016-04-02 19:01:44', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 19:01:44', '2016-04-02 19:01:44', 980190962)[0m
  [1m[35m (1.5ms)[0m  commit transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 19:01:44.858291"], ["updated_at", "2016-04-02 19:01:44.858291"], ["short", "etmVYA"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.4ms)[0m  commit transaction
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980191040"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980191040]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.8ms)
  [1m[36mVisit Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1[0m  [["link_id", 980191040]]
  Rendered links/show.html.erb within layouts/application (15.4ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 21ms (Views: 18.6ms | ActiveRecord: 0.5ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (1.3ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$p97FhS.xY6ckZnTOcvtqnuPg2ZUrQ3clncWtke1Of3GNy1k7rKatC', '2016-04-02 19:02:28', '2016-04-02 19:02:28', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 19:02:28', '2016-04-02 19:02:28', 980190962)[0m
  [1m[35m (1.3ms)[0m  commit transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 19:02:28.686013"], ["updated_at", "2016-04-02 19:02:28.686013"], ["short", "r0Vn1Q"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.5ms)[0m  commit transaction
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.4ms)
  Rendered links/partials/_form.html.erb (17.3ms)
  Rendered links/new.html.erb within layouts/application (28.5ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 73ms (Views: 55.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$J93ZTJm2ERlkYQQyOaOkoOn9IaU3BAYlyGWVijsyqpslwqA9CPew6', '2016-04-02 19:02:28', '2016-04-02 19:02:28', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 19:02:28', '2016-04-02 19:02:28', 980190962)[0m
  [1m[35m (1.3ms)[0m  commit transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 19:02:28.792149"], ["updated_at", "2016-04-02 19:02:28.792149"], ["short", "P34gwQ"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980191042"}
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980191042]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "links" WHERE "links"."id" = ?[0m  [["id", 980191042]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.1ms)[0m  commit transaction
Redirected to http://test.host/dashboard
Completed 302 Found in 7ms (ActiveRecord: 2.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$BgitgFPzkq3sWaOMJxhL5ePcptTVmFa43VY4iV7mZc.ya8C.7QQK.', '2016-04-02 19:02:28', '2016-04-02 19:02:28', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 19:02:28', '2016-04-02 19:02:28', 980190962)[0m
  [1m[35m (1.2ms)[0m  commit transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 19:02:28.819079"], ["updated_at", "2016-04-02 19:02:28.819079"], ["short", "VQyKCw"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"VQyKCw", "user_id"=>"980190962"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "VQyKCw"], ["created_at", "2016-04-02 19:02:28.831770"], ["updated_at", "2016-04-02 19:02:28.831770"]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.4ms)[0m  commit transaction
Redirected to http://test.com/
Completed 302 Found in 7ms (ActiveRecord: 2.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$qws11OKu35AO5CMoub7Ia.EjBt2rxF993z5Q.UUgFH686mfnrrxB6', '2016-04-02 19:02:28', '2016-04-02 19:02:28', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 19:02:28', '2016-04-02 19:02:28', 980190962)[0m
  [1m[35m (1.3ms)[0m  commit transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 19:02:28.848636"], ["updated_at", "2016-04-02 19:02:28.848636"], ["short", "fP9rLQ"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.4ms)[0m  commit transaction
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (3.3ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 5.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$bUaOx8AD4wvwK9JafQPPieCCeSvZ6c9UBDzHkUIifK.0pl8gXLWCK', '2016-04-02 19:02:28', '2016-04-02 19:02:28', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 19:02:28', '2016-04-02 19:02:28', 980190962)[0m
  [1m[35m (1.3ms)[0m  commit transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 19:02:28.874920"], ["updated_at", "2016-04-02 19:02:28.874920"], ["short", "4CkgNA"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.4ms)[0m  commit transaction
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980191046"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980191046]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (4.2ms)
  Rendered links/edit.html.erb within layouts/application (5.8ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$wRb7KY5i7h1nwWt9DDrw.Op4edzqLhaGzTmXl8FLJT.R9Udg7Z2QG', '2016-04-02 19:02:28', '2016-04-02 19:02:28', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 19:02:28', '2016-04-02 19:02:28', 980190962)
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 19:02:28.899925"], ["updated_at", "2016-04-02 19:02:28.899925"], ["short", "E4poAA"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980191047"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980191047]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  [1m[35mVisit Exists (0.2ms)[0m  SELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1  [["link_id", 980191047]]
  Rendered links/show.html.erb within layouts/application (13.5ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 18.8ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$M3AmpH4ZxbCUQYCENGfbIeDV9MHmI6Fy/f.0LUmDenBkpds47w8u.', '2016-04-02 19:02:28', '2016-04-02 19:02:28', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 19:02:28', '2016-04-02 19:02:28', 980190962)
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 19:02:28.935409"], ["updated_at", "2016-04-02 19:02:28.935409"], ["short", "VSa5SA"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"VSa5SA", "user_id"=>"980190962"}, "id"=>"980191048"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980191048]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
Redirected to http://test.host/links/980191048
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$cSpbpDXWRv2U8Bvuv/x7P.nMkIEka1Tyswumgsjlk30dnizhRm4la', '2016-04-02 19:02:42', '2016-04-02 19:02:42', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 19:02:42', '2016-04-02 19:02:42', 980190962)[0m
  [1m[35m (1.3ms)[0m  commit transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 19:02:42.584021"], ["updated_at", "2016-04-02 19:02:42.584021"], ["short", "EgEvfQ"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.6ms)[0m  commit transaction
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"EgEvfQ", "user_id"=>"980190962"}, "id"=>"980191049"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980191049]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
Redirected to http://test.host/links/980191049
Completed 302 Found in 8ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$6TJCziyzwK8gMKwzZMT1suFB58CWEBVeN66FlOotFlb/g1YeNf/Ra', '2016-04-02 19:02:42', '2016-04-02 19:02:42', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 19:02:42', '2016-04-02 19:02:42', 980190962)
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 19:02:42.622504"], ["updated_at", "2016-04-02 19:02:42.622504"], ["short", "4_U0ww"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980191050"}
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980191050]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.2ms)
  [1m[35mVisit Exists (0.2ms)[0m  SELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1  [["link_id", 980191050]]
  Rendered links/show.html.erb within layouts/application (32.6ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 56ms (Views: 51.8ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$mUMctCVGRItAbvhWy4O5Fe0ZobRy.r9/z/ldbRFhaRY.tI9Rzn/vC', '2016-04-02 19:02:42', '2016-04-02 19:02:42', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 19:02:42', '2016-04-02 19:02:42', 980190962)
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 19:02:42.695154"], ["updated_at", "2016-04-02 19:02:42.695154"], ["short", "sV70VQ"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980191051"}
  [1m[36mLink Load (0.5ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980191051]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "links" WHERE "links"."id" = ?  [["id", 980191051]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
Redirected to http://test.host/dashboard
Completed 302 Found in 9ms (ActiveRecord: 3.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$XXBZtJBagskq5oGX3H2xlO4msUogpsxqXaPlkU6W1PDN0t.Fi58Ey', '2016-04-02 19:02:42', '2016-04-02 19:02:42', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 19:02:42', '2016-04-02 19:02:42', 980190962)
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 19:02:42.719979"], ["updated_at", "2016-04-02 19:02:42.719979"], ["short", "6i7l-w"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980191052"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980191052]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (20.7ms)
  Rendered links/edit.html.erb within layouts/application (23.9ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 30ms (Views: 28.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$59m4pMETxubr4NuvH8generiVmQRn0PwK1rO0dhvhxMinWw3fhX66', '2016-04-02 19:02:42', '2016-04-02 19:02:42', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 19:02:42', '2016-04-02 19:02:42', 980190962)[0m
  [1m[35m (1.5ms)[0m  commit transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 19:02:42.768873"], ["updated_at", "2016-04-02 19:02:42.768873"], ["short", "lDpkvQ"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.8ms)[0m  commit transaction
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (0.9ms)
  Rendered links/new.html.erb within layouts/application (2.1ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 4.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$tcxgmrQTeWVAVXz3ZsbjbOLck4h1MxAENvp4CUWHKumdqU./faqx.', '2016-04-02 19:02:42', '2016-04-02 19:02:42', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 19:02:42', '2016-04-02 19:02:42', 980190962)[0m
  [1m[35m (1.1ms)[0m  commit transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 19:02:42.794167"], ["updated_at", "2016-04-02 19:02:42.794167"], ["short", "-gKf1Q"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.4ms)[0m  commit transaction
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (3.3ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 7.0ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$oQAjWqHQR1dBLFW3qatzw.Wq7KPsx2o8hSgyOgd.4f1Khn1uOCD.S', '2016-04-02 19:02:42', '2016-04-02 19:02:42', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 19:02:42', '2016-04-02 19:02:42', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 19:02:42.817893"], ["updated_at", "2016-04-02 19:02:42.817893"], ["short", "zm_j6w"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"zm_j6w", "user_id"=>"980190962"}}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "zm_j6w"], ["created_at", "2016-04-02 19:02:42.827013"], ["updated_at", "2016-04-02 19:02:42.827013"]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.6ms)[0m  commit transaction
Redirected to http://test.com/
Completed 302 Found in 7ms (ActiveRecord: 2.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$.yHe9EJRLH51lIY1J24jputNi.G1ECULzq/OuZxxLIZHjV8s8nyfa', '2016-04-02 19:03:27', '2016-04-02 19:03:27', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 19:03:27', '2016-04-02 19:03:27', 980190962)[0m
  [1m[35m (1.2ms)[0m  commit transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 19:03:27.709079"], ["updated_at", "2016-04-02 19:03:27.709079"], ["short", "bhPxzA"]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.4ms)[0m  commit transaction
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (2.1ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (24.9ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 64ms (Views: 46.5ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$s71wHhwFrGEF9D2tDjkgOOrJ1UhEyZpzh1wTE4lGsd0yVyBu5Mv4m', '2016-04-02 19:03:27', '2016-04-02 19:03:27', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 19:03:27', '2016-04-02 19:03:27', 980190962)[0m
  [1m[35m (1.3ms)[0m  commit transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 19:03:27.813134"], ["updated_at", "2016-04-02 19:03:27.813134"], ["short", "7T-nNg"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.3ms)[0m  commit transaction
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980191058"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980191058]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (16.9ms)
  Rendered links/edit.html.erb within layouts/application (20.0ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 25ms (Views: 22.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$rDJTbUrfc9i9tAoSr43Mvenprjqp6QHTrb16gosY0PCHxG/1CxwY2', '2016-04-02 19:03:27', '2016-04-02 19:03:27', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 19:03:27', '2016-04-02 19:03:27', 980190962)
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 19:03:27.854089"], ["updated_at", "2016-04-02 19:03:27.854089"], ["short", "05u0YA"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (0.9ms)
  Rendered links/new.html.erb within layouts/application (2.2ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.0ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$fYKSUpqL6ACVqUaDPBB86.Vmh16ZSXYVffR8o2pjwzeo2K9tKfa6C', '2016-04-02 19:03:27', '2016-04-02 19:03:27', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 19:03:27', '2016-04-02 19:03:27', 980190962)
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 19:03:27.878013"], ["updated_at", "2016-04-02 19:03:27.878013"], ["short", "dDam2g"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"dDam2g", "user_id"=>"980190962"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "dDam2g"], ["created_at", "2016-04-02 19:03:27.890067"], ["updated_at", "2016-04-02 19:03:27.890067"]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
Redirected to http://test.com/
Completed 302 Found in 7ms (ActiveRecord: 2.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$Ut8sW3YHvFV2EOXdJ4ndaePbobqPLhBsqeqdaNDetGDQogIF5itQ.', '2016-04-02 19:03:27', '2016-04-02 19:03:27', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 19:03:27', '2016-04-02 19:03:27', 980190962)
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 19:03:27.905535"], ["updated_at", "2016-04-02 19:03:27.905535"], ["short", "VaKLkA"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"VaKLkA", "user_id"=>"980190962"}, "id"=>"980191062"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980191062]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
Redirected to http://test.host/links/980191062
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$yIrDBgj2b7LEIj8FDFoL8.ckvw1FjhfT7TG95vpo01QpMnRnKwSSW', '2016-04-02 19:03:27', '2016-04-02 19:03:27', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 19:03:27', '2016-04-02 19:03:27', 980190962)[0m
  [1m[35m (1.3ms)[0m  commit transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 19:03:27.923811"], ["updated_at", "2016-04-02 19:03:27.923811"], ["short", "2Rr3eQ"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.4ms)[0m  commit transaction
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980191063"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980191063]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  [1m[36mVisit Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1[0m  [["link_id", 980191063]]
  Rendered links/show.html.erb within layouts/application (16.9ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 24ms (Views: 22.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$Lz.uD9fvE5CSLi1EEoH4fexqtD.Xk5aolcLkX3Zsx9dDAkA6TkUXW', '2016-04-02 19:03:27', '2016-04-02 19:03:27', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-02 19:03:27', '2016-04-02 19:03:27', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-02 19:03:27.963100"], ["updated_at", "2016-04-02 19:03:27.963100"], ["short", "btwDDw"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980191064"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980191064]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "links" WHERE "links"."id" = ?[0m  [["id", 980191064]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.5ms)[0m  commit transaction
Redirected to http://test.host/dashboard
Completed 302 Found in 6ms (ActiveRecord: 2.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[36mActiveRecord::SchemaMigration Load (13.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (9.6ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (1.3ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$EHmriN32.9O/kNo/QBs8Yu6vVgj/n8f5Mt2/QnZYdrE2Yf5B0IBhm', '2016-04-03 10:09:18', '2016-04-03 10:09:18', 980190962)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:09:18', '2016-04-03 10:09:18', 980190962)[0m
  [1m[35m (1.5ms)[0m  commit transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:09:18.514685"], ["updated_at", "2016-04-03 10:09:18.514685"], ["short", "bjqbRA"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980191065"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980191065]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "links" WHERE "links"."id" = ?[0m  [["id", 980191065]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.5ms)[0m  commit transaction
Redirected to http://test.host/dashboard
Completed 302 Found in 27ms (ActiveRecord: 2.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$cRi.2t8mYaEFlpiCIHeHou4kcgVAQpUO.FFl4TfXxDHpiAxBxMEt.', '2016-04-03 10:09:18', '2016-04-03 10:09:18', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:09:18', '2016-04-03 10:09:18', 980190962)[0m
  [1m[35m (1.2ms)[0m  commit transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:09:18.625654"], ["updated_at", "2016-04-03 10:09:18.625654"], ["short", "0zNvAQ"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"0zNvAQ", "user_id"=>"980190962"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "0zNvAQ"], ["created_at", "2016-04-03 10:09:18.703684"], ["updated_at", "2016-04-03 10:09:18.703684"]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.6ms)[0m  commit transaction
Redirected to http://test.com/
Completed 302 Found in 76ms (ActiveRecord: 2.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$12cIxY2kwlD3iCmOSAX7bOBfzxoSS9.aTlLvWe3woW6vweQWqencK', '2016-04-03 10:09:18', '2016-04-03 10:09:18', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:09:18', '2016-04-03 10:09:18', 980190962)[0m
  [1m[35m (1.3ms)[0m  commit transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:09:18.719991"], ["updated_at", "2016-04-03 10:09:18.719991"], ["short", "PN8g1g"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.4ms)[0m  commit transaction
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980191068"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980191068]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.4ms)
  [1m[36mVisit Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1[0m  [["link_id", 980191068]]
  Rendered links/show.html.erb within layouts/application (90.4ms)
  Rendered shared/_nav_bar.html.erb (1.3ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 250ms (Views: 248.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$nvyAp3I16Wdb2ceAjpri1uPcauj0QqzZw.3Yy.DJfFZYDGiqG2RuS', '2016-04-03 10:09:18', '2016-04-03 10:09:18', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:09:18', '2016-04-03 10:09:18', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:09:18.986641"], ["updated_at", "2016-04-03 10:09:18.986641"], ["short", "Kkl7Sw"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.3ms)[0m  commit transaction
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (110.0ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 159ms (Views: 156.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$Cv2GTLZWDnpgOPBvd5Xi5u6FIl7Xa8ve9dD/d8EP8EHTIeZZ/LquO', '2016-04-03 10:09:19', '2016-04-03 10:09:19', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:09:19', '2016-04-03 10:09:19', 980190962)[0m
  [1m[35m (1.6ms)[0m  commit transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:09:19.162450"], ["updated_at", "2016-04-03 10:09:19.162450"], ["short", "Az431A"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.3ms)[0m  commit transaction
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  Rendered links/partials/_form.html.erb (43.6ms)
  Rendered links/new.html.erb within layouts/application (47.5ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 98ms (Views: 95.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$Q.M86Si/mXVPBQI0fWuWtuJWt.qeJK3yc1buo9FuAs8nTk276CDFi', '2016-04-03 10:09:19', '2016-04-03 10:09:19', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:09:19', '2016-04-03 10:09:19', 980190962)[0m
  [1m[35m (1.6ms)[0m  commit transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:09:19.277112"], ["updated_at", "2016-04-03 10:09:19.277112"], ["short", "MdGq1g"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.2ms)[0m  commit transaction
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"MdGq1g", "user_id"=>"980190962"}, "id"=>"980191071"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980191071]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
Redirected to http://test.host/links/980191071
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$mJTNLd2Oh1o.Wg6Zy173jeIMa.ef3eIxsb5RUxZnHzjocQmbeDiZe', '2016-04-03 10:09:19', '2016-04-03 10:09:19', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:09:19', '2016-04-03 10:09:19', 980190962)
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:09:19.296999"], ["updated_at", "2016-04-03 10:09:19.296999"], ["short", "AUfRNQ"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980191072"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980191072]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (5.0ms)
  Rendered links/edit.html.erb within layouts/application (6.6ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 13ms (Views: 10.2ms | ActiveRecord: 0.4ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$oRx7lgPkkHw8dbiHpgrZFeMrssmH7pNmRgUkCz9vSDQ12j3.hLRCa', '2016-04-03 10:22:55', '2016-04-03 10:22:55', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:22:55', '2016-04-03 10:22:55', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
RedirectControllerTest: test_should_get_show
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (10.8ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$VdThoBKrfkx.rJVyB8PZNewo4vklVjrCH54BE.wrWhtKRWu4QT3ra', '2016-04-03 10:25:50', '2016-04-03 10:25:50', 980190962)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:25:50', '2016-04-03 10:25:50', 980190962)[0m
  [1m[35m (2.2ms)[0m  commit transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:25:50.542729"], ["updated_at", "2016-04-03 10:25:50.542729"], ["short", "NyoJJg"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.4ms)[0m  commit transaction
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980191073"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980191073]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.9ms)
  Rendered links/partials/_form.html.erb (141.8ms)
  Rendered links/edit.html.erb within layouts/application (193.2ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.6ms)
Completed 200 OK in 317ms (Views: 301.2ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$sCqCb76Mj/gJfugOP68aXuy.eVesD7gR9TrIbKRYXBChrEPIhQB2.', '2016-04-03 10:25:50', '2016-04-03 10:25:50', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:25:50', '2016-04-03 10:25:50', 980190962)
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:25:50.960427"], ["updated_at", "2016-04-03 10:25:50.960427"], ["short", "rwZ0fQ"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980191074"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980191074]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  [1m[35mVisit Exists (0.3ms)[0m  SELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1  [["link_id", 980191074]]
  Rendered links/show.html.erb within layouts/application (97.9ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 104ms (Views: 101.8ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$rRu735GB4cKzuZA88nlmEudORS5ZBUJXbr7W3uRw9f.cg6JyC0A06', '2016-04-03 10:25:51', '2016-04-03 10:25:51', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:25:51', '2016-04-03 10:25:51', 980190962)
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:25:51.083757"], ["updated_at", "2016-04-03 10:25:51.083757"], ["short", "AcEPGQ"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.7ms)
  Rendered links/partials/_form.html.erb (1.4ms)
  Rendered links/new.html.erb within layouts/application (3.0ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 48ms (Views: 42.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (4.6ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$ZxyG3syJX9otX7bjyQ5L7.B1hQOD382cY.BxhNP6AOOpQsroM.d8e', '2016-04-03 10:25:51', '2016-04-03 10:25:51', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:25:51', '2016-04-03 10:25:51', 980190962)
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:25:51.155282"], ["updated_at", "2016-04-03 10:25:51.155282"], ["short", "zjR5Ew"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (2.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"zjR5Ew", "user_id"=>"980190962"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "zjR5Ew"], ["created_at", "2016-04-03 10:25:51.166162"], ["updated_at", "2016-04-03 10:25:51.166162"]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Redirected to http://test.com/
Completed 302 Found in 8ms (ActiveRecord: 2.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$weH5djsPT8bHtOkf7lDMJ.JDr3HpoH8ZLx31BVrcSVdM.XvhAr/6O', '2016-04-03 10:25:51', '2016-04-03 10:25:51', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:25:51', '2016-04-03 10:25:51', 980190962)
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:25:51.184916"], ["updated_at", "2016-04-03 10:25:51.184916"], ["short", "xoAW-w"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.0ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35mLink Load (0.2ms)[0m  SELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (5.1ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 9.1ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$BhtzAx5hKqdex7WUHYNlqO4UnK5LDp30hCXAsY1ZUsOWKtNINcYjG', '2016-04-03 10:25:51', '2016-04-03 10:25:51', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:25:51', '2016-04-03 10:25:51', 980190962)
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:25:51.215750"], ["updated_at", "2016-04-03 10:25:51.215750"], ["short", "Azoeqw"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980191079"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980191079]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "links" WHERE "links"."id" = ?  [["id", 980191079]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Redirected to http://test.host/dashboard
Completed 302 Found in 6ms (ActiveRecord: 2.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$AokwkBCny4RqXLJrsNATOOjvreiF/7barUgoPAxSW3frVsawIdfUe', '2016-04-03 10:25:51', '2016-04-03 10:25:51', 980190962)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:25:51', '2016-04-03 10:25:51', 980190962)
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:25:51.247182"], ["updated_at", "2016-04-03 10:25:51.247182"], ["short", "a4tlHw"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"a4tlHw", "user_id"=>"980190962"}, "id"=>"980191080"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980191080]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
Redirected to http://test.host/links/980191080
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (9.9ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (1.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$caHQ0JIgUVpqYUyOOfqbLuhBH8eEflif0M1LvXHqlIgPAFxtVFh8y', '2016-04-03 10:26:26', '2016-04-03 10:26:26', 980190962)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:26:26', '2016-04-03 10:26:26', 980190962)[0m
  [1m[35m (1.5ms)[0m  commit transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:26:26.644250"], ["updated_at", "2016-04-03 10:26:26.644250"], ["short", "0Cgoog"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"0Cgoog", "user_id"=>"980190962"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "0Cgoog"], ["created_at", "2016-04-03 10:26:26.768095"], ["updated_at", "2016-04-03 10:26:26.768095"]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.4ms)[0m  commit transaction
Redirected to http://test.com/
Completed 302 Found in 50ms (ActiveRecord: 2.8ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$s0iU.A1UQqO3.OBi8QKMLOkVcykKHIWvkmLdb9JZlzME/iVnrwAEu', '2016-04-03 10:26:26', '2016-04-03 10:26:26', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:26:26', '2016-04-03 10:26:26', 980190962)[0m
  [1m[35m (1.5ms)[0m  commit transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:26:26.789056"], ["updated_at", "2016-04-03 10:26:26.789056"], ["short", "NG_EPA"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.3ms)[0m  commit transaction
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"NG_EPA", "user_id"=>"980190962"}, "id"=>"980191083"}
  [1m[36mLink Load (0.4ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980191083]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
Redirected to http://test.host/links/980191083
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$wk/D4EzJyN2paq.j.94r5.JrWpBIFVGSIrQaX3J9ZTQtddfqGkV/i', '2016-04-03 10:26:26', '2016-04-03 10:26:26', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:26:26', '2016-04-03 10:26:26', 980190962)
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:26:26.811669"], ["updated_at", "2016-04-03 10:26:26.811669"], ["short", "bfRLyg"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35mLink Load (0.2ms)[0m  SELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (143.0ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 286ms (Views: 284.2ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$HdCvdtTfOJY9r6DtyK9/H.otpSNsJ8J9wfBsrIqkqe0UyoIVunP9e', '2016-04-03 10:26:27', '2016-04-03 10:26:27', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:26:27', '2016-04-03 10:26:27', 980190962)
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:26:27.116212"], ["updated_at", "2016-04-03 10:26:27.116212"], ["short", "gGFCbA"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980191085"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980191085]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "links" WHERE "links"."id" = ?  [["id", 980191085]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
Redirected to http://test.host/dashboard
Completed 302 Found in 7ms (ActiveRecord: 2.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$vx.lBmTr2qH51Q9Z997Lzu2926wrdWodwBYMDLW/LybeE/Qc03iby', '2016-04-03 10:26:27', '2016-04-03 10:26:27', 980190962)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:26:27', '2016-04-03 10:26:27', 980190962)
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:26:27.147782"], ["updated_at", "2016-04-03 10:26:27.147782"], ["short", "1m1B5w"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  Rendered links/partials/_form.html.erb (45.6ms)
  Rendered links/new.html.erb within layouts/application (49.5ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 120ms (Views: 115.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$IfClc765xya.48je0fFNiOvFRGUF4Oqg47dmjpsn0WbzAdZMp5tU2', '2016-04-03 10:26:27', '2016-04-03 10:26:27', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:26:27', '2016-04-03 10:26:27', 980190962)
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:26:27.286898"], ["updated_at", "2016-04-03 10:26:27.286898"], ["short", "tz5Bzg"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980191087"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980191087]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.8ms)
  [1m[35mVisit Exists (0.2ms)[0m  SELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1  [["link_id", 980191087]]
  Rendered links/show.html.erb within layouts/application (35.0ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 91ms (Views: 88.1ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$q5fq4lnq0dqIyzSEC3iBru7Pq.i5NAUSW5RgUemkV8WClUTHmnJFG', '2016-04-03 10:26:27', '2016-04-03 10:26:27', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:26:27', '2016-04-03 10:26:27', 980190962)
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:26:27.394099"], ["updated_at", "2016-04-03 10:26:27.394099"], ["short", "6nx1Jw"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980191088"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980191088]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (5.3ms)
  Rendered links/edit.html.erb within layouts/application (7.1ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 66ms (Views: 63.5ms | ActiveRecord: 0.3ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (9.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (1.3ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$z91NlL0rMUxEgAz4jqxo2Oeir.f7Z2qqX4Ut5cFL5yLivauc7HVxG', '2016-04-03 10:27:08', '2016-04-03 10:27:08', 980190962)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:27:08', '2016-04-03 10:27:08', 980190962)[0m
  [1m[35m (26.9ms)[0m  commit transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (24.0ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:27:09.200988"], ["updated_at", "2016-04-03 10:27:09.200988"], ["short", "udlHrw"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (1.3ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (379.7ms)[0m  commit transaction
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980191089"}
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980191089]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.5ms)
  [1m[36mVisit Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1[0m  [["link_id", 980191089]]
  Rendered links/show.html.erb within layouts/application (234.8ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.9ms)
Completed 200 OK in 547ms (Views: 499.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$ZrNoo1Z6IuK9y2nzXJog2O./xGAcVpJ1o0ApZuILUPcV7zulGTPei', '2016-04-03 10:27:10', '2016-04-03 10:27:10', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:27:10', '2016-04-03 10:27:10', 980190962)[0m
  [1m[35m (10.7ms)[0m  commit transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:27:10.364019"], ["updated_at", "2016-04-03 10:27:10.364019"], ["short", "gj9Cqg"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (23.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980191090"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980191090]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "links" WHERE "links"."id" = ?[0m  [["id", 980191090]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (16.4ms)[0m  commit transaction
Redirected to http://test.host/dashboard
Completed 302 Found in 22ms (ActiveRecord: 17.3ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$kYkKOLuQl1tVdUegxe4RHesjQ6tKyl/EAM12zrJdcKsZgV5oXng/6', '2016-04-03 10:27:10', '2016-04-03 10:27:10', 980190962)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:27:10', '2016-04-03 10:27:10', 980190962)[0m
  [1m[35m (6.2ms)[0m  commit transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:27:10.437012"], ["updated_at", "2016-04-03 10:27:10.437012"], ["short", "UosS5Q"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (21.8ms)[0m  commit transaction
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980191091"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980191091]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (261.0ms)
  Rendered links/edit.html.erb within layouts/application (265.0ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 596ms (Views: 594.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$bjNFwj0eNp2/JFP5VoYwduQgy.Ef0cl8QlmUGH3jadz6vsmKIMP.e', '2016-04-03 10:27:11', '2016-04-03 10:27:11', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:27:11', '2016-04-03 10:27:11', 980190962)
  [1m[36m (6.8ms)[0m  [1mcommit transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:27:11.076900"], ["updated_at", "2016-04-03 10:27:11.076900"], ["short", "wRiEtw"]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"wRiEtw", "user_id"=>"980190962"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "wRiEtw"], ["created_at", "2016-04-03 10:27:11.091234"], ["updated_at", "2016-04-03 10:27:11.091234"]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (75.8ms)[0m  [1mcommit transaction[0m
Redirected to http://test.com/
Completed 302 Found in 87ms (ActiveRecord: 77.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$OULU/TK6nKzGb.E3tWNQAeQ5YjI8RnvsbD7jygpaOca3krXlkMil6', '2016-04-03 10:27:11', '2016-04-03 10:27:11', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:27:11', '2016-04-03 10:27:11', 980190962)
  [1m[36m (10.1ms)[0m  [1mcommit transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:27:11.193738"], ["updated_at", "2016-04-03 10:27:11.193738"], ["short", "g-jpmA"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (17.6ms)[0m  [1mcommit transaction[0m
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/new.html.erb within layouts/application (2.7ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 92ms (Views: 90.5ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$Bb5mAk2dxNjQ3AF5f4pR.uYIA2QrQ7oelyA268MPgkJZW8Drmbrh.', '2016-04-03 10:27:11', '2016-04-03 10:27:11', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:27:11', '2016-04-03 10:27:11', 980190962)
  [1m[36m (3.4ms)[0m  [1mcommit transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:27:11.320732"], ["updated_at", "2016-04-03 10:27:11.320732"], ["short", "y-REXw"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (6.2ms)[0m  [1mcommit transaction[0m
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (3.8ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 8.0ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$kodun2sgQi3Db.VPq0iUqe85st1tr7RA3pkQ5JzLqifkQmBQkKVze', '2016-04-03 10:27:11', '2016-04-03 10:27:11', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:27:11', '2016-04-03 10:27:11', 980190962)
  [1m[36m (43.2ms)[0m  [1mcommit transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:27:11.396862"], ["updated_at", "2016-04-03 10:27:11.396862"], ["short", "ZO5pVQ"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (13.5ms)[0m  [1mcommit transaction[0m
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"ZO5pVQ", "user_id"=>"980190962"}, "id"=>"980191096"}
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980191096]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
Redirected to http://test.host/links/980191096
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (9.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$fxD5h68slkYFXj9.e.o2l.4qjdihY4wlpQHGtWp0WP7CRSM07SlD2', '2016-04-03 10:27:36', '2016-04-03 10:27:36', 980190962)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:27:36', '2016-04-03 10:27:36', 980190962)[0m
  [1m[35m (1.2ms)[0m  commit transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:27:36.924923"], ["updated_at", "2016-04-03 10:27:36.924923"], ["short", "F2L95A"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.7ms)[0m  commit transaction
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (154.6ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.6ms)
Completed 200 OK in 324ms (Views: 284.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$BCxYNWdy.oKtPSKBoP9ygOj1jkVQCgxDtMV5BSF58LZNjdyWa16qi', '2016-04-03 10:27:37', '2016-04-03 10:27:37', 980190962)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:27:37', '2016-04-03 10:27:37', 980190962)[0m
  [1m[35m (2.8ms)[0m  commit transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:27:37.346949"], ["updated_at", "2016-04-03 10:27:37.346949"], ["short", "-8-mzw"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"-8-mzw", "user_id"=>"980190962"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "-8-mzw"], ["created_at", "2016-04-03 10:27:37.360664"], ["updated_at", "2016-04-03 10:27:37.360664"]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.4ms)[0m  commit transaction
Redirected to http://test.com/
Completed 302 Found in 10ms (ActiveRecord: 2.2ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (103.8ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$3CcPkCHEokEBdQV5lXHiServXWaXfzqVfhlWzfLoYcEY6/QZGlGai', '2016-04-03 10:27:37', '2016-04-03 10:27:37', 980190962)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:27:37', '2016-04-03 10:27:37', 980190962)[0m
  [1m[35m (3.7ms)[0m  commit transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:27:37.490654"], ["updated_at", "2016-04-03 10:27:37.490654"], ["short", "DdZcxQ"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (206.6ms)[0m  commit transaction
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.9ms)
  Rendered links/partials/_form.html.erb (75.1ms)
  Rendered links/new.html.erb within layouts/application (80.7ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 106ms (Views: 104.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$a/2wcMuNvApEdFUyDUgwvedvFuj5GZOFenX6KZgZ9Z0qFUeX6Apw2', '2016-04-03 10:27:37', '2016-04-03 10:27:37', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:27:37', '2016-04-03 10:27:37', 980190962)[0m
  [1m[35m (2.9ms)[0m  commit transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:27:37.823229"], ["updated_at", "2016-04-03 10:27:37.823229"], ["short", "tIUf6w"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (3.0ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980191101"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980191101]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "links" WHERE "links"."id" = ?[0m  [["id", 980191101]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.7ms)[0m  commit transaction
Redirected to http://test.host/dashboard
Completed 302 Found in 8ms (ActiveRecord: 2.8ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$aLp2CyzF37nQg4pdHd9vBOTDgyqsQniQLcV21dUe6soCwd9tO7Ft2', '2016-04-03 10:27:37', '2016-04-03 10:27:37', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:27:37', '2016-04-03 10:27:37', 980190962)[0m
  [1m[35m (2.0ms)[0m  commit transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:27:37.853474"], ["updated_at", "2016-04-03 10:27:37.853474"], ["short", "Zq7J9g"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (3.1ms)[0m  commit transaction
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"Zq7J9g", "user_id"=>"980190962"}, "id"=>"980191102"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980191102]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
Redirected to http://test.host/links/980191102
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$lXzCT4.9NyiEbuM6lHJjwO1IASX01nP7jBwR2t2b7fRxwcjZ/bbXy', '2016-04-03 10:27:37', '2016-04-03 10:27:37', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:27:37', '2016-04-03 10:27:37', 980190962)
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:27:37.883228"], ["updated_at", "2016-04-03 10:27:37.883228"], ["short", "5h-c1w"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (2.8ms)[0m  [1mcommit transaction[0m
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980191103"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980191103]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.7ms)
  Rendered links/partials/_form.html.erb (222.0ms)
  Rendered links/edit.html.erb within layouts/application (224.1ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 230ms (Views: 228.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$rMffq7ttcmIUR81l88RBs.dErAlyEcILkEjHDpERGGf1d/YUvQaDe', '2016-04-03 10:27:38', '2016-04-03 10:27:38', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:27:38', '2016-04-03 10:27:38', 980190962)[0m
  [1m[35m (1.9ms)[0m  commit transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:27:38.133581"], ["updated_at", "2016-04-03 10:27:38.133581"], ["short", "5ZiVgA"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.7ms)[0m  commit transaction
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980191104"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980191104]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  [1m[36mVisit Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1[0m  [["link_id", 980191104]]
  Rendered links/show.html.erb within layouts/application (35.1ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 91ms (Views: 88.9ms | ActiveRecord: 0.4ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$2bXdreLc.A6iGusrRV/M1.CYg7NLJU.UYr7OpgENNpzW89ct.kF0q', '2016-04-03 10:28:21', '2016-04-03 10:28:21', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:28:21', '2016-04-03 10:28:21', 980190962)[0m
  [1m[35m (1.3ms)[0m  commit transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:28:21.871113"], ["updated_at", "2016-04-03 10:28:21.871113"], ["short", "HNDrug"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.3ms)[0m  commit transaction
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"HNDrug", "user_id"=>"980190962"}, "id"=>"980191105"}
  [1m[36mLink Load (0.4ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980191105]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  commit transaction
Redirected to http://test.host/links/980191105
Completed 302 Found in 16ms (ActiveRecord: 1.0ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$IgdabQmiBqKn6FAyMfoKPOZ1glJnX.OMamOy8MZ82P6Y/rbJWLlpe', '2016-04-03 10:28:21', '2016-04-03 10:28:21', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:28:21', '2016-04-03 10:28:21', 980190962)
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:28:21.924847"], ["updated_at", "2016-04-03 10:28:21.924847"], ["short", "m9Bllg"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (2.1ms)
  Rendered links/partials/_form.html.erb (21.2ms)
  Rendered links/new.html.erb within layouts/application (36.8ms)
  Rendered shared/_nav_bar.html.erb (1.3ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 80ms (Views: 62.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$k1Rye3iLQjbuH7amOCJGke8.j/M.kdfkbCH/T9TyAlQRc1jOp996.', '2016-04-03 10:28:22', '2016-04-03 10:28:22', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:28:22', '2016-04-03 10:28:22', 980190962)
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:28:22.024371"], ["updated_at", "2016-04-03 10:28:22.024371"], ["short", "MJwOeQ"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"MJwOeQ", "user_id"=>"980190962"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "MJwOeQ"], ["created_at", "2016-04-03 10:28:22.034339"], ["updated_at", "2016-04-03 10:28:22.034339"]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
Redirected to http://test.com/
Completed 302 Found in 7ms (ActiveRecord: 2.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$7p5z3UMmByq3VJh5HLt87OEXnW2kFxbLaUisSjW7h2k0DHMuFZ/Ai', '2016-04-03 10:28:22', '2016-04-03 10:28:22', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:28:22', '2016-04-03 10:28:22', 980190962)
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:28:22.050294"], ["updated_at", "2016-04-03 10:28:22.050294"], ["short", "1laZ9w"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980191109"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980191109]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.9ms)
  Rendered links/partials/_form.html.erb (6.1ms)
  Rendered links/edit.html.erb within layouts/application (8.7ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 17ms (Views: 14.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$H5hHuSMUXsmZJTCDE6ZnY.mTAN.lumM3D16OhmOJPRJnoeXrlnqzi', '2016-04-03 10:28:22', '2016-04-03 10:28:22', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:28:22', '2016-04-03 10:28:22', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:28:22.085357"], ["updated_at", "2016-04-03 10:28:22.085357"], ["short", "2_ZspQ"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980191110"}
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980191110]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "links" WHERE "links"."id" = ?[0m  [["id", 980191110]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.7ms)[0m  commit transaction
Redirected to http://test.host/dashboard
Completed 302 Found in 9ms (ActiveRecord: 2.9ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$kLc0k28ALrYuyJqR5ve1euqWq44pwXoVyvSkJQ7gHZ4XMRYdS1pW6', '2016-04-03 10:28:22', '2016-04-03 10:28:22', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:28:22', '2016-04-03 10:28:22', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:28:22.117622"], ["updated_at", "2016-04-03 10:28:22.117622"], ["short", "LaFfUQ"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.8ms)[0m  commit transaction
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980191111"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980191111]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  [1m[36mVisit Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1[0m  [["link_id", 980191111]]
  Rendered links/show.html.erb within layouts/application (15.9ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 21ms (Views: 19.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$GtFwkcpccoK7zn514X46yepV0Cbf.IcNVw0QOGyQElBkKGCpdJRh2', '2016-04-03 10:28:22', '2016-04-03 10:28:22', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:28:22', '2016-04-03 10:28:22', 980190962)[0m
  [1m[35m (1.5ms)[0m  commit transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:28:22.155526"], ["updated_at", "2016-04-03 10:28:22.155526"], ["short", "ghIulQ"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.6ms)[0m  commit transaction
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (3.8ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 7.0ms | ActiveRecord: 0.5ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$zS/KKIcZODU4RcwCjcCKJO/MutxLNfJsXURW6Z54EG3AVSouL5oHO', '2016-04-03 10:28:33', '2016-04-03 10:28:33', 980190962)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:28:33', '2016-04-03 10:28:33', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$HVeZ4xIpd9IWw12HAbl5K.X0FobPaDsZLwiEFJvhBsedCOnh81vmq', '2016-04-03 10:30:19', '2016-04-03 10:30:19', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$DvZk2jSBWTOYY1DnHj5nV.SCH1TDi716rW/i6yZB0YeRw4Y5GbM92', '2016-04-03 10:30:19', '2016-04-03 10:30:19', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:30:19', '2016-04-03 10:30:19', 980190962)
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$h/msKueGkZHd3VKS9MEpFeWhGA5H9RzES56V42RjnG3B0EfkiFAUq', '2016-04-03 10:30:26', '2016-04-03 10:30:26', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$99olgniCzx6JqBw.Q7HbIuda27qf8XCpm1dPNGsJRaNU2cnUBxEgy', '2016-04-03 10:30:26', '2016-04-03 10:30:26', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:30:26', '2016-04-03 10:30:26', 980190962)
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:30:26.932038"], ["updated_at", "2016-04-03 10:30:26.932038"], ["short", "TyX4FQ"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980191113"}
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980191113]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.5ms)
  [1m[35mVisit Exists (0.2ms)[0m  SELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1  [["link_id", 980191113]]
  Rendered links/show.html.erb within layouts/application (101.4ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 247ms (Views: 223.4ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$KW6znLRVJQijzuX.WxJ5j.OAXe0s5IcYsf3uDJdSWpXOCbjN6DeEy', '2016-04-03 10:30:27', '2016-04-03 10:30:27', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$vy/isJ7HonYgcY/RaZVQV.IOxs0PrEXEPgJ9MlFlHW7YTFIOQQs/q', '2016-04-03 10:30:27', '2016-04-03 10:30:27', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:30:27', '2016-04-03 10:30:27', 980190962)[0m
  [1m[35m (1.9ms)[0m  commit transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:30:27.261541"], ["updated_at", "2016-04-03 10:30:27.261541"], ["short", "CFUpTQ"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980191114"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980191114]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "links" WHERE "links"."id" = ?[0m  [["id", 980191114]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.3ms)[0m  commit transaction
Redirected to http://test.host/dashboard
Completed 302 Found in 6ms (ActiveRecord: 2.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$Et9/6GEkyRGj/DqJB19GE.Aw2TQDqB.P79i7Z7/OsG9ce5wsNfQE2', '2016-04-03 10:30:27', '2016-04-03 10:30:27', 298486374)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$jMQvCISE/1MxbG83W0W2v.L/701OdPBR4j2J.txrED.KhGdzh0Ozy', '2016-04-03 10:30:27', '2016-04-03 10:30:27', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:30:27', '2016-04-03 10:30:27', 980190962)
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:30:27.297030"], ["updated_at", "2016-04-03 10:30:27.297030"], ["short", "vk1JLg"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  Rendered links/partials/_form.html.erb (54.8ms)
  Rendered links/new.html.erb within layouts/application (58.6ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 114ms (Views: 110.3ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$T1z5s8UI8bgN6DFhKX5aL.hWHGc48oJJZPO6H4rLulda6GC.OU4KG', '2016-04-03 10:30:27', '2016-04-03 10:30:27', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$2OaQdsaZjE86hxJNOzyOFeB4V7AUtW7AKumLJXS.FaLcBt3rfa4DS', '2016-04-03 10:30:27', '2016-04-03 10:30:27', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:30:27', '2016-04-03 10:30:27', 980190962)[0m
  [1m[35m (1.6ms)[0m  commit transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:30:27.430443"], ["updated_at", "2016-04-03 10:30:27.430443"], ["short", "fWyQ0Q"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"fWyQ0Q", "user_id"=>"980190962"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "fWyQ0Q"], ["created_at", "2016-04-03 10:30:27.440846"], ["updated_at", "2016-04-03 10:30:27.440846"]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.1ms)[0m  commit transaction
Redirected to http://test.com/
Completed 302 Found in 7ms (ActiveRecord: 1.8ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$nRk67OZeOd/MdiwDblqQdesD45Fh6wFk7XtRi0JmrLUizNi6YRhBG', '2016-04-03 10:30:27', '2016-04-03 10:30:27', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$8wn8cRdc6OCg/jlpwAEoIeCQJ4rWrxjgUw3riPTV24EKb6L2/.NJy', '2016-04-03 10:30:27', '2016-04-03 10:30:27', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:30:27', '2016-04-03 10:30:27', 980190962)
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:30:27.459464"], ["updated_at", "2016-04-03 10:30:27.459464"], ["short", "KP_RmA"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (4.0ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 7.2ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$5twAYylfTjPrXd6F/MsS8u7wxw0loeUGcGY12CBFapdO/2ZmWV5Pa', '2016-04-03 10:30:27', '2016-04-03 10:30:27', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$NcZ75faSqaM7fh2WSyXvJeyprmuNSAzSQRgJKq9nD4o.//qMl9fGC', '2016-04-03 10:30:27', '2016-04-03 10:30:27', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:30:27', '2016-04-03 10:30:27', 980190962)[0m
  [1m[35m (1.2ms)[0m  commit transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:30:27.486951"], ["updated_at", "2016-04-03 10:30:27.486951"], ["short", "XocrOw"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.2ms)[0m  commit transaction
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980191119"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980191119]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.7ms)
  Rendered links/partials/_form.html.erb (4.9ms)
  Rendered links/edit.html.erb within layouts/application (6.7ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 10.2ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "links"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$1fshyntvk9yMAgcptxgzIevyS2IrbhYiLdYhRwa7wgoYsowuHABf2', '2016-04-03 10:30:27', '2016-04-03 10:30:27', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$Hg6VvfJdAuuPPO67EVfmEOhuRMWIY1k59vaUMxH2II0D.FpSjx/Ye', '2016-04-03 10:30:27', '2016-04-03 10:30:27', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:30:27', '2016-04-03 10:30:27', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:30:27.517800"], ["updated_at", "2016-04-03 10:30:27.517800"], ["short", "tYsx-Q"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.3ms)[0m  commit transaction
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"tYsx-Q", "user_id"=>"980190962"}, "id"=>"980191120"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980191120]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
Redirected to http://test.host/links/980191120
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (11.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$Tr/h7uU5Z0ySO.IThTLGLeMd6j0Wddp1ICDiDrp9agjzAKC6mUIaq', '2016-04-03 10:33:58', '2016-04-03 10:33:58', 298486374)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$cDc25xZuGqfaVw4K.ioc2OxC9fja3GwS2.CEiv5ciU9hvnmAIkv8e', '2016-04-03 10:33:58', '2016-04-03 10:33:58', 980190962)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:33:58', '2016-04-03 10:33:58', 980190962)
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
LinkTest: test_short_length_to_be_6_characters
----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (1.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (1.4ms)[0m  INSERT INTO "links" ("long", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '2016-04-03 10:35:17', '2016-04-03 10:35:17', 980190962)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$AosCrf7CTHQWpDWJ9mlFZODQBH146CAlc2bh.i.zsLbKAW01CjTjm', '2016-04-03 10:35:17', '2016-04-03 10:35:17', 298486374)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$E5t3eR4AwnLo8qP7cvSdQu6SIQVVZbmwNVggCan9Urtwo/fUYMlqC', '2016-04-03 10:35:17', '2016-04-03 10:35:17', 980190962)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:35:17', '2016-04-03 10:35:17', 980190962)[0m
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "links" SET "short" = ? WHERE "links"."id" = ?  [["short", "iLE5mA"], ["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
LinkTest: test_short_length_to_be_6_characters
----------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-03 10:36:21', '2016-04-03 10:36:21', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$84lBeCCcG8qO1fQQFHM8AeSzzP7exq2Pn0/0cLsxgx7cuoKZU3wGm', '2016-04-03 10:36:21', '2016-04-03 10:36:21', 298486374)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$pWqM7jJ8QgROuNLZPGyXg.KwD5DWQVkqq6KyVzubCIbGwDizAVO5G', '2016-04-03 10:36:21', '2016-04-03 10:36:21', 980190962)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:36:21', '2016-04-03 10:36:21', 980190962)[0m
  [1m[35m (26.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "links" SET "short" = ? WHERE "links"."id" = ?  [["short", "vxybSw"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
LinkTest: test_short_length_to_be_6_characters
----------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', 'login', '2016-04-03 10:36:45', '2016-04-03 10:36:45', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$RTmK2ehNxIlWDFVjZVF7ROfsAJQUykxXp2xvTNCqFh3a/mj93gUqG', '2016-04-03 10:36:45', '2016-04-03 10:36:45', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$pmvb0EcpvWsArHuuz5W6a.3hEvkLZZE0Ax/IWoz.OJB4Xrd4C8oW2', '2016-04-03 10:36:45', '2016-04-03 10:36:45', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:36:45', '2016-04-03 10:36:45', 980190962)[0m
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.5ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
LinkTest: test_short_length_to_be_6_characters
----------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', 'login', '2016-04-03 10:37:16', '2016-04-03 10:37:16', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$kEUyUR1biRPrRDDbYLNrWexhFE/ku2lLfjZr87sUxQq69xDQm.w4S', '2016-04-03 10:37:16', '2016-04-03 10:37:16', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$N4b2zXCseIC8UKrBuDyiiON3zSIdI2itkagqcK4cip8eJq9TA94Iu', '2016-04-03 10:37:16', '2016-04-03 10:37:16', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:37:16', '2016-04-03 10:37:16', 980190962)[0m
  [1m[35m (7.9ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.5ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.6ms)[0m  begin transaction
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-03 10:38:12', '2016-04-03 10:38:12', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$B9Q32BD7hefszSDpdz4.ZOkxk1M5DOe4oC5cedT6Wr7FzmBgkbHjy', '2016-04-03 10:38:12', '2016-04-03 10:38:12', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$2aj98aHEOWgdZx.2DXneqeGdHe1CzjwWsXR4KhufnBKfpY.P8IHCK', '2016-04-03 10:38:12', '2016-04-03 10:38:12', 980190962)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:38:12', '2016-04-03 10:38:12', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[36mLink Load (0.5ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "links" SET "short" = ? WHERE "links"."id" = ?[0m  [["short", "6zru_w"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-03 10:38:51', '2016-04-03 10:38:51', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$CjeS6vCiciSsI04Pa0ISIunptziAc43ActxKdg7KZZFMjffmbdGtq', '2016-04-03 10:38:51', '2016-04-03 10:38:51', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$hmfs1caKZ5EjmwmV7/r7/eBgwKN4jZlTfb7kh6XXpSBWX7NWyQM/.', '2016-04-03 10:38:51', '2016-04-03 10:38:51', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:38:51', '2016-04-03 10:38:51', 980190962)[0m
  [1m[35m (1.6ms)[0m  commit transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:38:52.029868"], ["updated_at", "2016-04-03 10:38:52.029868"], ["short", "L6uQDQ"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.4ms)[0m  commit transaction
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980191121"}
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980191121]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (2.1ms)
  [1m[36mVisit Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1[0m  [["link_id", 980191121]]
  Rendered links/show.html.erb within layouts/application (123.7ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 263ms (Views: 246.0ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-03 10:38:52', '2016-04-03 10:38:52', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$LGemjJwR.XGf9B2LfL8XHO4k9g63HQRQi8lN/j/J/gcD6QXw6GBVK', '2016-04-03 10:38:52', '2016-04-03 10:38:52', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$N8X6XZY/mWwRcbvRgQCYu.H7JeLtEkWU2yML8g9AioVprJ4UdQ.5O', '2016-04-03 10:38:52', '2016-04-03 10:38:52', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:38:52', '2016-04-03 10:38:52', 980190962)[0m
  [1m[35m (1.3ms)[0m  commit transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:38:52.406052"], ["updated_at", "2016-04-03 10:38:52.406052"], ["short", "XAvVow"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980191122"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980191122]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "links" WHERE "links"."id" = ?[0m  [["id", 980191122]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.5ms)[0m  commit transaction
Redirected to http://test.host/dashboard
Completed 302 Found in 7ms (ActiveRecord: 2.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-03 10:38:52', '2016-04-03 10:38:52', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$7fyaRLTj2SdVObRLYDa68uOJI9Dv49JVoHAalypazis38jATq4fdW', '2016-04-03 10:38:52', '2016-04-03 10:38:52', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$ByLb5a9OG9qTTzctf.THM.vC4UVqmfE.vZH5TsYrFQ/fiKaKMHLvO', '2016-04-03 10:38:52', '2016-04-03 10:38:52', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:38:52', '2016-04-03 10:38:52', 980190962)[0m
  [1m[35m (1.0ms)[0m  commit transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:38:52.434634"], ["updated_at", "2016-04-03 10:38:52.434634"], ["short", "mwWR8g"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"mwWR8g", "user_id"=>"980190962"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "mwWR8g"], ["created_at", "2016-04-03 10:38:52.446698"], ["updated_at", "2016-04-03 10:38:52.446698"]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.4ms)[0m  commit transaction
Redirected to http://test.com/
Completed 302 Found in 9ms (ActiveRecord: 2.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-03 10:38:52', '2016-04-03 10:38:52', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$cpHfdd82gJpHHAxS4p.cT.EZ5mRoM4D84S3xMOM/q0TeQ4ZDueBOi', '2016-04-03 10:38:52', '2016-04-03 10:38:52', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$Fa/nGTYeUDvFomXLinPLE.Ba3U9.g9WwcaKhYUyKC/O/sUgkQ8sdS', '2016-04-03 10:38:52', '2016-04-03 10:38:52', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:38:52', '2016-04-03 10:38:52', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:38:52.467140"], ["updated_at", "2016-04-03 10:38:52.467140"], ["short", "GfPxPQ"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.3ms)[0m  commit transaction
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"GfPxPQ", "user_id"=>"980190962"}, "id"=>"980191125"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980191125]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
Redirected to http://test.host/links/980191125
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "links"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-03 10:38:52', '2016-04-03 10:38:52', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$VCtsZVBPeDQBNykLiEHzFufHbNDBRuptfWR8Jix9R4/LW9lNcrnPu', '2016-04-03 10:38:52', '2016-04-03 10:38:52', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$a2TzHX7qpbxzlS3b28ghFOwwiPRUOEq6jJNK5qejL0V3pkxfGEEIC', '2016-04-03 10:38:52', '2016-04-03 10:38:52', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:38:52', '2016-04-03 10:38:52', 980190962)
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:38:52.492820"], ["updated_at", "2016-04-03 10:38:52.492820"], ["short", "xRFbRg"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  Rendered links/partials/_form.html.erb (51.4ms)
  Rendered links/new.html.erb within layouts/application (55.3ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 102ms (Views: 99.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "links"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-03 10:38:52', '2016-04-03 10:38:52', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$xhcFoe.ujuRHarsr.xd3rePdXG83x1UIoLQEzLe1UzcB8dt98IhES', '2016-04-03 10:38:52', '2016-04-03 10:38:52', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$Z3X1FsjLMJ0sQphleNRXPeDoLiwZssk2.atFGqS8xIY838A3HIT.y', '2016-04-03 10:38:52', '2016-04-03 10:38:52', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:38:52', '2016-04-03 10:38:52', 980190962)
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:38:52.615107"], ["updated_at", "2016-04-03 10:38:52.615107"], ["short", "e29OlQ"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980191127"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980191127]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.7ms)
  Rendered links/partials/_form.html.erb (5.1ms)
  Rendered links/edit.html.erb within layouts/application (6.9ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 10.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-03 10:38:52', '2016-04-03 10:38:52', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$bbgdT4r6Uu5PxVsKydKtnuFPpT5DO8ZkL58wc53kSzlq9ppO4fEfi', '2016-04-03 10:38:52', '2016-04-03 10:38:52', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$O42sKG2P/1aYk5c8QfwgBOvlbkDjghsYmcFNbPdGbNjsQfqwszcZe', '2016-04-03 10:38:52', '2016-04-03 10:38:52', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:38:52', '2016-04-03 10:38:52', 980190962)[0m
  [1m[35m (1.2ms)[0m  commit transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:38:52.646068"], ["updated_at", "2016-04-03 10:38:52.646068"], ["short", "fBne2w"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.4ms)[0m  commit transaction
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (3.6ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.9ms | ActiveRecord: 0.5ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-03 10:39:24', '2016-04-03 10:39:24', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$o93ieBeNAFJ5XThv1XBPwuN8rvapij7d7TksCD6/b1LgSH7Vkazle', '2016-04-03 10:39:24', '2016-04-03 10:39:24', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$OqnbKmK0q8FKqsFNMKk10eidgBA64hlwHskJ4kC7mhzEFTq9rhAXK', '2016-04-03 10:39:24', '2016-04-03 10:39:24', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, ':1', NULL, NULL, NULL, '2016-04-03 10:39:24', '2016-04-03 10:39:24', 980190962)[0m
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[35mVisit Load (0.4ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
VisitTest: test_valid
---------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-03 10:40:36', '2016-04-03 10:40:36', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$g3tTvnunZr9ZgjgZiTIm8O8KHuyaDuiX/4CQ/5K8X3th/Y/8fQaWW', '2016-04-03 10:40:36', '2016-04-03 10:40:36', 298486374)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$RaUZPOT6/KYDbVCJzmOmtul2PgH1mIcvDG57w6X3c8pG.KeUhF7g.', '2016-04-03 10:40:36', '2016-04-03 10:40:36', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-03 10:40:36', '2016-04-03 10:40:36', 980190962)[0m
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[35mVisit Load (0.3ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
VisitTest: test_valid
---------------------
  [1m[35mVisit Load (1.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-03 10:44:32', '2016-04-03 10:44:32', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$uEuTTsgNiBpjbcJej2jmmOZUPQV0cMwhMPa.LlhTUWy5iCdjvsZt.', '2016-04-03 10:44:32', '2016-04-03 10:44:32', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$eNspk597/mDoK37PzpKi3ORPypSutilja0cAsoUE7Z1Ojy5p5eOhC', '2016-04-03 10:44:32', '2016-04-03 10:44:32', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-03 10:44:32', '2016-04-03 10:44:32', 980190962)[0m
  [1m[35m (1.5ms)[0m  commit transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:44:32.955149"], ["updated_at", "2016-04-03 10:44:32.955149"], ["short", "bEADXQ"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (2.0ms)[0m  commit transaction
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.8ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (24.4ms)
  Rendered shared/_nav_bar.html.erb (1.4ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 66ms (Views: 46.9ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-03 10:44:33', '2016-04-03 10:44:33', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$XxTC1q8t8RQrhHSceT9Ae.EWTo2bKdM.8O2x8Q8fowfZa5y8BAcOS', '2016-04-03 10:44:33', '2016-04-03 10:44:33', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$OafkHbOVrO3nYOUdbuiIJ.okARx44wyPAK0UYe14x5B8de3V.sdfq', '2016-04-03 10:44:33', '2016-04-03 10:44:33', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-03 10:44:33', '2016-04-03 10:44:33', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:44:33.077738"], ["updated_at", "2016-04-03 10:44:33.077738"], ["short", "-4Fj_A"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980191130"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980191130]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "links" WHERE "links"."id" = ?[0m  [["id", 980191130]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.5ms)[0m  commit transaction
Redirected to http://test.host/dashboard
Completed 302 Found in 6ms (ActiveRecord: 2.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-03 10:44:33', '2016-04-03 10:44:33', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$El3HbBOF9pbcDY6mEKjIG.XXTEo/I1ziK6NP5BLA4BOukMHdNgdqC', '2016-04-03 10:44:33', '2016-04-03 10:44:33', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$0r/WgefR5DdZ.G.4EMBXru.omLkCGjhvmf.rkS2YC5W7U411Cz6li', '2016-04-03 10:44:33', '2016-04-03 10:44:33', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-03 10:44:33', '2016-04-03 10:44:33', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:44:33.107132"], ["updated_at", "2016-04-03 10:44:33.107132"], ["short", "ecw5Tg"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.6ms)[0m  commit transaction
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980191131"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980191131]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.9ms)
  [1m[36mVisit Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1[0m  [["link_id", 980191131]]
  Rendered links/show.html.erb within layouts/application (18.6ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 27ms (Views: 24.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-03 10:44:33', '2016-04-03 10:44:33', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$XMly9iCF0Mzd.Q4d19hs9.hcDS2xrBx1/Oin9xbV0JlLRRU9n9zX.', '2016-04-03 10:44:33', '2016-04-03 10:44:33', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$F5POpDgsmSRcH8RBmGfFLeWh7Y/bdvGRBu0iwfIqT4NZMIDHHGUHu', '2016-04-03 10:44:33', '2016-04-03 10:44:33', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-03 10:44:33', '2016-04-03 10:44:33', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:44:33.153565"], ["updated_at", "2016-04-03 10:44:33.153565"], ["short", "_rvpWg"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"_rvpWg", "user_id"=>"980190962"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "_rvpWg"], ["created_at", "2016-04-03 10:44:33.166270"], ["updated_at", "2016-04-03 10:44:33.166270"]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.2ms)[0m  commit transaction
Redirected to 
Completed 500 Internal Server Error in 12ms (ActiveRecord: 2.5ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "links"
  [1m[36mFixture Insert (1.4ms)[0m  [1mINSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-03 10:44:33', '2016-04-03 10:44:33', 980190962)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$yuuD7CGzO3SpMV.UjAi0IuDUc.GgkIcVxKfZ79zhMEJtH9UW8Nu9i', '2016-04-03 10:44:33', '2016-04-03 10:44:33', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$3V3Cl/QDmAtLEYTYMuZnOOCHTFBYIAyLv3P21ZeRgDdJkwd2FVNCm', '2016-04-03 10:44:33', '2016-04-03 10:44:33', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-03 10:44:33', '2016-04-03 10:44:33', 980190962)
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:44:33.195446"], ["updated_at", "2016-04-03 10:44:33.195446"], ["short", "P93XwQ"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (21.3ms)[0m  [1mcommit transaction[0m
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980191134"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980191134]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.0ms)
  Rendered links/partials/_form.html.erb (15.6ms)
  Rendered links/edit.html.erb within layouts/application (20.8ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 26ms (Views: 24.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-03 10:44:33', '2016-04-03 10:44:33', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$dgrEguNsPubIuPD591B7e.AFyCvV8jcCYWJ.JKAL.MFkT6Vopc0Zq', '2016-04-03 10:44:33', '2016-04-03 10:44:33', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$.0mrp08Ib2EAlGZvr.UYlevEB5HmBjb35DQ4NxziIgEOAGhD9ZqDm', '2016-04-03 10:44:33', '2016-04-03 10:44:33', 980190962)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-03 10:44:33', '2016-04-03 10:44:33', 980190962)[0m
  [1m[35m (1.5ms)[0m  commit transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:44:33.276499"], ["updated_at", "2016-04-03 10:44:33.276499"], ["short", "IJxXSw"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (2.2ms)[0m  commit transaction
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  Rendered links/partials/_form.html.erb (2.3ms)
  Rendered links/new.html.erb within layouts/application (3.9ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 12ms (Views: 8.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-03 10:44:33', '2016-04-03 10:44:33', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$3LcpO7EEjmApHEwqMzEyA.YoN4bluU0VcKR0iQt.0vFa6IQSoyo0K', '2016-04-03 10:44:33', '2016-04-03 10:44:33', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$TSvRiBro/fZPhyzIpwRZTOp4gnaTRpPgqtfDUGg8G6La6H0jvYwmG', '2016-04-03 10:44:33', '2016-04-03 10:44:33', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-03 10:44:33', '2016-04-03 10:44:33', 980190962)[0m
  [1m[35m (1.1ms)[0m  commit transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:44:33.311137"], ["updated_at", "2016-04-03 10:44:33.311137"], ["short", "q5fPjw"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (2.2ms)[0m  commit transaction
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"q5fPjw", "user_id"=>"980190962"}, "id"=>"980191136"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980191136]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
Redirected to http://test.host/links/980191136
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-03 10:47:09', '2016-04-03 10:47:09', 980190962)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$zvmBN8/o0G2pDXrgwVqehOiVk98jLyFDBknTCiZ4bzNRjFI/vMp6O', '2016-04-03 10:47:09', '2016-04-03 10:47:09', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$Pk6ZPu3UJWn3ZL/OEptWKunWMHJgD3AgJEJFUGToHnfndW/ZQFE1y', '2016-04-03 10:47:09', '2016-04-03 10:47:09', 980190962)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-03 10:47:09', '2016-04-03 10:47:09', 980190962)[0m
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:47:10.057697"], ["updated_at", "2016-04-03 10:47:10.057697"], ["short", "4Y_I8g"]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"4Y_I8g", "user_id"=>"980190962"}, "id"=>"980191137"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980191137]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/links/980191137
Completed 302 Found in 15ms (ActiveRecord: 0.6ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:47:10.118232"], ["updated_at", "2016-04-03 10:47:10.118232"], ["short", "rwLXqA"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980191137"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980191137]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "links" WHERE "links"."id" = ?  [["id", 980191137]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/dashboard
Completed 302 Found in 7ms (ActiveRecord: 1.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:47:10.139570"], ["updated_at", "2016-04-03 10:47:10.139570"], ["short", "U_U5hA"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (2.5ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (30.4ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.6ms)
Completed 200 OK in 87ms (Views: 68.4ms | ActiveRecord: 0.8ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:47:10.236561"], ["updated_at", "2016-04-03 10:47:10.236561"], ["short", "vaVtUA"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980191137"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980191137]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  [1m[35mVisit Exists (0.2ms)[0m  SELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1  [["link_id", 980191137]]
  Rendered links/show.html.erb within layouts/application (15.7ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 21ms (Views: 19.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:47:10.265570"], ["updated_at", "2016-04-03 10:47:10.265570"], ["short", "TYWOTA"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  Rendered links/partials/_form.html.erb (10.3ms)
  Rendered links/new.html.erb within layouts/application (13.8ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 21ms (Views: 18.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:47:10.294439"], ["updated_at", "2016-04-03 10:47:10.294439"], ["short", "R2ywAA"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980191137"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980191137]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.7ms)
  Rendered links/partials/_form.html.erb (4.6ms)
  Rendered links/edit.html.erb within layouts/application (6.9ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 11.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:47:10.315470"], ["updated_at", "2016-04-03 10:47:10.315470"], ["short", "tI8epQ"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"tI8epQ", "user_id"=>"980190962"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "tI8epQ"], ["created_at", "2016-04-03 10:47:10.322806"], ["updated_at", "2016-04-03 10:47:10.322806"]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 7ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-03 10:48:25', '2016-04-03 10:48:25', 980190962)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$88PML6Cq1I4J9BUi4gw/s.XhciEsjYV7.Sh/F8M94FhxcPC1AjULm', '2016-04-03 10:48:25', '2016-04-03 10:48:25', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$04r6Ke6R2Fp3QPH8osChgOKSZ4i7TAhpts7pk3pCbPAFj1xPNRs.a', '2016-04-03 10:48:25', '2016-04-03 10:48:25', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-03 10:48:25', '2016-04-03 10:48:25', 980190962)[0m
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
RedirectControllerTest: test_should_get_show
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:48:25.961919"], ["updated_at", "2016-04-03 10:48:25.961919"], ["short", "Tl9XDg"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (20.2ms)
  Rendered shared/_nav_bar.html.erb (1.3ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 61ms (Views: 46.3ms | ActiveRecord: 0.5ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:48:26.048850"], ["updated_at", "2016-04-03 10:48:26.048850"], ["short", "FpzHKg"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (9.7ms)
  Rendered links/new.html.erb within layouts/application (13.3ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 18.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:48:26.076307"], ["updated_at", "2016-04-03 10:48:26.076307"], ["short", "5cOIsw"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980191137"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980191137]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.8ms)
  Rendered links/partials/_form.html.erb (5.2ms)
  Rendered links/edit.html.erb within layouts/application (7.7ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 12.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:48:26.100159"], ["updated_at", "2016-04-03 10:48:26.100159"], ["short", "RMJkNQ"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980191137"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980191137]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  [1m[35mVisit Exists (0.2ms)[0m  SELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1  [["link_id", 980191137]]
  Rendered links/show.html.erb within layouts/application (14.6ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 17.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:48:26.127106"], ["updated_at", "2016-04-03 10:48:26.127106"], ["short", "SVwebw"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980191137"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980191137]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "links" WHERE "links"."id" = ?[0m  [["id", 980191137]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/dashboard
Completed 302 Found in 6ms (ActiveRecord: 1.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:48:26.142633"], ["updated_at", "2016-04-03 10:48:26.142633"], ["short", "PAStdg"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"PAStdg", "user_id"=>"980190962"}, "id"=>"980191137"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980191137]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/links/980191137
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:48:26.155238"], ["updated_at", "2016-04-03 10:48:26.155238"], ["short", "N4ONng"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"N4ONng", "user_id"=>"980190962"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "N4ONng"], ["created_at", "2016-04-03 10:48:26.162420"], ["updated_at", "2016-04-03 10:48:26.162420"]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 6ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "links" SET "short" = ? WHERE "links"."id" = ?[0m  [["short", "ggfFGg"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
VisitTest: test_valid
---------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (1.1ms)
  Rendered shared/_nav_bar.html.erb (22.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 42ms (Views: 40.5ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (38.3ms)
  Rendered visits/new.html.erb within layouts/application (42.3ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 65ms (Views: 64.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/_form.html.erb (2.8ms)
  Rendered visits/edit.html.erb within layouts/application (3.8ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "visits" WHERE "visits"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190962
Completed 302 Found in 13ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[35mVisit Load (0.1ms)[0m  SELECT "visits".* FROM "visits"
  Rendered visits/index.html.erb within layouts/application (2.2ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["link_id", 980190962], ["created_at", "2016-04-03 10:48:26.395047"], ["updated_at", "2016-04-03 10:48:26.395047"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-03 10:51:02', '2016-04-03 10:51:02', 980190962)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$SVhs0kfHol2IyCPwHploYOSINQSVNiaWLted50QHRjbuzIW/Ao.uC', '2016-04-03 10:51:02', '2016-04-03 10:51:02', 298486374)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$QfC9J2qIBx8AGiQGeY2cwufntLVlSr6wXBheGxt6.GFGAiKz.C4gC', '2016-04-03 10:51:02', '2016-04-03 10:51:02', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-03 10:51:02', '2016-04-03 10:51:02', 980190962)[0m
  [1m[35m (2.3ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:51:02.617863"], ["updated_at", "2016-04-03 10:51:02.617863"], ["short", "AnSsIg"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980191137"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980191137]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.8ms)
  [1m[35mVisit Exists (0.2ms)[0m  SELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1  [["link_id", 980191137]]
  Rendered links/show.html.erb within layouts/application (27.2ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 54ms (Views: 47.9ms | ActiveRecord: 0.5ms)
  [1m[36m (45.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:51:02.735908"], ["updated_at", "2016-04-03 10:51:02.735908"], ["short", "KrEFiw"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"KrEFiw", "user_id"=>"980190962"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "KrEFiw"], ["created_at", "2016-04-03 10:51:02.744843"], ["updated_at", "2016-04-03 10:51:02.744843"]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 7ms (ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:51:02.752862"], ["updated_at", "2016-04-03 10:51:02.752862"], ["short", "7DZM8A"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980191137"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980191137]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "links" WHERE "links"."id" = ?  [["id", 980191137]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/dashboard
Completed 302 Found in 5ms (ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:51:02.770381"], ["updated_at", "2016-04-03 10:51:02.770381"], ["short", "nPS1CA"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (4.5ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:51:02.789962"], ["updated_at", "2016-04-03 10:51:02.789962"], ["short", "0-LtYQ"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  Rendered links/partials/_form.html.erb (11.0ms)
  Rendered links/new.html.erb within layouts/application (15.1ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 22ms (Views: 20.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:51:02.820223"], ["updated_at", "2016-04-03 10:51:02.820223"], ["short", "JNIHKA"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980191137"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980191137]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  Rendered links/partials/_form.html.erb (5.3ms)
  Rendered links/edit.html.erb within layouts/application (7.5ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 14ms (Views: 12.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:51:02.842121"], ["updated_at", "2016-04-03 10:51:02.842121"], ["short", "ZjiDEg"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"ZjiDEg", "user_id"=>"980190962"}, "id"=>"980191137"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980191137]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/links/980191137
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
RedirectControllerTest: test_should_get_show
--------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[36mVisit Load (0.3ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------
VisitTest: test_valid
---------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["link_id", 980190962], ["created_at", "2016-04-03 10:51:02.881678"], ["updated_at", "2016-04-03 10:51:02.881678"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (9.4ms)
  Rendered visits/new.html.erb within layouts/application (12.1ms)
  Rendered shared/_nav_bar.html.erb (9.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 30ms (Views: 29.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[35mVisit Load (0.5ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190962
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.0ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/_form.html.erb (2.9ms)
  Rendered visits/edit.html.erb within layouts/application (3.7ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 7.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "visits" WHERE "visits"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.0ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (1.1ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT "visits".* FROM "visits"[0m
  Rendered visits/index.html.erb within layouts/application (2.1ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "links" SET "short" = ? WHERE "links"."id" = ?  [["short", "uHGuSw"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-03 10:51:26', '2016-04-03 10:51:26', 980190962)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$RQw4DaF/P3Bb4eWHKUillehpvIUSNnXhG9T2mt5fvhOu4Bb/uryva', '2016-04-03 10:51:26', '2016-04-03 10:51:26', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$WrK9PbwfwlCLP.9uiILZ8OszjMbogcj1fs77ac55bgTzoAJHJBM2O', '2016-04-03 10:51:26', '2016-04-03 10:51:26', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-03 10:51:26', '2016-04-03 10:51:26', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
--------------------------------------------
RedirectControllerTest: test_should_get_show
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:51:26.836661"], ["updated_at", "2016-04-03 10:51:26.836661"], ["short", "099h0w"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.6ms)
  Rendered links/partials/_form.html.erb (19.7ms)
  Rendered links/new.html.erb within layouts/application (32.4ms)
  Rendered shared/_nav_bar.html.erb (1.3ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 74ms (Views: 58.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:51:26.941419"], ["updated_at", "2016-04-03 10:51:26.941419"], ["short", "_0IBDQ"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980191137"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980191137]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "links" WHERE "links"."id" = ?[0m  [["id", 980191137]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/dashboard
Completed 302 Found in 7ms (ActiveRecord: 1.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:51:26.959318"], ["updated_at", "2016-04-03 10:51:26.959318"], ["short", "NZJIqg"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (1.6ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (3.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (7.8ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 14ms (Views: 11.6ms | ActiveRecord: 0.4ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:51:26.983384"], ["updated_at", "2016-04-03 10:51:26.983384"], ["short", "jMmccg"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"jMmccg", "user_id"=>"980190962"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "jMmccg"], ["created_at", "2016-04-03 10:51:26.993998"], ["updated_at", "2016-04-03 10:51:26.993998"]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:51:27.003190"], ["updated_at", "2016-04-03 10:51:27.003190"], ["short", "Ze7WiA"]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"Ze7WiA", "user_id"=>"980190962"}, "id"=>"980191137"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980191137]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/links/980191137
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:51:27.021395"], ["updated_at", "2016-04-03 10:51:27.021395"], ["short", "H5P-Xg"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980191137"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980191137]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  [1m[35mVisit Exists (0.1ms)[0m  SELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1  [["link_id", 980191137]]
  Rendered links/show.html.erb within layouts/application (14.1ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 18.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:51:27.049148"], ["updated_at", "2016-04-03 10:51:27.049148"], ["short", "-ldTuA"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980191137"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980191137]]
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  Rendered links/partials/_form.html.erb (4.6ms)
  Rendered links/edit.html.erb within layouts/application (6.5ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 14ms (Views: 10.4ms | ActiveRecord: 0.9ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["link_id", 980190962], ["created_at", "2016-04-03 10:51:27.109284"], ["updated_at", "2016-04-03 10:51:27.109284"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190963
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mVisit Load (0.3ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (10.7ms)
  Rendered visits/new.html.erb within layouts/application (14.0ms)
  Rendered shared/_nav_bar.html.erb (8.1ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 30ms (Views: 29.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/_form.html.erb (2.9ms)
  Rendered visits/edit.html.erb within layouts/application (5.9ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 9.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (0.9ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "visits" WHERE "visits"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[35mVisit Load (0.4ms)[0m  SELECT "visits".* FROM "visits"
  Rendered visits/index.html.erb within layouts/application (2.1ms)
  Rendered shared/_nav_bar.html.erb (1.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------
VisitTest: test_valid
---------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "links" SET "short" = ? WHERE "links"."id" = ?  [["short", "ZOJcxA"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-03 10:52:12', '2016-04-03 10:52:12', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$MglCHxtuhSbGzQTmw1OJZO.FdG0KSKSC6tHhf8FAQrutAeBgBFqHK', '2016-04-03 10:52:12', '2016-04-03 10:52:12', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$ejYofGELFf9BdUQvp.PtielVsH/to/2.SsUPEDhilDF5F7x6TVtFm', '2016-04-03 10:52:12', '2016-04-03 10:52:12', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-03 10:52:12', '2016-04-03 10:52:12', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["link_id", 980190962], ["created_at", "2016-04-03 10:52:12.339771"], ["updated_at", "2016-04-03 10:52:12.339771"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190963
Completed 302 Found in 12ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (2.8ms)
  Rendered shared/_nav_bar.html.erb (11.9ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 44ms (Views: 40.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.0ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/_form.html.erb (18.8ms)
  Rendered visits/edit.html.erb within layouts/application (21.7ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 26ms (Views: 25.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT "visits".* FROM "visits"[0m
  Rendered visits/index.html.erb within layouts/application (2.5ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 7.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "visits" WHERE "visits"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (5.0ms)
  Rendered visits/new.html.erb within layouts/application (6.3ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 13ms (Views: 12.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:52:12.484016"], ["updated_at", "2016-04-03 10:52:12.484016"], ["short", "m7-YjA"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.6ms)
  Rendered links/partials/_form.html.erb (2.7ms)
  Rendered links/new.html.erb within layouts/application (9.1ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 23ms (Views: 19.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:52:12.523720"], ["updated_at", "2016-04-03 10:52:12.523720"], ["short", "YrMy6g"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980191137"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980191137]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.9ms)
  [1m[36mVisit Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1[0m  [["link_id", 980191137]]
  Rendered links/show.html.erb within layouts/application (18.0ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 26ms (Views: 23.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:52:12.559722"], ["updated_at", "2016-04-03 10:52:12.559722"], ["short", "aRDNCQ"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35mLink Load (0.2ms)[0m  SELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (5.4ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 14ms (Views: 10.5ms | ActiveRecord: 0.4ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:52:12.584650"], ["updated_at", "2016-04-03 10:52:12.584650"], ["short", "nn1stQ"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980191137"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980191137]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.7ms)
  Rendered links/partials/_form.html.erb (7.0ms)
  Rendered links/edit.html.erb within layouts/application (9.1ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 16ms (Views: 14.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:52:12.608803"], ["updated_at", "2016-04-03 10:52:12.608803"], ["short", "P3TGFA"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"P3TGFA", "user_id"=>"980190962"}, "id"=>"980191137"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980191137]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/links/980191137
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:52:12.624040"], ["updated_at", "2016-04-03 10:52:12.624040"], ["short", "uWB0XA"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980191137"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980191137]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "links" WHERE "links"."id" = ?[0m  [["id", 980191137]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/dashboard
Completed 302 Found in 6ms (ActiveRecord: 1.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-03 10:52:12.640303"], ["updated_at", "2016-04-03 10:52:12.640303"], ["short", "ju-m0Q"]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"ju-m0Q", "user_id"=>"980190962"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (2.6ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "ju-m0Q"], ["created_at", "2016-04-03 10:52:12.651794"], ["updated_at", "2016-04-03 10:52:12.651794"]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 11ms (ActiveRecord: 3.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.5ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------
VisitTest: test_valid
---------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "links" SET "short" = ? WHERE "links"."id" = ?  [["short", "Fj0tHw"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (2.1ms)[0m  [1mCREATE TABLE "links" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "long" varchar, "short" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "click_count" integer DEFAULT 0, "active" boolean DEFAULT 't') [0m
  [1m[35m (1.2ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "price" integer, "description" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "provider" varchar, "uid" varchar, "full_name" varchar, "links_count" integer DEFAULT 0) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.2ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (1.6ms)[0m  [1mCREATE  INDEX "index_users_on_links_count" ON "users" ("links_count")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_links_count' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_links_count' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (1.2ms)[0m  CREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "visits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "link_id" integer, "ip" varchar, "browser" varchar, "browser_version" varchar, "os" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "referer" varchar) [0m
  [1m[35m (1.3ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar NOT NULL) 
  [1m[36m (1.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.2ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160325091426')[0m
  [1m[35m (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160318094703')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160318100340')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160318112914')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160318145753')[0m
  [1m[35m (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160324002901')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160324151158')[0m
  [1m[35m (1.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160325061209')
  [1m[36m (1.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160325090138')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddAuthenticationTokenToUsers (20160403132641)
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.8ms)[0m  [1mALTER TABLE "users" ADD "authentication_token" varchar[0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_links_count' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_links_count' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.3ms)[0m  CREATE  INDEX "index_users_on_authentication_token" ON "users" ("authentication_token")
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20160403132641"]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_authentication_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_authentication_token' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.3ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_links_count' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_links_count' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-05 09:20:01', '2016-04-05 09:20:01', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$keX9bzN2sEyNXi3BCxC7.uh9a4gS.NQqDxi.sF042gHVQsRp5Hl3m', '2016-04-05 09:20:01', '2016-04-05 09:20:01', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$hVGc/mTMEDJAnkBLiUzSr.RJXlbQ26OBWuA6fRZyf.eJ69pSEvH7G', '2016-04-05 09:20:01', '2016-04-05 09:20:01', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 09:20:01', '2016-04-05 09:20:01', 980190962)[0m
  [1m[35m (2.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "links" SET "short" = ? WHERE "links"."id" = ?[0m  [["short", "3YpcGQ"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (8.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-05 09:20:01.236151"], ["updated_at", "2016-04-05 09:20:01.236151"], ["short", "38Daog"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (2.3ms)
  Rendered links/partials/_form.html.erb (13.2ms)
  Rendered links/edit.html.erb within layouts/application (25.7ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 50ms (Views: 43.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-05 09:20:01.318624"], ["updated_at", "2016-04-05 09:20:01.318624"], ["short", "X8grXw"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.8ms)
  [1m[36mVisit Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1[0m  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (13.4ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 17ms (Views: 16.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-05 09:20:01.342798"], ["updated_at", "2016-04-05 09:20:01.342798"], ["short", "JqCiTA"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.1ms)
  Rendered links/partials/_form.html.erb (1.5ms)
  Rendered links/new.html.erb within layouts/application (3.6ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-05 09:20:01.358651"], ["updated_at", "2016-04-05 09:20:01.358651"], ["short", "JZyF4g"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"JZyF4g", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/links/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-05 09:20:01.370002"], ["updated_at", "2016-04-05 09:20:01.370002"], ["short", "4BR6jg"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (6.6ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 12ms (Views: 9.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-05 09:20:01.389973"], ["updated_at", "2016-04-05 09:20:01.389973"], ["short", "34113w"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"34113w", "user_id"=>"980190962"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "34113w"], ["created_at", "2016-04-05 09:20:01.399928"], ["updated_at", "2016-04-05 09:20:01.399928"]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 6ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-05 09:20:01.407596"], ["updated_at", "2016-04-05 09:20:01.407596"], ["short", "i2t2XA"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "links" WHERE "links"."id" = ?[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/dashboard
Completed 302 Found in 7ms (ActiveRecord: 1.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "A528P9qcSNpKTKXxXouJ"]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["authentication_token", "A528P9qcSNpKTKXxXouJ"], ["updated_at", "2016-04-05 09:20:01.434288"], ["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
VisitTest: test_valid
---------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (20.2ms)
  Rendered visits/new.html.erb within layouts/application (23.9ms)
  Rendered shared/_nav_bar.html.erb (8.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 54ms (Views: 53.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "visits" WHERE "visits"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/_form.html.erb (2.4ms)
  Rendered visits/edit.html.erb within layouts/application (3.2ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[35mVisit Load (0.0ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[35mVisit Load (0.1ms)[0m  SELECT "visits".* FROM "visits"
  Rendered visits/index.html.erb within layouts/application (1.8ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.0ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (1.0ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["link_id", 980190962], ["created_at", "2016-04-05 09:20:01.579349"], ["updated_at", "2016-04-05 09:20:01.579349"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-05 17:26:50', '2016-04-05 17:26:50', 980190962)
  [1m[36mFixture Delete (1.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$u1glgz87navFowPIzkTKweaqcjfWXtjpApDO/PETVVIoAMMrlRKF6', '2016-04-05 17:26:50', '2016-04-05 17:26:50', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$/H2KxZYiExoemCHDWhDhnuzxPWItOYqoKbFTk34y6TbBO5J0T8e2G', '2016-04-05 17:26:50', '2016-04-05 17:26:50', 980190962)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 17:26:50', '2016-04-05 17:26:50', 980190962)[0m
  [1m[35m (2.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mVisit Load (0.4ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[36mVisit Load (0.3ms)[0m  [1mSELECT "visits".* FROM "visits"[0m
  Rendered visits/index.html.erb within layouts/application (23.8ms)
  Rendered shared/_nav_bar.html.erb (19.2ms)
  Rendered shared/_footer.html.erb (0.8ms)
Completed 200 OK in 214ms (Views: 181.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (1.3ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 23ms (Views: 7.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[36mVisit Load (0.0ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190962
Completed 302 Found in 22ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/_form.html.erb (197.1ms)
  Rendered visits/edit.html.erb within layouts/application (202.2ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 208ms (Views: 207.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (4.5ms)
  Rendered visits/new.html.erb within layouts/application (5.9ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 24ms (Views: 23.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "visits" WHERE "visits"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["link_id", 980190962], ["created_at", "2016-04-05 17:26:51.606655"], ["updated_at", "2016-04-05 17:26:51.606655"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "VsdzxVhXAyirQU6gNzb8"]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["authentication_token", "VsdzxVhXAyirQU6gNzb8"], ["updated_at", "2016-04-05 17:26:51.671020"], ["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "links" SET "short" = ? WHERE "links"."id" = ?  [["short", "-E0zZA"], ["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------
VisitTest: test_valid
---------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-05 17:26:51.725650"], ["updated_at", "2016-04-05 17:26:51.725650"], ["short", "kVDqug"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "links" WHERE "links"."id" = ?  [["id", 980190963]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/dashboard
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-05 17:26:51.743505"], ["updated_at", "2016-04-05 17:26:51.743505"], ["short", "85Wkeg"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (2.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (10.2ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 21ms (Views: 19.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-05 17:26:51.771989"], ["updated_at", "2016-04-05 17:26:51.771989"], ["short", "_vmCQw"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"_vmCQw", "user_id"=>"980190962"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "_vmCQw"], ["created_at", "2016-04-05 17:26:51.780213"], ["updated_at", "2016-04-05 17:26:51.780213"]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-05 17:26:51.786492"], ["updated_at", "2016-04-05 17:26:51.786492"], ["short", "XPGguw"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"XPGguw", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/links/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-05 17:26:51.796557"], ["updated_at", "2016-04-05 17:26:51.796557"], ["short", "HT4Hnw"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  [1m[36mVisit Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1[0m  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (31.8ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 37ms (Views: 35.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-05 17:26:51.840783"], ["updated_at", "2016-04-05 17:26:51.840783"], ["short", "4lZESQ"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (3.8ms)
  Rendered links/new.html.erb within layouts/application (18.2ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 24ms (Views: 22.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-05 17:26:51.872208"], ["updated_at", "2016-04-05 17:26:51.872208"], ["short", "34oqeg"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (22.1ms)
  Rendered links/edit.html.erb within layouts/application (23.9ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 29ms (Views: 28.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-05 19:48:06', '2016-04-05 19:48:06', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$AzlI1ayTW2VvwPJKoSJWwOJ8QBoL60kZMmC7cAfuDg2fha4dD1yg.', '2016-04-05 19:48:06', '2016-04-05 19:48:06', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$9Rq92XF59FyT4sm108Vpu.0E5eThTdkGynQg3J9lCzqgyt6G.d/oC', '2016-04-05 19:48:06', '2016-04-05 19:48:06', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 19:48:06', '2016-04-05 19:48:06', 980190962)[0m
  [1m[35m (18.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "links" SET "short" = ? WHERE "links"."id" = ?[0m  [["short", "Wt503w"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (4.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-05 19:48:07.592131"], ["updated_at", "2016-04-05 19:48:07.592131"], ["short", "qLIwdA"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"qLIwdA", "user_id"=>"980190962"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "qLIwdA"], ["created_at", "2016-04-05 19:48:07.839105"], ["updated_at", "2016-04-05 19:48:07.839105"]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 108ms (ActiveRecord: 1.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (81.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-05 19:48:07.928851"], ["updated_at", "2016-04-05 19:48:07.928851"], ["short", "MC5Sqw"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (2.8ms)
  [1m[35mVisit Exists (0.2ms)[0m  SELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (192.3ms)
  Rendered shared/_nav_bar.html.erb (1.5ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 416ms (Views: 413.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-05 19:48:08.352659"], ["updated_at", "2016-04-05 19:48:08.352659"], ["short", "ZzM1Og"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "links" WHERE "links"."id" = ?[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/dashboard
Completed 302 Found in 6ms (ActiveRecord: 1.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-05 19:48:08.368055"], ["updated_at", "2016-04-05 19:48:08.368055"], ["short", "7ws3-g"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"7ws3-g", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/links/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-05 19:48:08.381372"], ["updated_at", "2016-04-05 19:48:08.381372"], ["short", "m_ILyA"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  Rendered links/partials/_form.html.erb (63.8ms)
  Rendered links/new.html.erb within layouts/application (73.2ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 99ms (Views: 97.0ms | ActiveRecord: 0.1ms)
  [1m[36m (7.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-05 19:48:08.497884"], ["updated_at", "2016-04-05 19:48:08.497884"], ["short", "IiSLAQ"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (3.8ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 7.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-05 19:48:08.517021"], ["updated_at", "2016-04-05 19:48:08.517021"], ["short", "klO-Uw"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.8ms)
  Rendered links/partials/_form.html.erb (5.5ms)
  Rendered links/edit.html.erb within layouts/application (8.1ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 11.5ms | ActiveRecord: 0.1ms)
  [1m[35m (11.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "E_TCz9gMX7Un2br2f8yx"]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["authentication_token", "E_TCz9gMX7Un2br2f8yx"], ["updated_at", "2016-04-05 19:48:08.569023"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
VisitTest: test_valid
---------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[35mVisit Load (0.1ms)[0m  SELECT "visits".* FROM "visits"
  Rendered visits/index.html.erb within layouts/application (2.0ms)
  Rendered shared/_nav_bar.html.erb (27.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 50ms (Views: 49.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/_form.html.erb (99.0ms)
  Rendered visits/edit.html.erb within layouts/application (102.4ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 245ms (Views: 244.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (2.7ms)
  Rendered visits/new.html.erb within layouts/application (3.5ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 52ms (Views: 51.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (10.5ms)[0m  DELETE FROM "visits" WHERE "visits"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits
Completed 302 Found in 13ms (ActiveRecord: 10.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (1.0ms)
  Rendered shared/_nav_bar.html.erb (1.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["link_id", 980190962], ["created_at", "2016-04-05 19:48:09.027400"], ["updated_at", "2016-04-05 19:48:09.027400"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190963
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (5.4ms)[0m  [1mrollback transaction[0m
<<<<<<< HEAD
  [1m[36mVisit Load (2.9ms)[0m  [1mSELECT "visits".* FROM "visits"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-05 20:11:49', '2016-04-05 20:11:49', 980190962)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$QJqSLR9JZpV4gWxTETQutucxN2wS82zZrd3UA4M1DV/2m9AP47/Ea', '2016-04-05 20:11:49', '2016-04-05 20:11:49', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$vd/afUpEI2bj7osIdUuYGOyj9Xdh8TRdxfzhjpnLcEunq2LM9aUPa', '2016-04-05 20:11:49', '2016-04-05 20:11:49', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 20:11:49', '2016-04-05 20:11:49', 980190962)[0m
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_home_page
---------------------------------------------------
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (34.4ms)
  Rendered shared/_nav_bar.html.erb (18.8ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 215ms (Views: 180.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-05 20:12:00', '2016-04-05 20:12:00', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$7SVfjECFSCCrNbzWPys.c.9S5AroJTLqmDWh4hY7iCmEu5ZLHPn2e', '2016-04-05 20:12:00', '2016-04-05 20:12:00', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$S6dhx2vLXvWxrdu3E6MuoOUVzqQOlMkzH3i5tER72jA/azAfzxkqO', '2016-04-05 20:12:00', '2016-04-05 20:12:00', 980190962)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 20:12:00', '2016-04-05 20:12:00', 980190962)[0m
  [1m[35m (2.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_home_page
---------------------------------------------------
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (2.2ms)
  Rendered shared/_nav_bar.html.erb (12.1ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 37ms (Views: 34.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-05 20:12:13', '2016-04-05 20:12:13', 980190962)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$Gn3XZ/0.01gFhcKli0yrrOnBd5w9ZDQQRx1IS51gNfPs84jq2wPPu', '2016-04-05 20:12:13', '2016-04-05 20:12:13', 298486374)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$axIcnUe9zTjFNWlTuRV9iuRuwgxjt7a74yFHdiMoT21sespE3SSpa', '2016-04-05 20:12:13', '2016-04-05 20:12:13', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 20:12:13', '2016-04-05 20:12:13', 980190962)[0m
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_home_page
---------------------------------------------------
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (1.7ms)
  Rendered shared/_nav_bar.html.erb (8.5ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 32ms (Views: 29.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-05 20:12:26', '2016-04-05 20:12:26', 980190962)
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$pJWKJedAplqAvORkDOo7Vu8B6R2rLveOxzTwiSIktP0VhB2Gtnjnu', '2016-04-05 20:12:26', '2016-04-05 20:12:26', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$O8U.L0ea9b62YKAT5UheA.yODRSbXIvV0pU1dBKzE1DRExtGwPxbS', '2016-04-05 20:12:26', '2016-04-05 20:12:26', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 20:12:26', '2016-04-05 20:12:26', 980190962)[0m
  [1m[35m (111.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_home_page
---------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (1.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-05 20:14:29', '2016-04-05 20:14:29', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$iyMzvmWRT313ga46mObzmuqiDpzRaR.1zjFgtZGmPvUBsGuEkGkQa', '2016-04-05 20:14:29', '2016-04-05 20:14:29', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$TY4/O/3ht4HwWHixmr3ITuvSht1ZZu6j0xyvP5LcVwYJkHL6q4MlO', '2016-04-05 20:14:29', '2016-04-05 20:14:29', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 20:14:29', '2016-04-05 20:14:29', 980190962)[0m
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_home_page
---------------------------------------------------
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (2.8ms)
  Rendered shared/_nav_bar.html.erb (7.7ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 37ms (Views: 33.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-05 20:15:12', '2016-04-05 20:15:12', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$sKT85f/WmlBUnGOpuTlr5OjKCrmMfFdj1vsns0ajLBFK37fMyzK3O', '2016-04-05 20:15:12', '2016-04-05 20:15:12', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$uiobldFVdzDL9o8w2xq3lOMN.zZVPQoyuPCIis7zcOpRj.ShPsd56', '2016-04-05 20:15:12', '2016-04-05 20:15:12', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 20:15:12', '2016-04-05 20:15:12', 980190962)[0m
  [1m[35m (2.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_home_page
---------------------------------------------------
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (1.7ms)
  Rendered shared/_nav_bar.html.erb (7.6ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 31ms (Views: 28.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-05 20:16:04', '2016-04-05 20:16:04', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$Q8roYD9isAdKkGLt61P3nuCCsHHQoNEZIBpaaQmoK5xsHgcE2cEoW', '2016-04-05 20:16:04', '2016-04-05 20:16:04', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$Vcn/D1zQcsBh1XvINdjQ3e0TkOX/OTAP7hCl1ud8rHWcZ3UOFMsCy', '2016-04-05 20:16:04', '2016-04-05 20:16:04', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 20:16:04', '2016-04-05 20:16:04', 980190962)[0m
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_home_page
---------------------------------------------------
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (1.7ms)
  Rendered shared/_nav_bar.html.erb (7.7ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 35ms (Views: 30.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
PagesControllerTest: test_show
------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-05 20:18:14', '2016-04-05 20:18:14', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$GQqz8X6/nvV5H7gCLwvILugMxRkKrj/9w0I9LvsE7cVoxR87y9hZ2', '2016-04-05 20:18:14', '2016-04-05 20:18:14', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$8ozX24e2P5b5AI8ddncNo.MiPHv6GdidwAh7TOI6TXLA2sGp8OX1u', '2016-04-05 20:18:14', '2016-04-05 20:18:14', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 20:18:14', '2016-04-05 20:18:14', 980190962)[0m
  [1m[35m (163.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_home_page
---------------------------------------------------
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (1.6ms)
  Rendered shared/_nav_bar.html.erb (7.6ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 31ms (Views: 27.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-05 20:19:47', '2016-04-05 20:19:47', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$ZZgp.lW8UzTG.DZO.1Z8cOTuGJextPVbvrg4h2SFsxrtZrwKz0j/q', '2016-04-05 20:19:47', '2016-04-05 20:19:47', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$muVffkmXdH9oNTXAw3AYXuEybKGdsJwlbtY5uv/UIGO9T/j5GqxW.', '2016-04-05 20:19:47', '2016-04-05 20:19:47', 980190962)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 20:19:47', '2016-04-05 20:19:47', 980190962)[0m
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_home_page
---------------------------------------------------
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (1.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-05 20:21:12', '2016-04-05 20:21:12', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$/VcazoXos0vwpHSFqoddJuVgRX5hhgf7dAa4mBjNhcdbCbunlIL7G', '2016-04-05 20:21:12', '2016-04-05 20:21:12', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$gHzAe5jYr5gG4jWrhMo4v.iY2Tc25KqtHsRIKPI.a7n4KCG8Rc4UW', '2016-04-05 20:21:12', '2016-04-05 20:21:12', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 20:21:12', '2016-04-05 20:21:12', 980190962)[0m
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (1.7ms)
  Rendered shared/_nav_bar.html.erb (9.0ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 37ms (Views: 34.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-05 20:22:42', '2016-04-05 20:22:42', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$Wjsi/pBWkKuY0abjU5r/MONpC56QoxMn05KxETNPZHppw9Nj/zv8y', '2016-04-05 20:22:42', '2016-04-05 20:22:42', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$9LgOgFHVs4uomgo0geOXj.NhtqYRoXcRw7pcx4ig0fNcKiOOoMvrW', '2016-04-05 20:22:42', '2016-04-05 20:22:42', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 20:22:42', '2016-04-05 20:22:42', 980190962)[0m
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-05 20:24:06', '2016-04-05 20:24:06', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$DRhIQ8I4QtIiOpvkY0JNZO1w.iHO3hvVwneEZpoA/c62bCZxHrOim', '2016-04-05 20:24:06', '2016-04-05 20:24:06', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$82qsCJjb4yna7u20rlWpxOowlO/RKh.FCGNpQx0WISzdQ4GnD7tJe', '2016-04-05 20:24:06', '2016-04-05 20:24:06', 980190962)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.9ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 20:24:06', '2016-04-05 20:24:06', 980190962)[0m
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-05 20:25:34', '2016-04-05 20:25:34', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$9GUtL6jfuj0hc8KW4E09..5v9qCwFqEINFhBaT1ZATltKQfXe5hpe', '2016-04-05 20:25:34', '2016-04-05 20:25:34', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$wKJvMOVXR9WScMaJ1QjnzOMYfy2/BWBXYTy7mytEkYSujS8xbMtaG', '2016-04-05 20:25:34', '2016-04-05 20:25:34', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 20:25:34', '2016-04-05 20:25:34', 980190962)[0m
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-05 20:26:32', '2016-04-05 20:26:32', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$7EozDY412JiiPDKwL6EmGuzgBmJnvfYj3jClDe9fIOyM14xHFBhgG', '2016-04-05 20:26:32', '2016-04-05 20:26:32', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$os58Quompzu2IbeMEDA76uyQHnXXCU8M9PSx9rnnq42zp8uhiyGvS', '2016-04-05 20:26:32', '2016-04-05 20:26:32', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 20:26:32', '2016-04-05 20:26:32', 980190962)[0m
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-05 20:28:33', '2016-04-05 20:28:33', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$m0X.ZNSH6aQl4x4StN9O9uYICDLPBA8kLoiLfiS./f6.uHtW4ixF2', '2016-04-05 20:28:33', '2016-04-05 20:28:33', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$PUUXim1WIU8.m8pyEzxFaO8HS06MQvjvqr5e2Lern3slNdfs2RHqi', '2016-04-05 20:28:33', '2016-04-05 20:28:33', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 20:28:33', '2016-04-05 20:28:33', 980190962)[0m
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-05 20:29:21', '2016-04-05 20:29:21', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$a/.AOiqAwWrl1/vu6VI99.a5vo/U6U4OEzBuqRPXFwiEU1R5EbOt2', '2016-04-05 20:29:21', '2016-04-05 20:29:21', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$qAQAPpE0MJ11u5kjKkkfHO5zKqtZJhLG5i6rB5favU5oavACfeI.q', '2016-04-05 20:29:21', '2016-04-05 20:29:21', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 20:29:21', '2016-04-05 20:29:21', 980190962)[0m
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-05 20:29:40', '2016-04-05 20:29:40', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$M8IH52NivlJvSmE/iiRxi.IjB4NC426WQEsTGBTBWbeDEoPQiEFAi', '2016-04-05 20:29:40', '2016-04-05 20:29:40', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$to3zzxqsdX9ytQtQMYAm..NBVqCz5I3GKzXxAZT1Ybk/C.IzkAGkW', '2016-04-05 20:29:40', '2016-04-05 20:29:40', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 20:29:40', '2016-04-05 20:29:40', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-05 20:30:20', '2016-04-05 20:30:20', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$G6QjMvd0DBV/hSHRERzI6OurvRoXJgobtcV7rkDcP/aFeHER94qWG', '2016-04-05 20:30:20', '2016-04-05 20:30:20', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$rYCVpR.0QqyVmLaQgn4Lcug9XHqnC/Bx8uTcQd/T2eWpt6YXV4pT6', '2016-04-05 20:30:20', '2016-04-05 20:30:20', 980190962)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 20:30:20', '2016-04-05 20:30:20', 980190962)[0m
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-05 20:34:10', '2016-04-05 20:34:10', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$OZ1TrIqk5D0Tn1aSEFEl0.zCz.C67kQaTRdT8v4o1bQxh.0or9Fza', '2016-04-05 20:34:10', '2016-04-05 20:34:10', 298486374)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$u9z6q10YSL3mBwHHkTHOu.ziDAJc9rgF.jdsdksjI6MkuDMEla/vu', '2016-04-05 20:34:10', '2016-04-05 20:34:10', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 20:34:10', '2016-04-05 20:34:10', 980190962)[0m
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
RedirectControllerTest: test_respond_to_show
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-05 20:42:23', '2016-04-05 20:42:23', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$kQgmMZdc3mcHS3Hc/VX/weFU9h4AxGc39YSbpbnwPXCvrv1c9lMby', '2016-04-05 20:42:23', '2016-04-05 20:42:23', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$LB6HTuevK6uB7Sn2U7bRO.fi7iER.7Jh0WOMSN5A1fP1giMgxNapW', '2016-04-05 20:42:23', '2016-04-05 20:42:23', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 20:42:23', '2016-04-05 20:42:23', 980190962)[0m
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------
RedirectControllerTest: test_re
-------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-05 20:42:47', '2016-04-05 20:42:47', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$iKG3H24.soK9WSBYDKW62ejV7VBXsMslCfrIWu0NIB1efHJy5W6OW', '2016-04-05 20:42:47', '2016-04-05 20:42:47', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$QbD0xcFrbJMXX6kiUGLDp.mj03z/38kFz4j0X5e3.rOsH.IFmnsWq', '2016-04-05 20:42:47', '2016-04-05 20:42:47', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 20:42:47', '2016-04-05 20:42:47', 980190962)[0m
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-05 20:43:58', '2016-04-05 20:43:58', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$Df.oG4x1jNQCx4bgrwzg0OJ2i5qPOGnDSgsYonQPTvW0AKgkXKtB.', '2016-04-05 20:43:58', '2016-04-05 20:43:58', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$RjH1h6DK67xlbU3BBAkLju/ndSO3DDVZV/oMAlFQhEK0n1q8MqrY.', '2016-04-05 20:43:58', '2016-04-05 20:43:58', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 20:43:58', '2016-04-05 20:43:58', 980190962)[0m
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (169.9ms)
  Rendered links/partials/_popular_links.html.erb (1.8ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (7.7ms)
  Rendered links/partials/_recent.html.erb (0.7ms)
  Rendered pages/index.html.erb within layouts/application (244.2ms)
  Rendered shared/_nav_bar.html.erb (2.4ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 292ms (Views: 282.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-05 20:44:10', '2016-04-05 20:44:10', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$xbwcmVlZxA307oreV3OY1OFRvdYsbVNowzAXc32PVvrmxep4uexc6', '2016-04-05 20:44:10', '2016-04-05 20:44:10', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$ztvk8ny704dpGOzYG8CsZOFjtbpHnur2un4zOHiJbG1gPPAw6an0q', '2016-04-05 20:44:10', '2016-04-05 20:44:10', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 20:44:10', '2016-04-05 20:44:10', 980190962)[0m
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-05 20:44:36', '2016-04-05 20:44:36', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$/D/wwJSnd8iVHK1hYlOsI.ZhBAL4NJ8U38vWj4qbVVVljDxMDnh5K', '2016-04-05 20:44:36', '2016-04-05 20:44:36', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$sD3QpnSFniS.lZ8n/tOpZOBNwspCmroVyo24LJQl2zYvAp2MAmpY.', '2016-04-05 20:44:36', '2016-04-05 20:44:36', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 20:44:36', '2016-04-05 20:44:36', 980190962)[0m
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[35m (0.4ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (28.6ms)
  Rendered links/partials/_popular_links.html.erb (0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (6.0ms)
  Rendered links/partials/_recent.html.erb (0.6ms)
  Rendered pages/index.html.erb within layouts/application (49.0ms)
  Rendered shared/_nav_bar.html.erb (1.5ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 82ms (Views: 67.2ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (1.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-05 20:46:33', '2016-04-05 20:46:33', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$uz4Tw1FzlnEZ97WaC3WnaOZekfbKdDARHhCAEYaJ3Z.CjdgQJ09FK', '2016-04-05 20:46:33', '2016-04-05 20:46:33', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$w4AsKCmjU0c45vcTeTRf1ewhrPaeP9mzy1DB1ae2.Xmmi3Svh5TOu', '2016-04-05 20:46:33', '2016-04-05 20:46:33', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 20:46:33', '2016-04-05 20:46:33', 980190962)[0m
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (24.4ms)
  Rendered links/partials/_popular_links.html.erb (0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (4.5ms)
  Rendered links/partials/_recent.html.erb (0.6ms)
  Rendered pages/index.html.erb within layouts/application (46.3ms)
  Rendered shared/_nav_bar.html.erb (1.5ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 76ms (Views: 63.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-05 20:47:08', '2016-04-05 20:47:08', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$dUpMbIr5Q4NnA3G79EtQOuEcdCOqhTjmTCMd/D7oR/T0jvDAXGqv6', '2016-04-05 20:47:08', '2016-04-05 20:47:08', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$VHs5.vfUHgXhs5rarXdGae3VQFxN0ufHIO/.ybkRBNeyGFyj/I7wq', '2016-04-05 20:47:08', '2016-04-05 20:47:08', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 20:47:08', '2016-04-05 20:47:08', 980190962)[0m
  [1m[35m (2.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[35m (0.3ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (33.3ms)
  Rendered links/partials/_popular_links.html.erb (0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (4.4ms)
  Rendered links/partials/_recent.html.erb (0.5ms)
  Rendered pages/index.html.erb within layouts/application (51.3ms)
  Rendered shared/_nav_bar.html.erb (1.4ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 83ms (Views: 71.5ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------
PagesControllerTest: test_about
-------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mLink Load (1.8ms)[0m  [1mSELECT "links".* FROM "links"[0m
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links"  ORDER BY "links"."id" ASC LIMIT 1
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links".* FROM "links"  ORDER BY "links"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36mLink Load (0.4ms)[0m  [1mSELECT  "links".* FROM "links"  ORDER BY "links"."id" ASC LIMIT 1[0m
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links"  ORDER BY "links"."id" ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "links" SET "short" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["short", "g2NYJw"], ["updated_at", "2016-04-05 20:49:27.105570"], ["id", 980190962]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links"  ORDER BY "links"."id" ASC LIMIT 1
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-05 21:02:57', '2016-04-05 21:02:57', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$E5VfuejZgNUNfhLOZgHypOBMm0wSs62rrdwh0leokGhTG/Oq5icZ6', '2016-04-05 21:02:57', '2016-04-05 21:02:57', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$jZHng69M5fjcbxG3S3tMiu1HFV0WHgTHeIgungpTkIJVddqtPsi5.', '2016-04-05 21:02:57', '2016-04-05 21:02:57', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 21:02:57', '2016-04-05 21:02:57', 980190962)[0m
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
RedirectControllerTest: test_redirects_to_actual_url
----------------------------------------------------
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjkds"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "dsfjkds"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 9ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-05 21:03:34', '2016-04-05 21:03:34', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$WucjXNUSYq1/T7.A3TMjw.MS4RoKh.vnK3s6YWVHnCaRCEDdeSVqm', '2016-04-05 21:03:34', '2016-04-05 21:03:34', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$.AvEYuKAGnwSQhjepWQSS.JdGVCux0FPxvTM0C.7XQrvRZfnvT/Ri', '2016-04-05 21:03:34', '2016-04-05 21:03:34', 980190962)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 21:03:34', '2016-04-05 21:03:34', 980190962)[0m
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
RedirectControllerTest: test_redirects_to_actual_url
----------------------------------------------------
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"g2NYJw"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "g2NYJw"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 9ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-05 21:06:16', '2016-04-05 21:06:16', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$S3jXBx1ZXFtDxsX9fdD3nOq3dPWn/VWfzZF9egL1yQMtvfBTwBbMG', '2016-04-05 21:06:16', '2016-04-05 21:06:16', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$8YM0szIc4mIndGrK5krXouk9oBMhuZ52wYAOcHpPwKtDzoygzLt1S', '2016-04-05 21:06:16', '2016-04-05 21:06:16', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 21:06:16', '2016-04-05 21:06:16', 980190962)[0m
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
RedirectControllerTest: test_redirects_to_actual_url
----------------------------------------------------
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"g2NYJw"}
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "g2NYJw"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 10ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-05 21:06:31', '2016-04-05 21:06:31', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$pAurPOtPP5xX4DuXxq8mC.2XIRQ6p8EpT9y5ypCk1KI9G/ungra3a', '2016-04-05 21:06:31', '2016-04-05 21:06:31', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$70OgV3MFZmIOGKJyKDkySOrfBj61/usjJVO9j.EoVmD3uU.DFDzEe', '2016-04-05 21:06:31', '2016-04-05 21:06:31', 980190962)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 21:06:31', '2016-04-05 21:06:31', 980190962)[0m
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
RegistrationsControllerTest: test_should_create_user
----------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-05 21:10:45', '2016-04-05 21:10:45', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$iu8dsywEfLggq5eAi/DLV.83Bek7kE9nUl0UhFbKplgpzQ2DfKubC', '2016-04-05 21:10:45', '2016-04-05 21:10:45', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$JglaACEkvfrccFlkd5sUROsfrUDbFkzOUIvzPEJ.Fv/.dxbfh4ZfG', '2016-04-05 21:10:45', '2016-04-05 21:10:45', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 21:10:45', '2016-04-05 21:10:45', 980190962)[0m
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_homepage
-----------------------------------------------------
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-05 21:11:23', '2016-04-05 21:11:23', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$3eYAvhGlzz6vZu89Emp.b.1v2XHnwkAd39nLjZu48tS0cvITSLNRy', '2016-04-05 21:11:23', '2016-04-05 21:11:23', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$nzwva9VW.Ge6JNQrzM1HHuS8yNH.xoE7TdnVA04xTofJ8SRLI.4YC', '2016-04-05 21:11:23', '2016-04-05 21:11:23', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 21:11:23', '2016-04-05 21:11:23', 980190962)[0m
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_homepage
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-05 21:11:48', '2016-04-05 21:11:48', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$MNk65T4fsAtAPngvUnEQeelIdqNFXFAHGEe9gmL9VHWgsNQbdboAm', '2016-04-05 21:11:48', '2016-04-05 21:11:48', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$XrLv4ElHYuCdxr2d5DDC/OCfWQzHhDaHLEu7xHCSlbKiNG3pOV0K2', '2016-04-05 21:11:48', '2016-04-05 21:11:48', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 21:11:48', '2016-04-05 21:11:48', 980190962)[0m
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_homepage
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-05 21:12:07', '2016-04-05 21:12:07', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$7IS8FUcAnGPtG5iUOI4/q.MdLdMuciwED65tbEcPK1H//yrmai1Ju', '2016-04-05 21:12:07', '2016-04-05 21:12:07', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$xt9FtPQXHaZP6VfcQwf/rOcegMQXAi7ew75iRXxuo24j4SC0sl//K', '2016-04-05 21:12:07', '2016-04-05 21:12:07', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 21:12:07', '2016-04-05 21:12:07', 980190962)[0m
  [1m[35m (2.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_homepage
-----------------------------------------------------
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-05 21:13:31', '2016-04-05 21:13:31', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$ZSUa5b1IuRdn20kF7K3VOO/tnYu9jYrwhkcx0Bz496ocJ23jycC8u', '2016-04-05 21:13:31', '2016-04-05 21:13:31', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$vOjjJR3gXhU2wtiFkqP8euF/JBF01g.qTZSWpaNfIC97gGAbff5UK', '2016-04-05 21:13:31', '2016-04-05 21:13:31', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 21:13:31', '2016-04-05 21:13:31', 980190962)[0m
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_homepage
-----------------------------------------------------
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-05 21:14:24', '2016-04-05 21:14:24', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$vsD9Z/H4wFIUAonvldOTn.yY9t5k2ITqKQOjroIJmQrINgNVfoU1e', '2016-04-05 21:14:24', '2016-04-05 21:14:24', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$KAc4KM.Xqfijt/lRsdpBBOXogBlnWJaycIvnarc9B2VZfRmETSjfW', '2016-04-05 21:14:24', '2016-04-05 21:14:24', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 21:14:24', '2016-04-05 21:14:24', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_homepage
-----------------------------------------------------
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[35mLink Load (0.4ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 11ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-05 21:15:09', '2016-04-05 21:15:09', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$m.6FjxzNIBvDk0O9p8t/XOpmKDiGSqKS6bTATWggKOh1lxEcQFcXe', '2016-04-05 21:15:09', '2016-04-05 21:15:09', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$AuONQHFhErQu0LNChwsqSOw1fSeor.feIMrKXFF.FYJiLia0VbLjC', '2016-04-05 21:15:09', '2016-04-05 21:15:09', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 21:15:09', '2016-04-05 21:15:09', 980190962)[0m
  [1m[35m (2.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_homepage
-----------------------------------------------------
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 10ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-05 21:16:59', '2016-04-05 21:16:59', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$bW45rRQGXeDk/DUdANgVue0z04pQDOk./wjUNiloDaRSK8SsFq71a', '2016-04-05 21:16:59', '2016-04-05 21:16:59', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$TEknAS2LLpLqFZoFeU.yZuuUPvhS8q09tDNE2/wCUGMIJfMnm/ykO', '2016-04-05 21:16:59', '2016-04-05 21:16:59', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 21:16:59', '2016-04-05 21:16:59', 980190962)[0m
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_homepage
-----------------------------------------------------
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 11ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-05 21:17:16', '2016-04-05 21:17:16', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$vjbnDPDCwV6ObZJ86bWbKO/l7UdjiyhzGGzOHYYzz22VGvkBucn/W', '2016-04-05 21:17:16', '2016-04-05 21:17:16', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$xtW6nTNXonJBF9PnEj31AeoLHJCYcYeO16OUxTcRffSzrg9vT6Rzu', '2016-04-05 21:17:16', '2016-04-05 21:17:16', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 21:17:16', '2016-04-05 21:17:16', 980190962)[0m
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_homepage
-----------------------------------------------------
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 9ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://www.youtube.com/watch?v=eQv0jBMzZ1A', '', '2016-04-05 21:17:59', '2016-04-05 21:17:59', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$BhPFtULA.HvgaZhqMkfq.e1phAoI3ffo9M5a8BD2f1KGU.C0gVB4.', '2016-04-05 21:17:59', '2016-04-05 21:17:59', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$4grCm6R3RP/xM2SYH3WQNO8QRrNVVQHw4G2sJQSHbwBteyM0Czfzi', '2016-04-05 21:17:59', '2016-04-05 21:17:59', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 21:17:59', '2016-04-05 21:17:59', 980190962)[0m
  [1m[35m (2.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_homepage
-----------------------------------------------------
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[35mLink Load (0.5ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 10ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links"  ORDER BY "links"."id" ASC LIMIT 1[0m
  [1m[35mLink Load (0.4ms)[0m  SELECT "links".* FROM "links"
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-05 21:25:12', '2016-04-05 21:25:12', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$bDY0uTmWkhUbPiwvJDy44OnRRTVcYM9fmGQAbGWHQNknSiZsvBigq', '2016-04-05 21:25:12', '2016-04-05 21:25:12', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$ZjY/3/A1gIDZxPoQydrc0.KUfRS/rynRNF/ZXc2F061auUxCFbJ2m', '2016-04-05 21:25:12', '2016-04-05 21:25:12', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 21:25:12', '2016-04-05 21:25:12', 980190962)[0m
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[35m (0.3ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (23.3ms)
  Rendered links/partials/_popular_links.html.erb (0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (4.5ms)
  Rendered links/partials/_recent.html.erb (0.5ms)
  Rendered pages/index.html.erb within layouts/application (40.4ms)
  Rendered shared/_nav_bar.html.erb (1.5ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 71ms (Views: 58.9ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "hWpivJGs7yE92LtPNeu7"]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["authentication_token", "hWpivJGs7yE92LtPNeu7"], ["updated_at", "2016-04-05 21:25:13.091448"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.4ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mVisit Load (0.3ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/_form.html.erb (34.2ms)
  Rendered visits/edit.html.erb within layouts/application (37.9ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 87ms (Views: 66.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.0ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (0.9ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[36mVisit Load (0.0ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "visits" WHERE "visits"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (3.7ms)
  Rendered visits/new.html.erb within layouts/application (5.3ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 10.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["link_id", 980190962], ["created_at", "2016-04-05 21:25:13.275805"], ["updated_at", "2016-04-05 21:25:13.275805"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT "visits".* FROM "visits"[0m
  Rendered visits/index.html.erb within layouts/application (2.0ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
RedirectControllerTest: test_
-----------------------------
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>""}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", ""]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
VisitTest: test_valid
---------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-05 21:25:13.348544"], ["updated_at", "2016-04-05 21:25:13.348544"], ["short", "JTnw0g"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (6.4ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 15ms (Views: 13.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-05 21:25:13.374374"], ["updated_at", "2016-04-05 21:25:13.374374"], ["short", "sCVGPg"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"sCVGPg", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/links/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-05 21:25:13.385035"], ["updated_at", "2016-04-05 21:25:13.385035"], ["short", "rD0srw"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.2ms)
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/new.html.erb within layouts/application (4.0ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-05 21:25:13.400945"], ["updated_at", "2016-04-05 21:25:13.400945"], ["short", "kEhq9A"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  [1m[36mVisit Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1[0m  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (24.3ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 32ms (Views: 29.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-05 21:25:13.441207"], ["updated_at", "2016-04-05 21:25:13.441207"], ["short", "JjI6Cw"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "links" WHERE "links"."id" = ?  [["id", 980190963]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-05 21:25:13.454893"], ["updated_at", "2016-04-05 21:25:13.454893"], ["short", "OFw04Q"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (4.6ms)
  Rendered links/edit.html.erb within layouts/application (6.3ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 9.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-05 21:25:13.471758"], ["updated_at", "2016-04-05 21:25:13.471758"], ["short", "gTjmJQ"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"gTjmJQ", "user_id"=>"980190962"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "gTjmJQ"], ["created_at", "2016-04-05 21:25:13.479119"], ["updated_at", "2016-04-05 21:25:13.479119"]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links"  ORDER BY "links"."id" ASC LIMIT 1[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-05 21:32:32', '2016-04-05 21:32:32', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$hkX/BzVD/pfeusKnrpAan.bC1gm/a7c.W7ITC8NzhyVsqMbVhOOai', '2016-04-05 21:32:32', '2016-04-05 21:32:32', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$CimcXSeQQ2BPXRIWVj9RS.E3ut1IXo0NymjU6mnJQb.rrUS/p74Je', '2016-04-05 21:32:32', '2016-04-05 21:32:32', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 21:32:32', '2016-04-05 21:32:32', 980190962)[0m
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_actual_url
-------------------------------------------------------
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "custom"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?[0m  [["click_count", 1], ["updated_at", "2016-04-05 21:32:32.415629"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-05 21:32:32.437841"], ["updated_at", "2016-04-05 21:32:32.437841"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to https://google.com.ng
Completed 302 Found in 65ms (ActiveRecord: 0.9ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links"  ORDER BY "links"."id" ASC LIMIT 1[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-05 21:35:48', '2016-04-05 21:35:48', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$v0SClmJMR2HtSaF2vSfV4usN5M5kLFrEM7us/mbnkPI/2Jbg4jKhO', '2016-04-05 21:35:48', '2016-04-05 21:35:48', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$yMEBb5.O4O7CASVGVAq1d.XafGq1uHltbxWLJxJowHYCMum0QrMui', '2016-04-05 21:35:48', '2016-04-05 21:35:48', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 21:35:48', '2016-04-05 21:35:48', 980190962)[0m
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "custom"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?[0m  [["click_count", 1], ["updated_at", "2016-04-05 21:35:48.714167"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-05 21:35:48.725875"], ["updated_at", "2016-04-05 21:35:48.725875"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to https://google.com.ng
Completed 302 Found in 24ms (ActiveRecord: 1.2ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "custom"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?[0m  [["click_count", 1], ["updated_at", "2016-04-05 21:35:48.733870"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-05 21:35:48.736033"], ["updated_at", "2016-04-05 21:35:48.736033"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to https://google.com.ng
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links"  ORDER BY "links"."id" ASC LIMIT 1[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-05 21:38:02', '2016-04-05 21:38:02', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$R30qY2gJOldV4RBT8UNv0.aqMxZhiVQUfgZqEQHl/PrIMwYnASeri', '2016-04-05 21:38:02', '2016-04-05 21:38:02', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$IqQaUNa6IIk/DZlAEVyd0.4u31y83ibLje7KbAyl7/6De9a8yCCJq', '2016-04-05 21:38:02', '2016-04-05 21:38:02', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 21:38:02', '2016-04-05 21:38:02', 980190962)[0m
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["active", "f"], ["updated_at", "2016-04-05 21:38:02.743726"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["click_count", 1], ["updated_at", "2016-04-05 21:38:02.765235"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-05 21:38:02.775830"], ["updated_at", "2016-04-05 21:38:02.775830"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to https://google.com.ng
Completed 302 Found in 14ms (ActiveRecord: 0.8ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-05 21:39:13', '2016-04-05 21:39:13', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$NKPGVIUYQuVGW63Mwu/RPepd8Sdtry1beHikDSVfl9cONCjZDZLwO', '2016-04-05 21:39:13', '2016-04-05 21:39:13', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$Aw7NUQLhvxYJP7zX5xqzr.Hf9musw9ZsKMd7XXiVDJRVl2YTtZmSa', '2016-04-05 21:39:13', '2016-04-05 21:39:13', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 21:39:13', '2016-04-05 21:39:13', 980190962)[0m
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "custom"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?[0m  [["click_count", 1], ["updated_at", "2016-04-05 21:39:13.214340"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-05 21:39:13.225415"], ["updated_at", "2016-04-05 21:39:13.225415"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to https://google.com.ng
Completed 302 Found in 21ms (ActiveRecord: 0.9ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["active", "f"], ["updated_at", "2016-04-05 21:39:13.231316"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-05 21:41:00', '2016-04-05 21:41:00', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$LnDS9BKOBzmhjm3pDV4w9up7YZ1zZuwvqFQzzR2sRVg650aXqQNla', '2016-04-05 21:41:00', '2016-04-05 21:41:00', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$b.JJJnOrSEdXG2zZPtWcLOlb8iCzdXZXc9C0N.AUUZWFhcAOebos2', '2016-04-05 21:41:00', '2016-04-05 21:41:00', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 21:41:00', '2016-04-05 21:41:00', 980190962)[0m
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-05 21:41:00.054363"], ["updated_at", "2016-04-05 21:41:00.054363"], ["short", "EbTaQw"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "links" WHERE "links"."id" = ?  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/dashboard
Completed 302 Found in 8ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-05 21:41:00.129745"], ["updated_at", "2016-04-05 21:41:00.129745"], ["short", "WtIdwQ"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"WtIdwQ", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/links/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-05 21:41:00.142337"], ["updated_at", "2016-04-05 21:41:00.142337"], ["short", "d1LK8g"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (125.8ms)
  Rendered shared/_nav_bar.html.erb (1.3ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 257ms (Views: 230.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-05 21:41:00.406569"], ["updated_at", "2016-04-05 21:41:00.406569"], ["short", "CKEUHA"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  Rendered links/partials/_form.html.erb (33.9ms)
  Rendered links/edit.html.erb within layouts/application (50.0ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 55ms (Views: 53.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-05 21:41:00.468857"], ["updated_at", "2016-04-05 21:41:00.468857"], ["short", "BCQqzw"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.7ms)
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/new.html.erb within layouts/application (2.7ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-05 21:41:00.484492"], ["updated_at", "2016-04-05 21:41:00.484492"], ["short", "SKlOgQ"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  [1m[36mVisit Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1[0m  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (29.0ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 35ms (Views: 33.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-05 21:41:00.527510"], ["updated_at", "2016-04-05 21:41:00.527510"], ["short", "3T6cEw"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"3T6cEw", "user_id"=>"980190962"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "3T6cEw"], ["created_at", "2016-04-05 21:41:00.536777"], ["updated_at", "2016-04-05 21:41:00.536777"]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["link_id", 980190962], ["created_at", "2016-04-05 21:41:00.581565"], ["updated_at", "2016-04-05 21:41:00.581565"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190963
Completed 302 Found in 8ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[35mVisit Load (0.1ms)[0m  SELECT "visits".* FROM "visits"
  Rendered visits/index.html.erb within layouts/application (2.2ms)
  Rendered shared/_nav_bar.html.erb (25.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 48ms (Views: 47.5ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (1.0ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 5.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (18.9ms)
  Rendered visits/new.html.erb within layouts/application (21.6ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 26ms (Views: 26.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "visits" WHERE "visits"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/_form.html.erb (3.3ms)
  Rendered visits/edit.html.erb within layouts/application (4.4ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 9.5ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.5ms)
  Rendered links/partials/_popular_links.html.erb (0.8ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (5.5ms)
  Rendered links/partials/_recent.html.erb (0.7ms)
  Rendered pages/index.html.erb within layouts/application (37.1ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 57ms (Views: 53.7ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------
VisitTest: test_valid
---------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["active", "f"], ["updated_at", "2016-04-05 21:41:00.821823"], ["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["click_count", 1], ["updated_at", "2016-04-05 21:41:00.833888"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-05 21:41:00.840148"], ["updated_at", "2016-04-05 21:41:00.840148"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to https://google.com.ng
Completed 302 Found in 11ms (ActiveRecord: 1.3ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?  [["authentication_token", "MUbFhyzD4P-PxEF2tbrH"]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["authentication_token", "MUbFhyzD4P-PxEF2tbrH"], ["updated_at", "2016-04-05 21:41:00.864765"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-05 21:41:35', '2016-04-05 21:41:35', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$LPSAFidJ0hrkcrwQF9TnWuWDIvq8EynaHxWCgavCkEjtbGU0uhwIG', '2016-04-05 21:41:35', '2016-04-05 21:41:35', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$SLSxYtlE6sNbmRkaWpKhtOT28RLDBYjh.B6KWe.ywWU46nSThZisa', '2016-04-05 21:41:35', '2016-04-05 21:41:35', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 21:41:35', '2016-04-05 21:41:35', 980190962)[0m
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------
VisitTest: test_valid
---------------------
  [1m[35mVisit Load (0.3ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-05 21:41:35.720625"], ["updated_at", "2016-04-05 21:41:35.720625"], ["short", "vV_l0A"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.7ms)
  [1m[36mVisit Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1[0m  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (29.6ms)
  Rendered shared/_nav_bar.html.erb (1.5ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 58ms (Views: 51.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-05 21:41:35.794165"], ["updated_at", "2016-04-05 21:41:35.794165"], ["short", "j3Gnpw"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  Rendered links/partials/_form.html.erb (20.9ms)
  Rendered links/new.html.erb within layouts/application (24.6ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 32ms (Views: 28.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-05 21:41:35.834585"], ["updated_at", "2016-04-05 21:41:35.834585"], ["short", "9HYqSg"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.7ms)
  Rendered links/partials/_form.html.erb (4.2ms)
  Rendered links/edit.html.erb within layouts/application (6.6ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 13ms (Views: 11.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-05 21:41:35.856226"], ["updated_at", "2016-04-05 21:41:35.856226"], ["short", "FY00JA"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.8ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (4.9ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 9.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-05 21:41:35.875378"], ["updated_at", "2016-04-05 21:41:35.875378"], ["short", "BnbhZg"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"BnbhZg", "user_id"=>"980190962"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "BnbhZg"], ["created_at", "2016-04-05 21:41:35.884087"], ["updated_at", "2016-04-05 21:41:35.884087"]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-05 21:41:35.891953"], ["updated_at", "2016-04-05 21:41:35.891953"], ["short", "KGYA9w"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"KGYA9w", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/links/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-05 21:41:35.906402"], ["updated_at", "2016-04-05 21:41:35.906402"], ["short", "Zo6MEw"]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "links" WHERE "links"."id" = ?[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/dashboard
Completed 302 Found in 7ms (ActiveRecord: 1.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (10.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.0ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (1.0ms)
  Rendered shared/_nav_bar.html.erb (7.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "visits" WHERE "visits"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (8.3ms)
  Rendered visits/new.html.erb within layouts/application (12.1ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 17ms (Views: 16.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT "visits".* FROM "visits"[0m
  Rendered visits/index.html.erb within layouts/application (1.9ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/_form.html.erb (2.9ms)
  Rendered visits/edit.html.erb within layouts/application (4.0ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 7.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["link_id", 980190962], ["created_at", "2016-04-05 21:41:36.017193"], ["updated_at", "2016-04-05 21:41:36.017193"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["active", "f"], ["updated_at", "2016-04-05 21:41:36.025969"], ["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["click_count", 1], ["updated_at", "2016-04-05 21:41:36.037178"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-05 21:41:36.040902"], ["updated_at", "2016-04-05 21:41:36.040902"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to https://google.com.ng
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?  [["authentication_token", "pf-w7Fjvbr6zzg2WU9m2"]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["authentication_token", "pf-w7Fjvbr6zzg2WU9m2"], ["updated_at", "2016-04-05 21:41:36.063630"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.3ms)
  Rendered links/partials/_popular_links.html.erb (0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (4.8ms)
  Rendered links/partials/_recent.html.erb (0.7ms)
  Rendered pages/index.html.erb within layouts/application (14.3ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 23ms (Views: 20.9ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (14.6ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-05 22:12:18', '2016-04-05 22:12:18', 980190962)
  [1m[36mFixture Delete (1.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$mROGeZyprirZckSDekwXvOw8lJCQ.fC79UK5KTU826KljPrOKokfC', '2016-04-05 22:12:18', '2016-04-05 22:12:18', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$hLECSKg97.oRnZQXhK2S8.pqMRBjaKnvA3p78UAx78K3KMJTiVLOC', '2016-04-05 22:12:18', '2016-04-05 22:12:18', 980190962)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 22:12:18', '2016-04-05 22:12:18', 980190962)[0m
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
Visitor: test_visit_about_page
------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-05 23:12:18 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (11.8ms)
  Rendered shared/_nav_bar.html.erb (10.5ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 210ms (Views: 171.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mFixture Delete (13.7ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-05 22:13:49', '2016-04-05 22:13:49', 980190962)
  [1m[36mFixture Delete (1.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$8LnXWe7f50zwJIqOyYi.q.4fWEpu6S1h6FSdoVmh7SJgCItGRz7om', '2016-04-05 22:13:49', '2016-04-05 22:13:49', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$SWi9FOgjVuneIMG3mmkS7.gp.rN5QFwjiChFUxp8vyVEaRABYwKJy', '2016-04-05 22:13:49', '2016-04-05 22:13:49', 980190962)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 22:13:49', '2016-04-05 22:13:49', 980190962)[0m
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
Visitor: test_visit_about_page
------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-05 23:13:49 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (11.9ms)
  Rendered shared/_nav_bar.html.erb (5.2ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 191ms (Views: 152.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mFixture Delete (14.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-05 22:19:37', '2016-04-05 22:19:37', 980190962)
  [1m[36mFixture Delete (1.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$p8sc85UlhMyTYTn0qDMeJ.mRKV14vsyOSobUH5I.j5VBMEuAjIOH2', '2016-04-05 22:19:37', '2016-04-05 22:19:37', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$CGI6P8jTc7w./RxK1XUAIOVNtHWLPx9Snc8h4PviCSjB.gkV9aA8K', '2016-04-05 22:19:37', '2016-04-05 22:19:37', 980190962)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 22:19:37', '2016-04-05 22:19:37', 980190962)[0m
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-05 23:19:37 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (169.7ms)
  Rendered links/partials/_popular_links.html.erb (1.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (8.3ms)
  Rendered links/partials/_recent.html.erb (1.3ms)
  Rendered pages/index.html.erb within layouts/application (277.6ms)
  Rendered shared/_nav_bar.html.erb (2.0ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 424ms (Views: 376.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (14.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-05 22:20:02', '2016-04-05 22:20:02', 980190962)
  [1m[36mFixture Delete (1.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$DbUfqzzL.eSQrNqMnlkfg.b8n7YBo.cYnyo/zidwYTt2y94yvuVte', '2016-04-05 22:20:02', '2016-04-05 22:20:02', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$6pTd7HT46HgMU/ULxNE7ce1QYNOgRdyCV./iuoMmX5sAZWckA6HNG', '2016-04-05 22:20:02', '2016-04-05 22:20:02', 980190962)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 22:20:02', '2016-04-05 22:20:02', 980190962)[0m
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-05 23:20:02 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (191.8ms)
  Rendered links/partials/_popular_links.html.erb (1.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (7.2ms)
  Rendered links/partials/_recent.html.erb (1.4ms)
  Rendered pages/index.html.erb within layouts/application (303.7ms)
  Rendered shared/_nav_bar.html.erb (2.4ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 446ms (Views: 398.5ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (15.9ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-05 22:21:02', '2016-04-05 22:21:02', 980190962)
  [1m[36mFixture Delete (1.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$sJ0rfi4DPzclNPOZIwD8ku9Q9brDYY2p39A/3DiBfooOcur9dpuRC', '2016-04-05 22:21:02', '2016-04-05 22:21:02', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$uMnGQG7FNuXe2koGYhp3sO5XyKM9S3giXQ7X.JJbtqAMMj5zzPic6', '2016-04-05 22:21:02', '2016-04-05 22:21:02', 980190962)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 22:21:02', '2016-04-05 22:21:02', 980190962)[0m
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-05 23:21:02 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (168.4ms)
  Rendered links/partials/_popular_links.html.erb (1.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (7.8ms)
  Rendered links/partials/_recent.html.erb (1.2ms)
  Rendered pages/index.html.erb within layouts/application (278.7ms)
  Rendered shared/_nav_bar.html.erb (2.1ms)
  Rendered shared/_footer.html.erb (0.7ms)
Completed 200 OK in 436ms (Views: 387.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (14.0ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-05 22:22:55', '2016-04-05 22:22:55', 980190962)
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$OCpXKqgRZ0PKJqR3zXgr3O2g35eSrl2rY7XKy6.tX5iuf966OVyEO', '2016-04-05 22:22:55', '2016-04-05 22:22:55', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$kUzxGV1cdGPj8uQ8qoti7OoSgNc.uaLyfCqKziF8BRnhwA3UuXfT6', '2016-04-05 22:22:55', '2016-04-05 22:22:55', 980190962)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 22:22:55', '2016-04-05 22:22:55', 980190962)[0m
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-05 23:22:55 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (178.5ms)
  Rendered links/partials/_popular_links.html.erb (1.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (7.1ms)
  Rendered links/partials/_recent.html.erb (1.5ms)
  Rendered pages/index.html.erb within layouts/application (311.7ms)
  Rendered shared/_nav_bar.html.erb (2.3ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 494ms (Views: 418.5ms | ActiveRecord: 0.7ms)
Started POST "/links" for 127.0.0.1 at 2016-04-05 23:22:56 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2016-04-05 23:22:56 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.4ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (2.0ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.4ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (16.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-05 22:28:41', '2016-04-05 22:28:41', 980190962)
  [1m[36mFixture Delete (1.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$LvcAlE8pb5b98XSR7jA2KuQZT4V3XdLalX85UjrcouAqQ5fNrYRRe', '2016-04-05 22:28:41', '2016-04-05 22:28:41', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$HYeYS3CS4rxolRuwD/NolOaoAU7SZkJuZLXlT5WjlmEqbrYvnGz9S', '2016-04-05 22:28:41', '2016-04-05 22:28:41', 980190962)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 22:28:41', '2016-04-05 22:28:41', 980190962)[0m
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-05 22:31:31', '2016-04-05 22:31:31', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$7GZfQmmDPoo1TmESpv2fDOjGRTXeiuTE6v2koyGiZkGmBN1yoog6i', '2016-04-05 22:31:31', '2016-04-05 22:31:31', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$L89BcWrRRJMxERfJivspTeTwlv22XIMt8Pmug2cz4znxHsq5NGhH.', '2016-04-05 22:31:31', '2016-04-05 22:31:31', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 22:31:31', '2016-04-05 22:31:31', 980190962)[0m
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-05 23:31:31 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (169.7ms)
  Rendered links/partials/_popular_links.html.erb (1.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (5.2ms)
  Rendered links/partials/_recent.html.erb (1.4ms)
  Rendered pages/index.html.erb within layouts/application (266.9ms)
  Rendered shared/_nav_bar.html.erb (2.0ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 433ms (Views: 378.7ms | ActiveRecord: 0.6ms)
Started POST "/links" for 127.0.0.1 at 2016-04-05 23:31:31 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2016-04-05 23:31:31 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.7ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (3.7ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-05 22:40:26', '2016-04-05 22:40:26', 980190962)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$q0TgxJsfZbUMe2juRtUxa.Fv4mbBFZnLtv3JgtDxIfcmWRSUkwuT2', '2016-04-05 22:40:26', '2016-04-05 22:40:26', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$V4TR31XW7iwbgdhwgTZAL.SYqO03nkF8oyPRdeJtmVT.OhGyC9MTq', '2016-04-05 22:40:26', '2016-04-05 22:40:26', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 22:40:26', '2016-04-05 22:40:26', 980190962)[0m
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-05 23:40:26 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (21.3ms)
  Rendered links/partials/_popular_links.html.erb (0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (5.5ms)
  Rendered links/partials/_recent.html.erb (0.5ms)
  Rendered pages/index.html.erb within layouts/application (40.9ms)
  Rendered shared/_nav_bar.html.erb (1.9ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 91ms (Views: 65.3ms | ActiveRecord: 0.7ms)
Started POST "/links" for 127.0.0.1 at 2016-04-05 23:40:26 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2016-04-05 23:40:26 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.3ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-05 22:40:51', '2016-04-05 22:40:51', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$hM6ha72xMrOwzjsfaQhAtOsYPIIV78PFEesq8z.HrMC5d/ZYvSwze', '2016-04-05 22:40:51', '2016-04-05 22:40:51', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$1NIxXZUuRERrnyt889DPxeQuYqinWI.LlVHL5HFZIj89n0s84nm5K', '2016-04-05 22:40:51', '2016-04-05 22:40:51', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 22:40:51', '2016-04-05 22:40:51', 980190962)[0m
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-05 23:40:51 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (22.9ms)
  Rendered links/partials/_popular_links.html.erb (0.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (5.4ms)
  Rendered links/partials/_recent.html.erb (0.6ms)
  Rendered pages/index.html.erb within layouts/application (45.7ms)
  Rendered shared/_nav_bar.html.erb (1.5ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 90ms (Views: 68.0ms | ActiveRecord: 0.7ms)
Started POST "/links" for 127.0.0.1 at 2016-04-05 23:40:51 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2016-04-05 23:40:51 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.6ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.5ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 4.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-05 22:41:11', '2016-04-05 22:41:11', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$XEww6q788y/8ql57Dw2ccurdqjJw9eK2EwK4qG7SBChWo74rZRN4m', '2016-04-05 22:41:11', '2016-04-05 22:41:11', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$jaooorf9W5BrRX9ao3s8hOQij8vYE5tobAyMQhr/N2m5VrS5fwaJW', '2016-04-05 22:41:11', '2016-04-05 22:41:11', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 22:41:11', '2016-04-05 22:41:11', 980190962)[0m
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-05 23:41:11 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.3ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (24.5ms)
  Rendered links/partials/_popular_links.html.erb (0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (4.7ms)
  Rendered links/partials/_recent.html.erb (0.5ms)
  Rendered pages/index.html.erb within layouts/application (42.0ms)
  Rendered shared/_nav_bar.html.erb (1.3ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 86ms (Views: 60.5ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-05 22:43:40', '2016-04-05 22:43:40', 980190962)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$p2JjXUe6w16esw3qvU1oj.N5fyh6tX4248ozjK1/Q1/05sBtxGyVe', '2016-04-05 22:43:40', '2016-04-05 22:43:40', 298486374)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$nssxmxHQROExH1YH5XJ0YuzyYFUbWgkgmIuUJpw99oUqbXQBxpNay', '2016-04-05 22:43:40', '2016-04-05 22:43:40', 980190962)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 22:43:40', '2016-04-05 22:43:40', 980190962)[0m
  [1m[35m (9.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
VisitorVisitsSite: test_see_popular_users
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-05 23:43:40 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (42.4ms)
  Rendered links/partials/_popular_links.html.erb (0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (4.7ms)
  Rendered links/partials/_recent.html.erb (0.6ms)
  Rendered pages/index.html.erb within layouts/application (60.9ms)
  Rendered shared/_nav_bar.html.erb (1.5ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 119ms (Views: 85.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-05 23:43:41 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.6ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (3.7ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 0.5ms)
Started POST "/links" for 127.0.0.1 at 2016-04-05 23:43:41 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2016-04-05 23:43:41 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (3.5ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (42.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-05 22:47:46', '2016-04-05 22:47:46', 980190962)
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$pCrr7a3YIIJPBrfA.AlbFe/Cp67Cb.avDWMazuet2AK4I1gb.EhfW', '2016-04-05 22:47:46', '2016-04-05 22:47:46', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$I9TzIlCqd9Vv1HLzGSA8PepLpIseGodL156dVFz.iNuTxxdIpk5LO', '2016-04-05 22:47:46', '2016-04-05 22:47:46', 980190962)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 22:47:46', '2016-04-05 22:47:46', 980190962)[0m
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-05 23:47:46 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (190.0ms)
  Rendered links/partials/_popular_links.html.erb (1.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (7.6ms)
  Rendered links/partials/_recent.html.erb (0.9ms)
  Rendered pages/index.html.erb within layouts/application (365.4ms)
  Rendered shared/_nav_bar.html.erb (3.0ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 557ms (Views: 485.9ms | ActiveRecord: 0.7ms)
Started POST "/links" for 127.0.0.1 at 2016-04-05 23:47:47 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2016-04-05 23:47:47 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.7ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.6ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
VisitorVisitsSite: test_see_popular_users
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-05 23:47:47 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (2.0ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.9ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (14.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-05 22:49:57', '2016-04-05 22:49:57', 980190962)
  [1m[36mFixture Delete (1.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$NODIFxnkpvmF9brobbPrLusLFP51Ps3cl5aOUEb6SfD7K26dCe54y', '2016-04-05 22:49:57', '2016-04-05 22:49:57', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$IMKcur3O9Vc.TWr3wKq8ruLHEyQ5dLuLux.ekp9mf34PIdxDrnvhi', '2016-04-05 22:49:57', '2016-04-05 22:49:57', 980190962)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 22:49:57', '2016-04-05 22:49:57', 980190962)[0m
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
VisitorVisitsSite: test_see_popular_users
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-05 23:49:57 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (167.7ms)
  Rendered links/partials/_popular_links.html.erb (1.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (8.5ms)
  Rendered links/partials/_recent.html.erb (0.7ms)
  Rendered pages/index.html.erb within layouts/application (287.5ms)
  Rendered shared/_nav_bar.html.erb (1.3ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 430ms (Views: 382.1ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-05 23:49:58 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.3ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.5ms)
Started POST "/links" for 127.0.0.1 at 2016-04-05 23:49:58 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2016-04-05 23:49:58 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.5ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (2.2ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (5.0ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (30.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (14.0ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-05 22:54:49', '2016-04-05 22:54:49', 980190962)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$8tpTRLwi53Qt9AJDDxMuB./t6hghDlUR5pREMGn/5axvTQTkQPQra', '2016-04-05 22:54:49', '2016-04-05 22:54:49', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$oeJfRtG5Y/L1Xlu5iwYPzucR3eGmhDRGQj5L8Oe2H7Brc25aYpfoa', '2016-04-05 22:54:49', '2016-04-05 22:54:49', 980190962)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 22:54:49', '2016-04-05 22:54:49', 980190962)[0m
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-05 23:54:49 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (168.2ms)
  Rendered links/partials/_popular_links.html.erb (1.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (7.5ms)
  Rendered links/partials/_recent.html.erb (1.3ms)
  Rendered pages/index.html.erb within layouts/application (277.7ms)
  Rendered shared/_nav_bar.html.erb (2.0ms)
  Rendered shared/_footer.html.erb (0.6ms)
Completed 200 OK in 437ms (Views: 389.9ms | ActiveRecord: 0.6ms)
Started POST "/links" for 127.0.0.1 at 2016-04-05 23:54:49 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2016-04-05 23:54:49 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.6ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.4ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
VisitorVisitsSite: test_see_popular_users
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-05 23:54:49 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.0ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (14.1ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-05 22:55:28', '2016-04-05 22:55:28', 980190962)
  [1m[36mFixture Delete (1.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$Gaa06n2ZHlO6ZuN2V18rB.O95AvNf27uz/8WcMGwrmRhJu89tAfLG', '2016-04-05 22:55:28', '2016-04-05 22:55:28', 298486374)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$qCOPcVdsvw27bVWlckA3nOzZHB3ZTUIES78XZLfI6IIRM.mYOAdZy', '2016-04-05 22:55:28', '2016-04-05 22:55:28', 980190962)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 22:55:28', '2016-04-05 22:55:28', 980190962)[0m
  [1m[35m (2.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
VisitorVisitsSite: test_see_popular_users
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-05 23:55:28 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (169.3ms)
  Rendered links/partials/_popular_links.html.erb (1.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (8.0ms)
  Rendered links/partials/_recent.html.erb (2.2ms)
  Rendered pages/index.html.erb within layouts/application (276.6ms)
  Rendered shared/_nav_bar.html.erb (2.4ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 414ms (Views: 366.9ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-05 23:55:29 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.3ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.5ms)
Started POST "/links" for 127.0.0.1 at 2016-04-05 23:55:29 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2016-04-05 23:55:29 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.2ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-05 22:56:11', '2016-04-05 22:56:11', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$SejMXpv4iGkRQNvWVKtAx.4qwljIWUeXb/t0iUpHJ1TcKWvAdmosC', '2016-04-05 22:56:11', '2016-04-05 22:56:11', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$qbfOWNjEhDyvsamZsR88O.G4m7WpG47TNxINM03B.c.VVjudDR.ze', '2016-04-05 22:56:11', '2016-04-05 22:56:11', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 22:56:11', '2016-04-05 22:56:11', 980190962)[0m
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
VisitorVisitsSite: test_see_popular_users
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-05 23:56:11 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (21.2ms)
  Rendered links/partials/_popular_links.html.erb (0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (4.6ms)
  Rendered links/partials/_recent.html.erb (0.6ms)
  Rendered pages/index.html.erb within layouts/application (38.5ms)
  Rendered shared/_nav_bar.html.erb (1.5ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 89ms (Views: 59.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-05 23:56:11 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.5ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (2.1ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.7ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 0.7ms)
Started POST "/links" for 127.0.0.1 at 2016-04-05 23:56:11 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2016-04-05 23:56:11 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (2.3ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (4.4ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-05 22:56:58', '2016-04-05 22:56:58', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$eFYMk4SyRDDCPSK7Zr9nxOf8d9MGRVLQjw6VbTBuz9ZyHJlBpdjUm', '2016-04-05 22:56:58', '2016-04-05 22:56:58', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$iGiUzeSYKCZj0//jhFvu1OE1.5im9eSYF/57PLy.1kJ3RYyv1ZAR2', '2016-04-05 22:56:58', '2016-04-05 22:56:58', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 22:56:58', '2016-04-05 22:56:58', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-05 23:56:58 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.3ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (23.8ms)
  Rendered links/partials/_popular_links.html.erb (0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (4.7ms)
  Rendered links/partials/_recent.html.erb (0.5ms)
  Rendered pages/index.html.erb within layouts/application (45.3ms)
  Rendered shared/_nav_bar.html.erb (1.3ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 85ms (Views: 63.5ms | ActiveRecord: 0.7ms)
Started POST "/links" for 127.0.0.1 at 2016-04-05 23:56:58 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2016-04-05 23:56:58 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.6ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.6ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 4.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
VisitorVisitsSite: test_see_popular_users
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-05 23:56:58 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.3ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.8ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (2.2ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (5.3ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 7.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-05 22:57:30', '2016-04-05 22:57:30', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$gRADv8WB7KY0f1qU/xq8SuxD/JQ4DzBp2xrykq4RSNWg.QpYK/JUC', '2016-04-05 22:57:30', '2016-04-05 22:57:30', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$uix5wINYa89hh1PNXtqsze9XqqOKAAO2k0d8lozMG9WBlVRgMBksy', '2016-04-05 22:57:30', '2016-04-05 22:57:30', 980190962)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 22:57:30', '2016-04-05 22:57:30', 980190962)[0m
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
VisitorVisitsSite: test_see_popular_users
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-05 23:57:30 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (23.4ms)
  Rendered links/partials/_popular_links.html.erb (0.7ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (5.2ms)
  Rendered links/partials/_recent.html.erb (0.6ms)
  Rendered pages/index.html.erb within layouts/application (42.6ms)
  Rendered shared/_nav_bar.html.erb (1.6ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 85ms (Views: 61.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-05 23:57:30 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (2.1ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.2ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 0.6ms)
Started POST "/links" for 127.0.0.1 at 2016-04-05 23:57:30 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2016-04-05 23:57:30 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.1ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-05 23:01:01', '2016-04-05 23:01:01', 980190962)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$DrQeuO8KaPGv.SJ87l/Uguuro/X2sy80nUhN4rGiMBD56V3jRq.Uq', '2016-04-05 23:01:01', '2016-04-05 23:01:01', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$0u29OcWTf9JGabw.AbY80O33j8p.ZRQ5w1D3qJvVig3BpjNjJIzqK', '2016-04-05 23:01:01', '2016-04-05 23:01:01', 980190962)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-05 23:01:01', '2016-04-05 23:01:01', 980190962)[0m
  [1m[35m (2.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 00:01:01 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (26.3ms)
  Rendered links/partials/_popular_links.html.erb (0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (4.9ms)
  Rendered links/partials/_recent.html.erb (0.6ms)
  Rendered pages/index.html.erb within layouts/application (44.7ms)
  Rendered shared/_nav_bar.html.erb (1.4ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 90ms (Views: 70.1ms | ActiveRecord: 0.6ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 00:01:01 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 00:01:01 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.5ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.8ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.2ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
VisitorVisitsSite: test_see_popular_users
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 00:01:01 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.3ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.6ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.7ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 06:28:44', '2016-04-06 06:28:44', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$Hgg.UUgCjZC7rpqvB4NPoOVyH7Y37kUy2.fC73dwF86MfXdd.4uXG', '2016-04-06 06:28:44', '2016-04-06 06:28:44', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$Zq8Mats5gKc1YkRAxSbByu7qawterNmVcHgBolrZQJUBBNxeEAJUe', '2016-04-06 06:28:44', '2016-04-06 06:28:44', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 06:28:44', '2016-04-06 06:28:44', 980190962)[0m
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
VisitorVisitsSite: test_see_popular_users
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:28:44 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (20.8ms)
  Rendered links/partials/_popular_links.html.erb (0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (4.4ms)
  Rendered links/partials/_recent.html.erb (0.5ms)
  Rendered pages/index.html.erb within layouts/application (37.9ms)
  Rendered shared/_nav_bar.html.erb (1.3ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 86ms (Views: 56.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:28:44 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.6ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (2.1ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (4.7ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 6.3ms | ActiveRecord: 0.7ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 07:28:44 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 07:28:44 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.9ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (2.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (5.5ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 06:29:37', '2016-04-06 06:29:37', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$wJekGhzjeHOR7vCMVBQwXOZJQDr.j3eP4Sok8ByMeZgy9tO.JWCL2', '2016-04-06 06:29:37', '2016-04-06 06:29:37', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$FzU5ck3W83v1zcFED/vgX.MBsh2yRgPz7gL3S/fbmzwmckQNAk41i', '2016-04-06 06:29:37', '2016-04-06 06:29:37', 980190962)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 06:29:37', '2016-04-06 06:29:37', 980190962)[0m
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:29:37 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (24.2ms)
  Rendered links/partials/_popular_links.html.erb (0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (5.4ms)
  Rendered links/partials/_recent.html.erb (0.5ms)
  Rendered pages/index.html.erb within layouts/application (44.5ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 88ms (Views: 62.9ms | ActiveRecord: 0.6ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 07:29:37 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 07:29:37 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.3ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
VisitorVisitsSite: test_see_popular_users
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:29:37 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (0.9ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.3ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (2.9ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 06:30:45', '2016-04-06 06:30:45', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$ibnkqsyrqLBuZDCIETEq7.Au0.Aw9UVnsfzx.xpRDzU5LTm43yBmq', '2016-04-06 06:30:45', '2016-04-06 06:30:45', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$cS3Hyxr/favoUlU3tXeeku7ltl8qRnYA4Dw8KhahSdpSgqcV0Oy2W', '2016-04-06 06:30:45', '2016-04-06 06:30:45', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 06:30:45', '2016-04-06 06:30:45', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:30:45 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (24.3ms)
  Rendered links/partials/_popular_links.html.erb (0.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (5.2ms)
  Rendered links/partials/_recent.html.erb (0.5ms)
  Rendered pages/index.html.erb within layouts/application (43.4ms)
  Rendered shared/_nav_bar.html.erb (1.3ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 87ms (Views: 61.2ms | ActiveRecord: 0.7ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 07:30:45 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)[0m  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-06 06:30:45.836345"], ["updated_at", "2016-04-06 06:30:45.836345"], ["short", "sj1Cgg"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 38ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 07:30:45 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.6ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.7ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.8ms | ActiveRecord: 0.5ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
VisitorVisitsSite: test_see_popular_users
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:30:45 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (0.9ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.3ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (2.9ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:30:45 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.8ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.1ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (5.0ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 6.6ms | ActiveRecord: 0.5ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 07:30:45 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 07:30:45 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.7ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.2ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.9ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 6.6ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 06:35:13', '2016-04-06 06:35:13', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$l6Up7aZmQCxR6eqdlbmn3OcN8nNOd0TeBSCDr4IjC5ssljnGGoVZm', '2016-04-06 06:35:13', '2016-04-06 06:35:13', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$pio5m9jr0c0cVpIloBmMsOxPzXUNi.cblxou951bttdk2AuDfgks6', '2016-04-06 06:35:13', '2016-04-06 06:35:13', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 06:35:13', '2016-04-06 06:35:13', 980190962)[0m
  [1m[35m (2.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:35:13 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (21.2ms)
  Rendered links/partials/_popular_links.html.erb (0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (4.6ms)
  Rendered links/partials/_recent.html.erb (1.1ms)
  Rendered pages/index.html.erb within layouts/application (39.4ms)
  Rendered shared/_nav_bar.html.erb (1.9ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 86ms (Views: 62.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:35:13 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.1ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.4ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 07:35:13 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)[0m  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-06 06:35:13.803955"], ["updated_at", "2016-04-06 06:35:13.803955"], ["short", "l3TujQ"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 20ms (ActiveRecord: 0.8ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 07:35:13 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.4ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 5.4ms | ActiveRecord: 0.5ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:35:13 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.5ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.8ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.4ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.6ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 07:35:13 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 07:35:13 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.6ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.5ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.6ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:35:13 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.3ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.6ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:35:13 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.2ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 06:35:36', '2016-04-06 06:35:36', 980190962)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$hX2rPIfHhEEV38j2m1l.pO9966s8EunaN6CTbIr5FGH/15ujW/C1.', '2016-04-06 06:35:36', '2016-04-06 06:35:36', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$RDr8osEpwSXj0jOaa8VurOeNgzGPdrAsCxlm435Fj6A1N0ltyJ5Iy', '2016-04-06 06:35:36', '2016-04-06 06:35:36', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 06:35:36', '2016-04-06 06:35:36', 980190962)[0m
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:35:36 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (26.5ms)
  Rendered links/partials/_popular_links.html.erb (0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (4.7ms)
  Rendered links/partials/_recent.html.erb (0.5ms)
  Rendered pages/index.html.erb within layouts/application (44.1ms)
  Rendered shared/_nav_bar.html.erb (1.3ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 83ms (Views: 62.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:35:36 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.4ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.7ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.0ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:35:36 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (0.9ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.3ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (2.9ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:35:36 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.6ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.7ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.5ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 07:35:36 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)[0m  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-06 06:35:36.748469"], ["updated_at", "2016-04-06 06:35:36.748469"], ["short", "Za8QBg"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 15ms (ActiveRecord: 0.8ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 07:35:36 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.3ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.4ms)
  [1m[36m (51.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:35:36 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.3ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.7ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 6.1ms | ActiveRecord: 0.7ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 07:35:36 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 07:35:36 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.0ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 06:35:48', '2016-04-06 06:35:48', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$zVpCsqfkrk01k7qqMVUxAem2HQkpiUHsp.lAHbzbUTEWClIS/Lry2', '2016-04-06 06:35:48', '2016-04-06 06:35:48', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$V2KHgxtzNJMDzsB9zscMUuevKj/lMN1qKgkMVyxsfexH1jfFnt1di', '2016-04-06 06:35:48', '2016-04-06 06:35:48', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 06:35:48', '2016-04-06 06:35:48', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:35:48 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (21.2ms)
  Rendered links/partials/_popular_links.html.erb (0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (4.7ms)
  Rendered links/partials/_recent.html.erb (0.5ms)
  Rendered pages/index.html.erb within layouts/application (38.5ms)
  Rendered shared/_nav_bar.html.erb (1.3ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 84ms (Views: 56.1ms | ActiveRecord: 0.6ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 07:35:48 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 07:35:48 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.6ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.4ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:35:48 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.5ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (2.3ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (5.0ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 7.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:35:48 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.4ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 4.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:35:48 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.3ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.4ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:35:48 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.0ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 0.5ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 07:35:48 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)[0m  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-06 06:35:48.712078"], ["updated_at", "2016-04-06 06:35:48.712078"], ["short", "U_druw"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 07:35:48 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.3ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.6ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.7ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.8ms | ActiveRecord: 0.5ms)
  [1m[36m (37.5ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 06:39:20', '2016-04-06 06:39:20', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$0WK2dQkiRnFyWZK0lkq3teXd6pdPq9S9/9BQgrgR52T4a6YXdCdfG', '2016-04-06 06:39:20', '2016-04-06 06:39:20', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$92o188uBuNPEaAqTK.Og6Oa9Xb1D4N9GGYGI0YvrdwlL7kqqpxTFK', '2016-04-06 06:39:20', '2016-04-06 06:39:20', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 06:39:20', '2016-04-06 06:39:20', 980190962)[0m
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:39:20 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (23.1ms)
  Rendered links/partials/_popular_links.html.erb (0.7ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (5.9ms)
  Rendered links/partials/_recent.html.erb (0.6ms)
  Rendered pages/index.html.erb within layouts/application (43.5ms)
  Rendered shared/_nav_bar.html.erb (2.4ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 95ms (Views: 68.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:39:20 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.3ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (2.0ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (4.3ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.7ms | ActiveRecord: 0.5ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 07:39:20 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 07:39:20 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (2.2ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (4.0ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:39:20 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (10.9ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (12.6ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 14.1ms | ActiveRecord: 0.5ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 07:39:20 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)[0m  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-06 06:39:20.718376"], ["updated_at", "2016-04-06 06:39:20.718376"], ["short", "H0aXoA"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 07:39:20 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.4ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.5ms | ActiveRecord: 0.5ms)
  [1m[36m (1.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages" for 127.0.0.1 at 2016-04-06 07:39:20 +0100
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"pages"}
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "pages"]]
Redirected to http://www.example.com/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 55ms (ActiveRecord: 0.3ms)
Started GET "/pages/deleted" for 127.0.0.1 at 2016-04-06 07:39:20 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"deleted"}
  Rendered pages/deleted.html.erb within layouts/application (1.0ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 19ms (Views: 18.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:39:20 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.3ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.4ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (2.0ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (2.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (5.7ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 7.6ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:39:20 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (0.9ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.1ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 06:39:44', '2016-04-06 06:39:44', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$Q.5aedFvKgaWyBrRDM.MP.rfKaWQRQgcCl8LyIZup3eQA3tMOkSD.', '2016-04-06 06:39:44', '2016-04-06 06:39:44', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$PYPvuYlA4OgHSdTc5er37.Hn78Fz2ZZxMBOPSlNDxNMxQrDjcsfTe', '2016-04-06 06:39:44', '2016-04-06 06:39:44', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 06:39:44', '2016-04-06 06:39:44', 980190962)[0m
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages" for 127.0.0.1 at 2016-04-06 07:39:44 +0100
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"pages"}
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "pages"]]
Redirected to http://www.example.com/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 21ms (ActiveRecord: 0.3ms)
Started GET "/pages/deleted" for 127.0.0.1 at 2016-04-06 07:39:44 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"deleted"}
  Rendered pages/deleted.html.erb within layouts/application (2.0ms)
  Rendered shared/_nav_bar.html.erb (6.0ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 31ms (Views: 30.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:39:44 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (17.8ms)
  Rendered links/partials/_popular_links.html.erb (0.6ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (7.2ms)
  Rendered links/partials/_recent.html.erb (0.9ms)
  Rendered pages/index.html.erb within layouts/application (37.7ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 49ms (Views: 41.5ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:39:44 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.3ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:39:44 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.0ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 0.4ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 07:39:44 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 07:39:44 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.7ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.7ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.8ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:39:44 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.6ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.9ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (5.7ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 7.0ms | ActiveRecord: 1.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:39:44 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.2ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.5ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 07:39:44 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-06 06:39:44.995968"], ["updated_at", "2016-04-06 06:39:44.995968"], ["short", "bMMg8A"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 0.7ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 07:39:45 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (2.5ms)
  Rendered links/partials/_popular_links.html.erb (0.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (2.6ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (6.5ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 8.0ms | ActiveRecord: 0.6ms)
  [1m[35m (7.3ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 06:40:01', '2016-04-06 06:40:01', 980190962)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$vVD1OmgGGLMKDS.jEsbBnuQcAsn.xzHBYor2sqVWWPTYZjpSbX5kC', '2016-04-06 06:40:01', '2016-04-06 06:40:01', 298486374)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$dDAeantbA6uQEdf74CueV.8ZeGP5OgyRVBLp//gCiFXYZN1e0Jg2e', '2016-04-06 06:40:01', '2016-04-06 06:40:01', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 06:40:01', '2016-04-06 06:40:01', 980190962)[0m
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:40:01 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (27.3ms)
  Rendered links/partials/_popular_links.html.erb (1.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (6.6ms)
  Rendered links/partials/_recent.html.erb (0.6ms)
  Rendered pages/index.html.erb within layouts/application (51.7ms)
  Rendered shared/_nav_bar.html.erb (1.5ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 102ms (Views: 74.5ms | ActiveRecord: 0.7ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 07:40:01 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)[0m  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-06 06:40:01.243390"], ["updated_at", "2016-04-06 06:40:01.243390"], ["short", "WH5ynQ"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 14ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 07:40:01 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.7ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.7ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.0ms | ActiveRecord: 0.6ms)
  [1m[36m (12.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-06 07:40:01 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.5ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:40:01 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.6ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.7ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 4.9ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:40:01 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.5ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.0ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.3ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.2ms | ActiveRecord: 0.8ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 07:40:01 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 07:40:01 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.0ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.7ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 4.9ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:40:01 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.6ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.4ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:40:01 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.8ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.9ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.8ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 06:42:18', '2016-04-06 06:42:18', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$jcZrjZ46V51YGIkXS2SR3emrqOUgCSwJKkCVc/EppgSFimZvNFeBi', '2016-04-06 06:42:18', '2016-04-06 06:42:18', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$y.E6.KuITjS1/0E6qiQdB.pVn4QDt1GMfclTo1uYbNa5IyLfpwXFS', '2016-04-06 06:42:18', '2016-04-06 06:42:18', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 06:42:18', '2016-04-06 06:42:18', 980190962)[0m
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-06 07:42:18 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (2.7ms)
  Rendered devise/registrations/new.html.erb within layouts/application (53.7ms)
  Rendered shared/_nav_bar.html.erb (1.8ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 120ms (Views: 89.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-06 07:42:18 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:42:18 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (10.7ms)
  Rendered links/partials/_popular_links.html.erb (0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (4.5ms)
  Rendered links/partials/_recent.html.erb (0.6ms)
  Rendered pages/index.html.erb within layouts/application (25.8ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 38ms (Views: 30.3ms | ActiveRecord: 0.6ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 07:42:19 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 07:42:19 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.1ms)
  Rendered shared/_nav_bar.html.erb (9.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 15ms (Views: 13.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-06 07:42:19 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:42:19 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (0.9ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.3ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.0ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-06 07:42:19 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.9ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:42:19 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.3ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.8ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (2.1ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.9ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 6.2ms | ActiveRecord: 0.8ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 07:42:19 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)[0m  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-06 06:42:19.074098"], ["updated_at", "2016-04-06 06:42:19.074098"], ["short", "vzPBFg"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 07:42:19 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.8ms)
  Rendered links/partials/_popular_links.html.erb (0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.2ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (5.4ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 7.0ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:42:19 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.1ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:42:19 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.7ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.7ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (5.9ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 06:44:02', '2016-04-06 06:44:02', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$4wG23Ju4lxwTVt9V5hr5H.gnK2CgoAdCaGmtW9RRZ5CxKFRUKM4Ea', '2016-04-06 06:44:02', '2016-04-06 06:44:02', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$fraEsT.t4RJFx6OVpkc9VuxREqjq2ObXG0eGIqKcNF1HHeuBwslCa', '2016-04-06 06:44:02', '2016-04-06 06:44:02', 980190962)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 06:44:02', '2016-04-06 06:44:02', 980190962)[0m
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-06 07:44:02 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.4ms)
  Rendered devise/registrations/new.html.erb within layouts/application (20.5ms)
  Rendered shared/_nav_bar.html.erb (2.0ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 60ms (Views: 43.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:44:02 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (15.8ms)
  Rendered links/partials/_popular_links.html.erb (0.8ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (7.3ms)
  Rendered links/partials/_recent.html.erb (0.6ms)
  Rendered pages/index.html.erb within layouts/application (34.8ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 53ms (Views: 40.9ms | ActiveRecord: 0.8ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 07:44:02 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 07:44:02 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (3.4ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-06 07:44:02 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.9ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 6.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:44:02 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (2.3ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (2.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (6.1ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 7.9ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:44:02 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.3ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.8ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.1ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:44:02 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (0.9ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.0ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:44:02 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.5ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (2.0ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.5ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 5.9ms | ActiveRecord: 0.8ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 07:44:02 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)[0m  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-06 06:44:02.639837"], ["updated_at", "2016-04-06 06:44:02.639837"], ["short", "MfE1uQ"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 07:44:02 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.7ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.0ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.3ms | ActiveRecord: 0.5ms)
  [1m[36m (16.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-06 07:44:02 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.5ms)
  Rendered shared/_nav_bar.html.erb (1.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-06 07:44:02 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 06:44:11', '2016-04-06 06:44:11', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$HM8JIWGYTW9zFkIwMLP6heXoIfy84egv.5QJ8onbwzpXJzllUPu7e', '2016-04-06 06:44:11', '2016-04-06 06:44:11', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$Bc58OCWZol.rRvrAGL9FSOCopbZur9ngN0ARIPGzdPZrJATqWyAkm', '2016-04-06 06:44:11', '2016-04-06 06:44:11', 980190962)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 06:44:11', '2016-04-06 06:44:11', 980190962)[0m
  [1m[35m (2.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:44:11 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (28.5ms)
  Rendered links/partials/_popular_links.html.erb (0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (4.7ms)
  Rendered links/partials/_recent.html.erb (0.5ms)
  Rendered pages/index.html.erb within layouts/application (46.7ms)
  Rendered shared/_nav_bar.html.erb (1.3ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 88ms (Views: 65.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-06 07:44:11 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.7ms)
  Rendered shared/_nav_bar.html.erb (1.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:44:11 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.5ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.9ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.4ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-06 07:44:11 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:44:11 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.2ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:44:11 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.1ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 0.5ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 07:44:11 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 07:44:11 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.3ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.6ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.3ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-06 07:44:11 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.7ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 5.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-06 07:44:11 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.3ms)
  Rendered devise/registrations/new.html.erb within layouts/application (8.0ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 23ms (Views: 20.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:44:11 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.4ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.8ms | ActiveRecord: 0.5ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 07:44:11 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)[0m  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-06 06:44:11.875592"], ["updated_at", "2016-04-06 06:44:11.875592"], ["short", "pL6e9g"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 13ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 07:44:11 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.8ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.0ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.0ms | ActiveRecord: 0.6ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 06:48:09', '2016-04-06 06:48:09', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$8fA842KM/b/yl.5dA05ztOjaRartJl2dvNVVHJYU/yAUmAxnUYNgK', '2016-04-06 06:48:09', '2016-04-06 06:48:09', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$hQIUTbPHuuToeo4Bs96Xo.eilS4ChlW2F7yqdyw25c.itK3Ximfta', '2016-04-06 06:48:09', '2016-04-06 06:48:09', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 06:48:09', '2016-04-06 06:48:09', 980190962)[0m
  [1m[35m (2.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:48:09 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (23.5ms)
  Rendered links/partials/_popular_links.html.erb (0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (4.6ms)
  Rendered links/partials/_recent.html.erb (0.6ms)
  Rendered pages/index.html.erb within layouts/application (41.1ms)
  Rendered shared/_nav_bar.html.erb (1.5ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 82ms (Views: 60.0ms | ActiveRecord: 0.6ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 07:48:09 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)[0m  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-06 06:48:09.690185"], ["updated_at", "2016-04-06 06:48:09.690185"], ["short", "AlzQFQ"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 07:48:09 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.4ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.1ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.7ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 6.7ms | ActiveRecord: 0.8ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:48:09 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.0ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-06 07:48:09 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-06 07:48:09 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.9ms)
  Rendered devise/registrations/new.html.erb within layouts/application (11.3ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 24ms (Views: 21.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:48:09 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (2.1ms)
  Rendered links/partials/_popular_links.html.erb (0.3ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.7ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (6.2ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 8.0ms | ActiveRecord: 0.6ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 07:48:09 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 07:48:09 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (3.1ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (6.0ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:48:09 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.3ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (5.0ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:48:09 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.1ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-06 07:48:09 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-06 07:48:09 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.8ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 7.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 06:48:50', '2016-04-06 06:48:50', 980190962)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$iaFuZqXOO8lmD0BE2Af8sunh29DSwQ98D.UPeCtzxW4l85Kr9oyKe', '2016-04-06 06:48:50', '2016-04-06 06:48:50', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$T7.4BwuLbnbqvWP.ptP1LuntNWe3o2ddNn.7MGZT5z/r/KUsBCljm', '2016-04-06 06:48:50', '2016-04-06 06:48:50', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 06:48:50', '2016-04-06 06:48:50', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-06 07:48:50 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (1.9ms)
  Rendered shared/_nav_bar.html.erb (8.5ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 48ms (Views: 35.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:48:50 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (24.0ms)
  Rendered links/partials/_popular_links.html.erb (0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (5.0ms)
  Rendered links/partials/_recent.html.erb (0.6ms)
  Rendered pages/index.html.erb within layouts/application (39.1ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 53ms (Views: 42.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:48:50 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.4ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.5ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 07:48:50 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)[0m  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-06 06:48:50.445959"], ["updated_at", "2016-04-06 06:48:50.445959"], ["short", "kjEGRw"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 07:48:50 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.6ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.6ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.9ms | ActiveRecord: 0.4ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-06 07:48:50 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-06 07:48:50 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.5ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:48:50 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.3ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:48:50 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.3ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:48:50 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.5ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.0ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.5ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.5ms | ActiveRecord: 0.6ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 07:48:50 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 07:48:50 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.6ms)
  Rendered links/partials/_popular_links.html.erb (0.3ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (3.1ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (6.0ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 7.8ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-06 07:48:50 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.3ms)
  Rendered devise/registrations/new.html.erb within layouts/application (8.0ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 17.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 06:49:11', '2016-04-06 06:49:11', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$g/ncspAAYUpuMjjfyD.Mu.nxjgKREPRmE14ZrJPmETMQIPEAXY3Tq', '2016-04-06 06:49:11', '2016-04-06 06:49:11', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$uZ0QGsZ7Cx4vpK2BojX0DuvKS/RaEEdV3jaGFyuu6u9hEbU1fzdVq', '2016-04-06 06:49:11', '2016-04-06 06:49:11', 980190962)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 06:49:11', '2016-04-06 06:49:11', 980190962)[0m
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-06 07:49:11 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (1.9ms)
  Rendered shared/_nav_bar.html.erb (5.3ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 44ms (Views: 29.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-06 07:49:11 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.3ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-06 07:49:11 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.2ms)
  Rendered devise/registrations/new.html.erb within layouts/application (16.8ms)
  Rendered shared/_nav_bar.html.erb (1.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 30ms (Views: 27.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:49:12 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (21.0ms)
  Rendered links/partials/_popular_links.html.erb (0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (4.5ms)
  Rendered links/partials/_recent.html.erb (0.6ms)
  Rendered pages/index.html.erb within layouts/application (34.9ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 49ms (Views: 38.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:49:12 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.8ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (2.2ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (5.2ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 10ms (Views: 7.0ms | ActiveRecord: 0.7ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 07:49:12 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 07:49:12 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (2.6ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (4.7ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:49:12 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.7ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.5ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:49:12 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.4ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (2.2ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (4.7ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 6.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-06 07:49:12 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:49:12 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.2ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.4ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 07:49:12 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)[0m  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-06 06:49:12.173139"], ["updated_at", "2016-04-06 06:49:12.173139"], ["short", "cEVrsA"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 0.7ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 07:49:12 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.4ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.6ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.9ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.3ms | ActiveRecord: 0.5ms)
  [1m[36m (10.9ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 06:55:59', '2016-04-06 06:55:59', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$h1Iwe7yyUlgeWibZXLtNLurE6vdIUOgTuTIeKRxe.XFp.FXchN.kW', '2016-04-06 06:55:59', '2016-04-06 06:55:59', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$5KVs/Koj7/RCahmP59MY6u/je8jVkEZdKRl.QMZ8zd.MWw/Dllwca', '2016-04-06 06:55:59', '2016-04-06 06:55:59', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 06:55:59', '2016-04-06 06:55:59', 980190962)[0m
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[35m (0.3ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (23.4ms)
  Rendered links/partials/_popular_links.html.erb (0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (4.5ms)
  Rendered links/partials/_recent.html.erb (0.5ms)
  Rendered pages/index.html.erb within layouts/application (41.1ms)
  Rendered shared/_nav_bar.html.erb (1.4ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 77ms (Views: 63.8ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "kxuug9HprCVJcsp1s57P"]]
  [1m[35mSQL (0.6ms)[0m  UPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["authentication_token", "kxuug9HprCVJcsp1s57P"], ["updated_at", "2016-04-06 06:56:00.132190"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["active", "f"], ["updated_at", "2016-04-06 06:56:00.152989"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["click_count", 1], ["updated_at", "2016-04-06 06:56:00.162328"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-06 06:56:00.181534"], ["updated_at", "2016-04-06 06:56:00.181534"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to https://google.com.ng
Completed 302 Found in 23ms (ActiveRecord: 1.0ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[36mVisit Load (0.4ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (1.3ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 49ms (Views: 31.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (38.6ms)
  Rendered visits/new.html.erb within layouts/application (43.5ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 53ms (Views: 52.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.0ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/_form.html.erb (4.7ms)
  Rendered visits/edit.html.erb within layouts/application (6.3ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 12ms (Views: 11.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT "visits".* FROM "visits"[0m
  Rendered visits/index.html.erb within layouts/application (1.6ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["link_id", 980190962], ["created_at", "2016-04-06 06:56:00.352181"], ["updated_at", "2016-04-06 06:56:00.352181"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190963
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.0ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "visits" WHERE "visits"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------
VisitTest: test_valid
---------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 06:56:00.393719"], ["updated_at", "2016-04-06 06:56:00.393719"], ["short", "98ZhVQ"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.7ms)
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/new.html.erb within layouts/application (7.6ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 35ms (Views: 33.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 06:56:00.437440"], ["updated_at", "2016-04-06 06:56:00.437440"], ["short", "_kaUOQ"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (3.8ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 06:56:00.455030"], ["updated_at", "2016-04-06 06:56:00.455030"], ["short", "60FBuA"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  [1m[35mVisit Exists (0.1ms)[0m  SELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (43.7ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 51ms (Views: 47.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 06:56:00.514209"], ["updated_at", "2016-04-06 06:56:00.514209"], ["short", "ybSLQw"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"ybSLQw", "user_id"=>"980190962"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "ybSLQw"], ["created_at", "2016-04-06 06:56:00.520391"], ["updated_at", "2016-04-06 06:56:00.520391"]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 06:56:00.527692"], ["updated_at", "2016-04-06 06:56:00.527692"], ["short", "Uuof8g"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"Uuof8g", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/links/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 06:56:00.537758"], ["updated_at", "2016-04-06 06:56:00.537758"], ["short", "5sNncg"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (5.9ms)
  Rendered links/edit.html.erb within layouts/application (7.6ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 10.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 06:56:00.556356"], ["updated_at", "2016-04-06 06:56:00.556356"], ["short", "aaniag"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "links" WHERE "links"."id" = ?  [["id", 980190963]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-06 07:56:00 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.2ms)
  Rendered devise/registrations/new.html.erb within layouts/application (8.4ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 40ms (Views: 23.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-06 07:56:00 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-06 07:56:00 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.6ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-06 07:56:00 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:56:00 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.4ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.5ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 07:56:00 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-06 06:56:00.668883"], ["updated_at", "2016-04-06 06:56:00.668883"], ["short", "NM1yhQ"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 07:56:00 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.3ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:56:00 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.1ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.5ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 07:56:00 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 07:56:00 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.1ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:56:00 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.1ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:56:00 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (2.2ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (2.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (6.1ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 7.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:56:00 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.3ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.6ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 06:56:37', '2016-04-06 06:56:37', 980190962)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$EevDop8EEwLNdptepBwMIecclgegkcr81eEOexBJbgkGxONmqPzvy', '2016-04-06 06:56:37', '2016-04-06 06:56:37', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$FXn1s0HLTqgjl2ZHp8B8vOgKvP7AQoNQEtcdhj2hgcar1zOziXTFq', '2016-04-06 06:56:37', '2016-04-06 06:56:37', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 06:56:37', '2016-04-06 06:56:37', 980190962)[0m
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[35m (0.3ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (24.2ms)
  Rendered links/partials/_popular_links.html.erb (0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (4.6ms)
  Rendered links/partials/_recent.html.erb (0.7ms)
  Rendered pages/index.html.erb within layouts/application (42.6ms)
  Rendered shared/_nav_bar.html.erb (1.5ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 73ms (Views: 61.1ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "custom"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?[0m  [["click_count", 1], ["updated_at", "2016-04-06 06:56:37.927780"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-06 06:56:37.937728"], ["updated_at", "2016-04-06 06:56:37.937728"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to https://google.com.ng
Completed 302 Found in 13ms (ActiveRecord: 0.9ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["active", "f"], ["updated_at", "2016-04-06 06:56:37.942536"], ["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-06 07:56:37 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.3ms)
  Rendered devise/registrations/new.html.erb within layouts/application (8.4ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 29ms (Views: 17.7ms | ActiveRecord: 0.0ms)
Started GET "/register" for 127.0.0.1 at 2016-04-06 07:56:37 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.3ms)
  Rendered devise/registrations/new.html.erb within layouts/application (3.1ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:56:38 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.5ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.9ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.4ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-06 07:56:38 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-06 07:56:38 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (1.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:56:38 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.8ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.1ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (5.0ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.5ms | ActiveRecord: 0.8ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 07:56:38 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-06 06:56:38.065576"], ["updated_at", "2016-04-06 06:56:38.065576"], ["short", "0S7x9w"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 07:56:38 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.6ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (3.7ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:56:38 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.2ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-06 07:56:38 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:56:38 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.5ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (3.4ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (6.1ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 7.6ms | ActiveRecord: 0.8ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 07:56:38 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 07:56:38 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.6ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.4ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:56:38 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (3.2ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (5.4ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "pp1ygvHJwV2ULS3xTvSM"]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["authentication_token", "pp1ygvHJwV2ULS3xTvSM"], ["updated_at", "2016-04-06 06:56:38.159632"], ["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (7.6ms)
  Rendered visits/new.html.erb within layouts/application (9.7ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 17ms (Views: 16.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (1.6ms)
  Rendered shared/_nav_bar.html.erb (1.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 14ms (Views: 8.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/_form.html.erb (2.8ms)
  Rendered visits/edit.html.erb within layouts/application (3.7ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 7.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.0ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "visits" WHERE "visits"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["link_id", 980190962], ["created_at", "2016-04-06 06:56:38.253146"], ["updated_at", "2016-04-06 06:56:38.253146"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT "visits".* FROM "visits"[0m
  Rendered visits/index.html.erb within layouts/application (1.7ms)
  Rendered shared/_nav_bar.html.erb (1.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
VisitTest: test_valid
---------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 06:56:38.301129"], ["updated_at", "2016-04-06 06:56:38.301129"], ["short", "1g3tzA"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"1g3tzA", "user_id"=>"980190962"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "1g3tzA"], ["created_at", "2016-04-06 06:56:38.308698"], ["updated_at", "2016-04-06 06:56:38.308698"]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 06:56:38.316267"], ["updated_at", "2016-04-06 06:56:38.316267"], ["short", "dsd89g"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "links" WHERE "links"."id" = ?  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/dashboard
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 06:56:38.330233"], ["updated_at", "2016-04-06 06:56:38.330233"], ["short", "pThLEQ"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"pThLEQ", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/links/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 06:56:38.340695"], ["updated_at", "2016-04-06 06:56:38.340695"], ["short", "YXqCDg"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.1ms)
  [1m[36mVisit Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1[0m  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (13.9ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 23ms (Views: 21.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 06:56:38.370590"], ["updated_at", "2016-04-06 06:56:38.370590"], ["short", "Rt0pVA"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.0ms)
  Rendered links/partials/_form.html.erb (3.9ms)
  Rendered links/edit.html.erb within layouts/application (6.1ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 9.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 06:56:38.387939"], ["updated_at", "2016-04-06 06:56:38.387939"], ["short", "gounAw"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.7ms)
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/new.html.erb within layouts/application (2.9ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 06:56:38.401464"], ["updated_at", "2016-04-06 06:56:38.401464"], ["short", "AswNUg"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (4.1ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 06:57:59', '2016-04-06 06:57:59', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$REXQkCGKJWENtQAQ5bvCMedOJe/5rPhyF/YfVzQIjUGjFSz./rPr6', '2016-04-06 06:57:59', '2016-04-06 06:57:59', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$X7b6Ff/Q5vT4qaAUjTZbH.FU0WxSM8KdKUILNwAtx3MlTdEBLOs9O', '2016-04-06 06:57:59', '2016-04-06 06:57:59', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 06:57:59', '2016-04-06 06:57:59', 980190962)[0m
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (27.2ms)
  Rendered links/partials/_popular_links.html.erb (0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (4.4ms)
  Rendered links/partials/_recent.html.erb (1.0ms)
  Rendered pages/index.html.erb within layouts/application (49.9ms)
  Rendered shared/_nav_bar.html.erb (3.0ms)
  Rendered shared/_footer.html.erb (0.6ms)
Completed 200 OK in 85ms (Views: 74.1ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "bc2NNBn5rBqozmErKhKM"]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["authentication_token", "bc2NNBn5rBqozmErKhKM"], ["updated_at", "2016-04-06 06:57:59.953267"], ["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:57:59 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.4ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 4.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:57:59 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.1ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.4ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 07:57:59 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 07:58:00 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.4ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:58:00 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.4ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.5ms | ActiveRecord: 0.6ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 07:58:00 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)[0m  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-06 06:58:00.030560"], ["updated_at", "2016-04-06 06:58:00.030560"], ["short", "RgklIw"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 07:58:00 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.6ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.9ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.8ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 0.7ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:58:00 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (0.9ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.0ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-06 07:58:00 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.8ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-06 07:58:00 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.3ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:58:00 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.2ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-06 07:58:00 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.8ms)
  Rendered devise/registrations/new.html.erb within layouts/application (12.3ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 25ms (Views: 22.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-06 07:58:00 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.6ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------
VisitTest: test_valid
---------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (1.0ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 7.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT "visits".* FROM "visits"[0m
  Rendered visits/index.html.erb within layouts/application (2.7ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 8.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["link_id", 980190962], ["created_at", "2016-04-06 06:58:00.197032"], ["updated_at", "2016-04-06 06:58:00.197032"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/_form.html.erb (8.3ms)
  Rendered visits/edit.html.erb within layouts/application (11.4ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 17ms (Views: 16.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (2.3ms)
  Rendered visits/new.html.erb within layouts/application (3.0ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 6.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.0ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "visits" WHERE "visits"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "custom"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?[0m  [["click_count", 1], ["updated_at", "2016-04-06 06:58:00.250942"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-06 06:58:00.254372"], ["updated_at", "2016-04-06 06:58:00.254372"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to https://google.com.ng
Completed 302 Found in 7ms (ActiveRecord: 0.9ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["active", "f"], ["updated_at", "2016-04-06 06:58:00.259495"], ["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 06:58:00.287375"], ["updated_at", "2016-04-06 06:58:00.287375"], ["short", "bpcm7A"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"bpcm7A", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/links/980190963
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 06:58:00.303195"], ["updated_at", "2016-04-06 06:58:00.303195"], ["short", "yl8qWw"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.3ms)
  [1m[36mVisit Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1[0m  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (14.4ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 21ms (Views: 20.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 06:58:00.332838"], ["updated_at", "2016-04-06 06:58:00.332838"], ["short", "pb8wbA"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"pb8wbA", "user_id"=>"980190962"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "pb8wbA"], ["created_at", "2016-04-06 06:58:00.340211"], ["updated_at", "2016-04-06 06:58:00.340211"]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 06:58:00.347301"], ["updated_at", "2016-04-06 06:58:00.347301"], ["short", "NSvd0w"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  Rendered links/partials/_form.html.erb (3.8ms)
  Rendered links/edit.html.erb within layouts/application (5.6ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 9.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 06:58:00.364713"], ["updated_at", "2016-04-06 06:58:00.364713"], ["short", "kpCExQ"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.8ms)
  Rendered links/partials/_form.html.erb (1.6ms)
  Rendered links/new.html.erb within layouts/application (3.5ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 06:58:00.380216"], ["updated_at", "2016-04-06 06:58:00.380216"], ["short", "T5B8tQ"]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "links" WHERE "links"."id" = ?  [["id", 980190963]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 06:58:00.394392"], ["updated_at", "2016-04-06 06:58:00.394392"], ["short", "plbDOg"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (3.8ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 06:59:26', '2016-04-06 06:59:26', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$tfnrnk78swxpi6PoG6E0jut.1Of8yndCARt.j/RRwlPHL7BhxjLvK', '2016-04-06 06:59:26', '2016-04-06 06:59:26', 298486374)
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$/dUKd2J1szdkQWwld0mNBeanzIST7tVUu2Vit/UCrzcQvml06wJq2', '2016-04-06 06:59:26', '2016-04-06 06:59:26', 980190962)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 06:59:26', '2016-04-06 06:59:26', 980190962)[0m
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[35mLink Load (0.4ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:59:26 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (14.0ms)
  Rendered links/partials/_popular_links.html.erb (0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (4.5ms)
  Rendered links/partials/_recent.html.erb (0.5ms)
  Rendered pages/index.html.erb within layouts/application (31.9ms)
  Rendered shared/_nav_bar.html.erb (1.3ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 66ms (Views: 51.5ms | ActiveRecord: 0.6ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 07:59:26 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)[0m  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-06 06:59:26.400196"], ["updated_at", "2016-04-06 06:59:26.400196"], ["short", "H_hoOQ"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 07:59:26 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.5ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.6ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.0ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-06 07:59:26 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.6ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:59:26 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.3ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-06 07:59:26 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.8ms)
  Rendered devise/registrations/new.html.erb within layouts/application (13.1ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 26ms (Views: 23.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-06 07:59:26 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.5ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:59:26 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.2ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.5ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 07:59:26 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 07:59:26 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (0.9ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.0ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-06 07:59:26 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.6ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 6.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:59:26 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.8ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.0ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 07:59:26 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.7ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.7ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.0ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------
VisitTest: test_valid
---------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["link_id", 980190962], ["created_at", "2016-04-06 06:59:26.591943"], ["updated_at", "2016-04-06 06:59:26.591943"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190963
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (7.4ms)
  Rendered visits/new.html.erb within layouts/application (9.9ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 18ms (Views: 17.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[35mVisit Load (0.2ms)[0m  SELECT "visits".* FROM "visits"
  Rendered visits/index.html.erb within layouts/application (1.8ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.0ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (0.8ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "visits" WHERE "visits"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.0ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/_form.html.erb (2.7ms)
  Rendered visits/edit.html.erb within layouts/application (3.8ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 8.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["active", "f"], ["updated_at", "2016-04-06 06:59:26.666290"], ["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["click_count", 1], ["updated_at", "2016-04-06 06:59:26.679419"], ["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-06 06:59:26.682892"], ["updated_at", "2016-04-06 06:59:26.682892"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to https://google.com.ng
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 06:59:26.688247"], ["updated_at", "2016-04-06 06:59:26.688247"], ["short", "e59L6g"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (5.7ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 11.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 06:59:26.710802"], ["updated_at", "2016-04-06 06:59:26.710802"], ["short", "aHxiJg"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.0ms)
  Rendered links/partials/_form.html.erb (1.8ms)
  Rendered links/new.html.erb within layouts/application (3.8ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 06:59:26.728689"], ["updated_at", "2016-04-06 06:59:26.728689"], ["short", "UAAViQ"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "links" WHERE "links"."id" = ?[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/dashboard
Completed 302 Found in 6ms (ActiveRecord: 0.9ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 06:59:26.745265"], ["updated_at", "2016-04-06 06:59:26.745265"], ["short", "ZC3f8g"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (3.6ms)
  Rendered links/edit.html.erb within layouts/application (5.1ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 7.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 06:59:26.761612"], ["updated_at", "2016-04-06 06:59:26.761612"], ["short", "lFRa3w"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  [1m[35mVisit Exists (0.1ms)[0m  SELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (16.9ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 21ms (Views: 19.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 06:59:26.790717"], ["updated_at", "2016-04-06 06:59:26.790717"], ["short", "aBgd_g"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"aBgd_g", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/links/980190963
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 06:59:26.807076"], ["updated_at", "2016-04-06 06:59:26.807076"], ["short", "nuvNXw"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"nuvNXw", "user_id"=>"980190962"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "nuvNXw"], ["created_at", "2016-04-06 06:59:26.816639"], ["updated_at", "2016-04-06 06:59:26.816639"]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 6ms (ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "Nduu1HFDjzuRhemUoA-z"]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["authentication_token", "Nduu1HFDjzuRhemUoA-z"], ["updated_at", "2016-04-06 06:59:26.837189"], ["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.7ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.7ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.5ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 07:09:38', '2016-04-06 07:09:38', 980190962)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$YHgQFUJ2xj16vhstwcEA8ekxkDvcgExu66D6KMjyP/TXB1fhD17bG', '2016-04-06 07:09:38', '2016-04-06 07:09:38', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$viSEgU/2P0yXZZfv0FOl3.yRTGO/O04qOg9J46RlE/XdLUu2P6Y56', '2016-04-06 07:09:38', '2016-04-06 07:09:38', 980190962)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 07:09:38', '2016-04-06 07:09:38', 980190962)[0m
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "_qxykwpjh21TWc-CbHUX"]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["authentication_token", "_qxykwpjh21TWc-CbHUX"], ["updated_at", "2016-04-06 07:09:38.946411"], ["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-06 08:09:38 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (2.2ms)
  Rendered shared/_nav_bar.html.erb (5.1ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 46ms (Views: 32.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 08:09:39 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.3ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (9.0ms)
  Rendered links/partials/_popular_links.html.erb (0.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (4.9ms)
  Rendered links/partials/_recent.html.erb (0.5ms)
  Rendered pages/index.html.erb within layouts/application (23.7ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 41ms (Views: 27.5ms | ActiveRecord: 0.7ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 08:09:39 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 08:09:39 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.2ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 08:09:39 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.0ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 0.5ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 08:09:39 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)[0m  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-06 07:09:39.098726"], ["updated_at", "2016-04-06 07:09:39.098726"], ["short", "YTvnXw"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 08:09:39 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.6ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.6ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.2ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 5.6ms | ActiveRecord: 0.8ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 08:09:39 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.6ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.7ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.8ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-06 08:09:39 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.5ms)
  Rendered devise/registrations/new.html.erb within layouts/application (12.0ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 23ms (Views: 21.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 08:09:39 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.6ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.6ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.8ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 08:09:39 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.2ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-06 08:09:39 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.6ms)
  Rendered devise/sessions/new.html.erb within layouts/application (11.9ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 21ms (Views: 19.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-06 08:09:39 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.5ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-06 08:09:39 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?[0m  [["active", "f"], ["updated_at", "2016-04-06 07:09:39.237023"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "custom"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?[0m  [["click_count", 1], ["updated_at", "2016-04-06 07:09:39.253650"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-06 07:09:39.266813"], ["updated_at", "2016-04-06 07:09:39.266813"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to https://google.com.ng
Completed 302 Found in 17ms (ActiveRecord: 1.0ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[35m (0.3ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.4ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (2.2ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (4.9ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 6.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
VisitTest: test_valid
---------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/_form.html.erb (7.8ms)
  Rendered visits/edit.html.erb within layouts/application (10.3ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 19ms (Views: 17.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "visits" WHERE "visits"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (2.4ms)
  Rendered visits/new.html.erb within layouts/application (3.1ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 7.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.0ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (0.8ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["link_id", 980190962], ["created_at", "2016-04-06 07:09:39.377713"], ["updated_at", "2016-04-06 07:09:39.377713"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[35mVisit Load (0.1ms)[0m  SELECT "visits".* FROM "visits"
  Rendered visits/index.html.erb within layouts/application (1.6ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 07:09:39.401290"], ["updated_at", "2016-04-06 07:09:39.401290"], ["short", "Li5ZEg"]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.0ms)
  [1m[36mVisit Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1[0m  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (14.7ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 25ms (Views: 22.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 07:09:39.437029"], ["updated_at", "2016-04-06 07:09:39.437029"], ["short", "pasrwg"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (0.9ms)
  Rendered links/new.html.erb within layouts/application (2.3ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 07:09:39.453159"], ["updated_at", "2016-04-06 07:09:39.453159"], ["short", "nEYg0Q"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "links" WHERE "links"."id" = ?[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 07:09:39.466339"], ["updated_at", "2016-04-06 07:09:39.466339"], ["short", "Q7XcUA"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"Q7XcUA", "user_id"=>"980190962"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "Q7XcUA"], ["created_at", "2016-04-06 07:09:39.474374"], ["updated_at", "2016-04-06 07:09:39.474374"]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 07:09:39.483390"], ["updated_at", "2016-04-06 07:09:39.483390"], ["short", "B2ecng"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/edit.html.erb within layouts/application (2.6ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.1ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 07:09:39.499679"], ["updated_at", "2016-04-06 07:09:39.499679"], ["short", "KZmMbQ"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (4.0ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 07:09:39.514117"], ["updated_at", "2016-04-06 07:09:39.514117"], ["short", "PLWrTQ"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"PLWrTQ", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/links/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 07:14:57', '2016-04-06 07:14:57', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$IAElwUHmb1ZzFZcudc.O8eK/CLO95gPVmiB/1PnwJrDH5KPtQpz9q', '2016-04-06 07:14:57', '2016-04-06 07:14:57', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$fnqYsyy8i43hMaMMxAH1cu88lbpCUkrMP.mywUAPiEqnlXxlK.pCa', '2016-04-06 07:14:57', '2016-04-06 07:14:57', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 07:14:57', '2016-04-06 07:14:57', 980190962)[0m
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-06 08:15:04 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (2.1ms)
  Rendered shared/_nav_bar.html.erb (5.8ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 61ms (Views: 46.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-06 08:15:05 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.5ms)
  Rendered shared/_nav_bar.html.erb (1.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-06 08:15:12 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.9ms)
  Rendered devise/sessions/new.html.erb within layouts/application (39.5ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 54ms (Views: 50.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-06 08:15:19 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.6ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-06 08:15:19 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.6ms)
  Rendered devise/registrations/new.html.erb within layouts/application (4.3ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 15ms (Views: 14.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 07:21:34', '2016-04-06 07:21:34', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$RpQ8bqjhkEGmpScEFw4Gz.21y2GXMtFgecimXX1jEXZolytlSu1PW', '2016-04-06 07:21:34', '2016-04-06 07:21:34', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$vLLbonms/eXXF.PwcOtYLOOmyB7j1QCg42Bb3fqnBktCsL/Nm.Sg.', '2016-04-06 07:21:34', '2016-04-06 07:21:34', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 07:21:34', '2016-04-06 07:21:34', 980190962)[0m
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-06 08:21:37 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (2.0ms)
  Rendered shared/_nav_bar.html.erb (5.6ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 44ms (Views: 30.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-06 08:21:42 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.5ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-06 08:21:42 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (2.6ms)
  Rendered devise/registrations/new.html.erb within layouts/application (20.8ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 35ms (Views: 32.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-06 08:21:45 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.5ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-06 08:21:45 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.1ms)
  Rendered devise/sessions/new.html.erb within layouts/application (20.8ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 31ms (Views: 29.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 07:25:26', '2016-04-06 07:25:26', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$63hvioFh4gwyi.cbp.kPluuZdV8jjEyFM09MTF/wGStkhB8ei9jF2', '2016-04-06 07:25:26', '2016-04-06 07:25:26', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$KsO79Q5DHUHf1lzWTQTUoOVWmidf36WZYAMVErV2btdVZ7BLf9CAW', '2016-04-06 07:25:26', '2016-04-06 07:25:26', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 07:25:26', '2016-04-06 07:25:26', 980190962)[0m
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-06 08:25:34 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (2.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (49.6ms)
  Rendered shared/_nav_bar.html.erb (2.4ms)
  Rendered shared/_footer.html.erb (0.7ms)
Completed 200 OK in 98ms (Views: 77.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-06 08:25:36 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.8ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 9.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-06 08:25:37 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.5ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-06 08:25:37 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.6ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-06 08:25:42 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.5ms)
  Rendered devise/registrations/new.html.erb within layouts/application (4.1ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 15ms (Views: 13.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (1.3ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 07:26:49', '2016-04-06 07:26:49', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$zYW8wS86m1mosDD/e9NGPOBWDgsjVZH6XWYEv/8mqANfl.M4Y.ava', '2016-04-06 07:26:49', '2016-04-06 07:26:49', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$LAw/jPidLZBFotujwP/Z7OdFTMr3DgJiUnLkt6v6Yuqc8J6rKScOG', '2016-04-06 07:26:49', '2016-04-06 07:26:49', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 07:26:49', '2016-04-06 07:26:49', 980190962)[0m
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-06 08:26:52 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (1.8ms)
  Rendered shared/_nav_bar.html.erb (6.8ms)
  Rendered shared/_footer.html.erb (0.7ms)
Completed 200 OK in 50ms (Views: 32.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-06 08:26:54 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.5ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-06 08:26:54 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-06 08:26:59 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (2.9ms)
  Rendered devise/registrations/new.html.erb within layouts/application (23.9ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 41ms (Views: 37.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-06 08:27:04 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.8ms)
  Rendered devise/sessions/new.html.erb within layouts/application (17.9ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 27ms (Views: 25.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 07:28:24', '2016-04-06 07:28:24', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$zxmI0OkYulcPPrtX0OswZ.NDrCRNAxG31/5r3d80bGeR0VUvR4I5S', '2016-04-06 07:28:24', '2016-04-06 07:28:24', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$Vm/bHr/AKwRSPSe.yDr5uOiSEh5MWJcLws5wkI167aclVY2yYfFDu', '2016-04-06 07:28:24', '2016-04-06 07:28:24', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 07:28:24', '2016-04-06 07:28:24', 980190962)[0m
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-06 08:28:24 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.5ms)
  Rendered devise/registrations/new.html.erb within layouts/application (23.2ms)
  Rendered shared/_nav_bar.html.erb (1.8ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 66ms (Views: 47.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 08:28:24 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.4ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (10.8ms)
  Rendered links/partials/_popular_links.html.erb (0.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (5.8ms)
  Rendered links/partials/_recent.html.erb (0.6ms)
  Rendered pages/index.html.erb within layouts/application (27.7ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 55ms (Views: 34.3ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-06 08:28:24 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.5ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 08:28:24 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.4ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.3ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (2.3ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.6ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.8ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 08:28:24 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)[0m  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-06 07:28:24.563585"], ["updated_at", "2016-04-06 07:28:24.563585"], ["short", "-vb6WA"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 08:28:24 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.7ms)
  Rendered links/partials/_recent.html.erb (0.3ms)
  Rendered pages/index.html.erb within layouts/application (5.2ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 7.2ms | ActiveRecord: 0.6ms)
  [1m[36m (1.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-06 08:28:24 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-06 08:28:24 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.4ms)
  Rendered devise/sessions/new.html.erb within layouts/application (9.9ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 19ms (Views: 17.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 08:28:24 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.4ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.3ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.7ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.2ms | ActiveRecord: 0.9ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 08:28:24 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.6ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.5ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.5ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 08:28:24 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 08:28:24 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.3ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 08:28:24 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.8ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.0ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.9ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.6ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-06 08:28:24 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.5ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 07:29:47', '2016-04-06 07:29:47', 980190962)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$YsDIgUOY5weahH0d81ofReAqfpVJcYMJJCqS5HQ3VRMeDPwlhERFe', '2016-04-06 07:29:47', '2016-04-06 07:29:47', 298486374)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$XMsmRMSnLwnPZRN2lq6na.N08nunkdU6U67UcrbS1EszfRQCU7tOW', '2016-04-06 07:29:47', '2016-04-06 07:29:47', 980190962)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 07:29:47', '2016-04-06 07:29:47', 980190962)[0m
  [1m[35m (2.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 08:29:47 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (21.5ms)
  Rendered links/partials/_popular_links.html.erb (0.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (4.9ms)
  Rendered links/partials/_recent.html.erb (0.7ms)
  Rendered pages/index.html.erb within layouts/application (40.1ms)
  Rendered shared/_nav_bar.html.erb (1.4ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 86ms (Views: 65.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 08:29:47 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (12.3ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (14.1ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 17ms (Views: 15.5ms | ActiveRecord: 0.5ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 08:29:47 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 08:29:47 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (2.3ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.4ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 5.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-06 08:29:47 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.7ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-06 08:29:47 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.5ms)
  Rendered devise/sessions/new.html.erb within layouts/application (14.2ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 25ms (Views: 23.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2016-04-06 08:29:47 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"john@doe.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["email", "john@doe.com"]]
Completed 401 Unauthorized in 21ms (ActiveRecord: 0.3ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"john@doe.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendered devise/shared/_links.html.erb (0.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-06 08:29:47 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.5ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 08:29:47 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.4ms)
  Rendered links/partials/_popular_links.html.erb (0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.7ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (5.3ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 7.2ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-06 08:29:47 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.5ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 08:29:47 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.3ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.6ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.8ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-06 08:29:47 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.3ms)
  Rendered devise/registrations/new.html.erb within layouts/application (2.8ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 11.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 08:29:47 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.7ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.6ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.5ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 08:29:47 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-06 07:29:47.551701"], ["updated_at", "2016-04-06 07:29:47.551701"], ["short", "lfX8-Q"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 08:29:47 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (2.3ms)
  Rendered links/partials/_popular_links.html.erb (0.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (2.8ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (6.6ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 8.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 07:57:08', '2016-04-06 07:57:08', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$zIz4htCfb29XnIOLt3Po4ODQTiOQxjX5fzY8xphmLP8aH6To2J.ou', '2016-04-06 07:57:08', '2016-04-06 07:57:08', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$/5pk0yM/NkICYZnEWQtPhO8H0ZqPBTHKJHlCXMUAuMFDgqsHz/Jc2', '2016-04-06 07:57:08', '2016-04-06 07:57:08', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 07:57:08', '2016-04-06 07:57:08', 980190962)[0m
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-06 08:57:08 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (1.9ms)
  Rendered shared/_nav_bar.html.erb (8.0ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 51ms (Views: 36.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 08:57:08 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (24.9ms)
  Rendered links/partials/_popular_links.html.erb (0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (4.7ms)
  Rendered links/partials/_recent.html.erb (0.5ms)
  Rendered pages/index.html.erb within layouts/application (38.5ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 49ms (Views: 41.4ms | ActiveRecord: 0.6ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 08:57:08 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)[0m  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-06 07:57:08.926901"], ["updated_at", "2016-04-06 07:57:08.926901"], ["short", "L5ZKAA"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 08:57:08 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.6ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.7ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 0.4ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 08:57:08 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.4ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 08:57:08 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.0ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 08:57:08 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.6ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.3ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.9ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 6.9ms | ActiveRecord: 0.7ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 08:57:08 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 08:57:08 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.6ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.6ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.8ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 08:57:09 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.4ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-06 08:57:09 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-06 08:57:09 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.7ms)
  Rendered devise/registrations/new.html.erb within layouts/application (8.5ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 18.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-06 08:57:09 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.6ms)
  Rendered devise/sessions/new.html.erb within layouts/application (8.5ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 14.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2016-04-06 08:57:09 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"john@doe.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "john@doe.com"]]
Completed 401 Unauthorized in 26ms (ActiveRecord: 0.3ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"john@doe.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendered devise/shared/_links.html.erb (0.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-06 08:57:09 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 07:57:22', '2016-04-06 07:57:22', 980190962)
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$lPHuxcciENH3MhbZDWnLKO6/3kJPCY/DYa30BzgrEHhutd9qs4dHm', '2016-04-06 07:57:22', '2016-04-06 07:57:22', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$ZCtnSGfS7DCrESIEfXSPRONZg5wAXw.AOnBYmzQmHgS/auDPa/bvC', '2016-04-06 07:57:22', '2016-04-06 07:57:22', 980190962)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 07:57:22', '2016-04-06 07:57:22', 980190962)[0m
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-06 08:57:32 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.8ms)
  Rendered devise/sessions/new.html.erb within layouts/application (44.5ms)
  Rendered shared/_nav_bar.html.erb (2.6ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 95ms (Views: 77.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2016-04-06 08:57:35 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"john@doe.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["email", "john@doe.com"]]
Completed 401 Unauthorized in 26ms (ActiveRecord: 0.5ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"john@doe.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendered devise/shared/_links.html.erb (0.6ms)
  Rendered devise/sessions/new.html.erb within layouts/application (3.4ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 7.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-06 08:57:35 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.6ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 8.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-06 08:57:40 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-06 08:57:48 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.5ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 22ms (Views: 21.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-06 08:57:50 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.5ms)
  Rendered devise/registrations/new.html.erb within layouts/application (3.2ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 22ms (Views: 20.6ms | ActiveRecord: 0.0ms)
Started POST "/" for 127.0.0.1 at 2016-04-06 08:57:52 +0100
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"full_name"=>"John Doe", "email"=>"john@doe.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'john@doe.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "cKeNdcgxpQaPdePDee5t"]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["full_name", "John Doe"], ["email", "john@doe.com"], ["encrypted_password", "$2a$04$uWfi5M.qvUiDRztBfAPOA.N6EfGynVS5DzYrF7Xue65rVgUY0hr/S"], ["authentication_token", "cKeNdcgxpQaPdePDee5t"], ["created_at", "2016-04-06 07:57:52.418744"], ["updated_at", "2016-04-06 07:57:52.418744"]]
  [1m[36m (163.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["last_sign_in_at", "2016-04-06 07:57:52.587898"], ["current_sign_in_at", "2016-04-06 07:57:52.587898"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2016-04-06 07:57:52.589819"], ["id", 980190963]]
  [1m[35m (1.3ms)[0m  commit transaction
Redirected to http://127.0.0.1:56880/dashboard
Completed 302 Found in 334ms (ActiveRecord: 166.9ms)
Started GET "/dashboard" for 127.0.0.1 at 2016-04-06 08:57:52 +0100
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190963]]
  Rendered shared/_side_bar.html.erb (3.2ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190963]]
  Rendered links/index.html.erb within layouts/application (42.5ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 246ms (Views: 103.6ms | ActiveRecord: 1.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mUser Load (8.7ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" DESC LIMIT 1
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 08:02:46', '2016-04-06 08:02:46', 980190962)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$2rUc8VNvyu/1n332i1y.seSEaCKwyuAwSG80HaqmwnDl6hFmxeXOW', '2016-04-06 08:02:46', '2016-04-06 08:02:46', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$l8elJ0awriF2vkc6.nI6eezauuH0uLjYssyw1xNnBIy89a8UVzAVO', '2016-04-06 08:02:46', '2016-04-06 08:02:46', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 08:02:46', '2016-04-06 08:02:46', 980190962)[0m
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-06 09:02:55 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (2.3ms)
  Rendered shared/_nav_bar.html.erb (6.8ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 50ms (Views: 32.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-06 09:02:56 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.5ms)
  Rendered shared/_nav_bar.html.erb (1.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 20ms (Views: 19.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-06 09:03:01 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-06 09:03:05 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (2.0ms)
  Rendered devise/registrations/new.html.erb within layouts/application (20.8ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 67ms (Views: 63.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-06 09:03:08 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.8ms)
  Rendered devise/sessions/new.html.erb within layouts/application (22.9ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 32ms (Views: 30.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2016-04-06 09:03:08 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"john@doe.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["email", "john@doe.com"]]
Completed 401 Unauthorized in 26ms (ActiveRecord: 0.3ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"john@doe.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendered devise/shared/_links.html.erb (0.6ms)
  Rendered devise/sessions/new.html.erb within layouts/application (3.4ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 6.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 08:12:20', '2016-04-06 08:12:20', 980190962)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$wsBJ68UgryUAaj6ZLF/6GuhqxzT7wP7Pjquic/ZNVdXID6Yu9ZZO.', '2016-04-06 08:12:20', '2016-04-06 08:12:20', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$ePpOWP1R6GdcXqhPBorAreBzHg/kbDJHu12ioPn6VpG3OzD1ZX5ma', '2016-04-06 08:12:20', '2016-04-06 08:12:20', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 08:12:20', '2016-04-06 08:12:20', 980190962)[0m
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (15.8ms)
  Rendered links/partials/_popular_links.html.erb (1.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (8.1ms)
  Rendered links/partials/_recent.html.erb (1.4ms)
  Rendered pages/index.html.erb within layouts/application (70.5ms)
  Rendered shared/_nav_bar.html.erb (2.1ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 117ms (Views: 107.6ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
VisitTest: test_valid
---------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?  [["authentication_token", "oWz2xneyv7F_2W-UYxzY"]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["authentication_token", "oWz2xneyv7F_2W-UYxzY"], ["updated_at", "2016-04-06 08:12:21.104065"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?[0m  [["active", "f"], ["updated_at", "2016-04-06 08:12:21.137115"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "custom"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?[0m  [["click_count", 1], ["updated_at", "2016-04-06 08:12:21.145257"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-06 08:12:21.151113"], ["updated_at", "2016-04-06 08:12:21.151113"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to https://google.com.ng
Completed 302 Found in 10ms (ActiveRecord: 0.9ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-06 09:12:26 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.7ms)
  Rendered shared/_nav_bar.html.erb (1.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 19ms (Views: 6.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-06 09:12:36 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.5ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-06 09:12:39 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.5ms)
  Rendered devise/registrations/new.html.erb within layouts/application (11.0ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 24ms (Views: 21.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-06 09:12:42 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (11.4ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 21ms (Views: 19.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2016-04-06 09:12:43 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"john@doe.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["email", "john@doe.com"]]
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.3ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"john@doe.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendered devise/shared/_links.html.erb (0.5ms)
  Rendered devise/sessions/new.html.erb within layouts/application (5.2ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 7.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-06 09:12:44 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.8ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (26.2ms)
  Rendered visits/new.html.erb within layouts/application (29.0ms)
  Rendered shared/_nav_bar.html.erb (1.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 49ms (Views: 48.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mVisit Load (0.3ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT "visits".* FROM "visits"[0m
  Rendered visits/index.html.erb within layouts/application (2.4ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 7.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["link_id", 980190962], ["created_at", "2016-04-06 08:12:50.794362"], ["updated_at", "2016-04-06 08:12:50.794362"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/_form.html.erb (4.4ms)
  Rendered visits/edit.html.erb within layouts/application (5.3ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 9.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.3ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (1.4ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "visits" WHERE "visits"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 08:12:50', '2016-04-06 08:12:50', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$pozM/PHHo9aZG1yaBcIlZeWgnrFLZlWJYrF6zPRqRtzG.n7Go6/cC', '2016-04-06 08:12:50', '2016-04-06 08:12:50', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$zzV3X29L7bEkB73dRrMD1eYNiF/rnhPt2m5Qyy14a0YDMk6L61Gb2', '2016-04-06 08:12:50', '2016-04-06 08:12:50', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 08:12:50', '2016-04-06 08:12:50', 980190962)[0m
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:12:50.866494"], ["updated_at", "2016-04-06 08:12:50.866494"], ["short", "iUGQZg"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"iUGQZg", "user_id"=>"980190962"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "iUGQZg"], ["created_at", "2016-04-06 08:12:50.878294"], ["updated_at", "2016-04-06 08:12:50.878294"]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 7ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:12:50.887547"], ["updated_at", "2016-04-06 08:12:50.887547"], ["short", "0kMe-w"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "links" WHERE "links"."id" = ?[0m  [["id", 980190963]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/dashboard
Completed 302 Found in 8ms (ActiveRecord: 2.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:12:50.908214"], ["updated_at", "2016-04-06 08:12:50.908214"], ["short", "c63wUQ"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (8.2ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 34ms (Views: 31.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:12:50.949972"], ["updated_at", "2016-04-06 08:12:50.949972"], ["short", "aCTcIg"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  Rendered links/partials/_form.html.erb (15.5ms)
  Rendered links/edit.html.erb within layouts/application (17.6ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 24ms (Views: 21.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:12:50.983621"], ["updated_at", "2016-04-06 08:12:50.983621"], ["short", "216Ttg"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  [1m[36mVisit Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1[0m  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (43.5ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 49ms (Views: 47.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:12:51.040199"], ["updated_at", "2016-04-06 08:12:51.040199"], ["short", "SxHzhg"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.7ms)
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/new.html.erb within layouts/application (2.9ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 7.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:12:51.056978"], ["updated_at", "2016-04-06 08:12:51.056978"], ["short", "MbA-_Q"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"MbA-_Q", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/links/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 08:13:27', '2016-04-06 08:13:27', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$9ffLYUUhZkYvDBTpcB424.gYHihIJl75QSQ2Q4hbLG70H/891YMYm', '2016-04-06 08:13:27', '2016-04-06 08:13:27', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$jE2NsjAdFF2FO7SAzA2HS.lp.bX9u4m3Iwum64yzoSjEUWFEVs3JK', '2016-04-06 08:13:27', '2016-04-06 08:13:27', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 08:13:27', '2016-04-06 08:13:27', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (37.4ms)
  Rendered links/partials/_popular_links.html.erb (1.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (5.3ms)
  Rendered links/partials/_recent.html.erb (0.5ms)
  Rendered pages/index.html.erb within layouts/application (59.5ms)
  Rendered shared/_nav_bar.html.erb (1.4ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 93ms (Views: 81.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:13:27.865546"], ["updated_at", "2016-04-06 08:13:27.865546"], ["short", "0xU57g"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"0xU57g", "user_id"=>"980190962"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "0xU57g"], ["created_at", "2016-04-06 08:13:27.900618"], ["updated_at", "2016-04-06 08:13:27.900618"]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 21ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:13:27.909396"], ["updated_at", "2016-04-06 08:13:27.909396"], ["short", "qH-geg"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "links" WHERE "links"."id" = ?[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/dashboard
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:13:27.923103"], ["updated_at", "2016-04-06 08:13:27.923103"], ["short", "peXzAQ"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.1ms)
  [1m[35mVisit Exists (0.2ms)[0m  SELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (17.5ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 26ms (Views: 24.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:13:27.955894"], ["updated_at", "2016-04-06 08:13:27.955894"], ["short", "zhMaMQ"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.2ms)
  Rendered links/partials/_form.html.erb (2.0ms)
  Rendered links/new.html.erb within layouts/application (4.6ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 8.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:13:27.973679"], ["updated_at", "2016-04-06 08:13:27.973679"], ["short", "ydt7IA"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35mLink Load (0.2ms)[0m  SELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (3.9ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 8.9ms | ActiveRecord: 0.4ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:13:27.992884"], ["updated_at", "2016-04-06 08:13:27.992884"], ["short", "BMG0rg"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.6ms)
  Rendered links/partials/_form.html.erb (4.0ms)
  Rendered links/edit.html.erb within layouts/application (7.1ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 10.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:13:28.011154"], ["updated_at", "2016-04-06 08:13:28.011154"], ["short", "4IAz9g"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"4IAz9g", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/links/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?  [["authentication_token", "GzoDxE6Q16yFBDjRVz7W"]]
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["authentication_token", "GzoDxE6Q16yFBDjRVz7W"], ["updated_at", "2016-04-06 08:13:28.032351"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?[0m  [["active", "f"], ["updated_at", "2016-04-06 08:13:28.053105"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "custom"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?[0m  [["click_count", 1], ["updated_at", "2016-04-06 08:13:28.060339"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-06 08:13:28.070382"], ["updated_at", "2016-04-06 08:13:28.070382"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to https://google.com.ng
Completed 302 Found in 13ms (ActiveRecord: 0.8ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
VisitTest: test_valid
---------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.0ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/_form.html.erb (11.6ms)
  Rendered visits/edit.html.erb within layouts/application (16.2ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 26ms (Views: 25.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (1.2ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (2.3ms)
  Rendered visits/new.html.erb within layouts/application (3.0ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 6.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.0ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "visits" WHERE "visits"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[35mVisit Load (0.1ms)[0m  SELECT "visits".* FROM "visits"
  Rendered visits/index.html.erb within layouts/application (1.5ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["link_id", 980190962], ["created_at", "2016-04-06 08:13:28.166270"], ["updated_at", "2016-04-06 08:13:28.166270"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[35mVisit Load (0.0ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 09:13:28 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (2.0ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (5.9ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 19ms (Views: 7.4ms | ActiveRecord: 0.6ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 09:13:28 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-06 08:13:28.210696"], ["updated_at", "2016-04-06 08:13:28.210696"], ["short", "qXKptw"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 09:13:28 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (2.6ms)
  Rendered links/partials/_popular_links.html.erb (0.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (3.1ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (7.4ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 8.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 09:13:28 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.1ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.5ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 09:13:28 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 09:13:28 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.7ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.6ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-06 09:13:28 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (7.9ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 22ms (Views: 19.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2016-04-06 09:13:28 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"john@doe.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["email", "john@doe.com"]]
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.2ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"john@doe.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendered devise/shared/_links.html.erb (0.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 09:13:28 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.4ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.9ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (5.7ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-06 09:13:28 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 09:13:28 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.6ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.3ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (5.2ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 12ms (Views: 8.7ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-06 09:13:28 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.0ms)
  Rendered devise/registrations/new.html.erb within layouts/application (4.1ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 13ms (Views: 11.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-06 09:13:28 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.7ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-06 09:13:28 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 09:13:28 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (3.6ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 5.0ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 08:17:07', '2016-04-06 08:17:07', 980190962)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$sZZU5e4fM4IYJq0f36Nl/u4ws6neJBOF42wXzBJNIU1Ag7YSXVlgy', '2016-04-06 08:17:07', '2016-04-06 08:17:07', 298486374)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$fWqagzbB6qSH5Jfs2hFMMuT64ih0Kx1Hkl7ZetYGHhofzyuuNPZy2', '2016-04-06 08:17:07', '2016-04-06 08:17:07', 980190962)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 08:17:07', '2016-04-06 08:17:07', 980190962)[0m
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-06 09:17:14 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (2.5ms)
  Rendered shared/_nav_bar.html.erb (7.8ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 64ms (Views: 43.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-06 09:17:17 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.9ms)
  Rendered devise/registrations/new.html.erb within layouts/application (21.2ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 37ms (Views: 33.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-06 09:17:26 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-06 09:17:26 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (11.6ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 18.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2016-04-06 09:17:27 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"john@doe.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["email", "john@doe.com"]]
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.3ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"john@doe.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendered devise/shared/_links.html.erb (0.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (2.2ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-06 09:17:27 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.5ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 20ms (Views: 19.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------
VisitTest: test_valid
---------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT "visits".* FROM "visits"[0m
  Rendered visits/index.html.erb within layouts/application (4.4ms)
  Rendered shared/_nav_bar.html.erb (2.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 34ms (Views: 32.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (1.0ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "visits" WHERE "visits"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.0ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/_form.html.erb (33.3ms)
  Rendered visits/edit.html.erb within layouts/application (38.9ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 151ms (Views: 150.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["link_id", 980190962], ["created_at", "2016-04-06 08:17:30.289977"], ["updated_at", "2016-04-06 08:17:30.289977"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (3.3ms)
  Rendered visits/new.html.erb within layouts/application (4.3ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 9.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "links"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 08:17:30', '2016-04-06 08:17:30', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$TvJc5Szuc.08lxOkQGRBO.WOTDLTUam55Ohtfqb.t9786S7iFER5u', '2016-04-06 08:17:30', '2016-04-06 08:17:30', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$ZenXkthlTPEAtysMAc.XDOpBT/AyhOshO3iihDjQoLuW8oJ/y3WTO', '2016-04-06 08:17:30', '2016-04-06 08:17:30', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 08:17:30', '2016-04-06 08:17:30', 980190962)
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (4.2ms)
  Rendered links/partials/_popular_links.html.erb (1.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (8.2ms)
  Rendered links/partials/_recent.html.erb (1.2ms)
  Rendered pages/index.html.erb within layouts/application (208.1ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 234ms (Views: 231.7ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?  [["authentication_token", "9jRs3QmvMy1knHMWaL59"]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["authentication_token", "9jRs3QmvMy1knHMWaL59"], ["updated_at", "2016-04-06 08:17:30.585876"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?[0m  [["active", "f"], ["updated_at", "2016-04-06 08:17:30.605265"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "custom"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?[0m  [["click_count", 1], ["updated_at", "2016-04-06 08:17:30.621178"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-06 08:17:30.625730"], ["updated_at", "2016-04-06 08:17:30.625730"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to https://google.com.ng
Completed 302 Found in 8ms (ActiveRecord: 0.8ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:17:30.655441"], ["updated_at", "2016-04-06 08:17:30.655441"], ["short", "QfcvJQ"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"QfcvJQ", "user_id"=>"980190962"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "QfcvJQ"], ["created_at", "2016-04-06 08:17:30.667398"], ["updated_at", "2016-04-06 08:17:30.667398"]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (104.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:17:30.780442"], ["updated_at", "2016-04-06 08:17:30.780442"], ["short", "tAu3vA"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "links" WHERE "links"."id" = ?[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/dashboard
Completed 302 Found in 6ms (ActiveRecord: 1.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:17:30.796624"], ["updated_at", "2016-04-06 08:17:30.796624"], ["short", "gz1m_A"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.2ms)
  Rendered links/partials/_form.html.erb (1.7ms)
  Rendered links/edit.html.erb within layouts/application (6.0ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 13.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:17:30.818112"], ["updated_at", "2016-04-06 08:17:30.818112"], ["short", "aywiqA"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"aywiqA", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/links/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:17:30.830632"], ["updated_at", "2016-04-06 08:17:30.830632"], ["short", "oyyEQg"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.8ms)
  Rendered links/partials/_form.html.erb (1.4ms)
  Rendered links/new.html.erb within layouts/application (3.4ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:17:30.845605"], ["updated_at", "2016-04-06 08:17:30.845605"], ["short", "k0cMqA"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.8ms)
  [1m[36mVisit Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1[0m  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (46.5ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 53ms (Views: 51.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:17:30.906039"], ["updated_at", "2016-04-06 08:17:30.906039"], ["short", "jc-qLg"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.9ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35mLink Load (0.2ms)[0m  SELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (7.0ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 119ms (Views: 116.3ms | ActiveRecord: 0.5ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 08:24:44', '2016-04-06 08:24:44', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$LdtepbArVLpQZnxXPPibXecAx4BmpYactXdKaz4KPGb5ZJEm90Fk6', '2016-04-06 08:24:44', '2016-04-06 08:24:44', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$.vpzUNXbDgS7U4f2LPOnDeMDPBlCotm0q9CBIY6u8SNE6rTNIgrji', '2016-04-06 08:24:44', '2016-04-06 08:24:44', 980190962)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 08:24:44', '2016-04-06 08:24:44', 980190962)[0m
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[35mLink Load (0.4ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "visits" WHERE "visits"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/_form.html.erb (15.2ms)
  Rendered visits/edit.html.erb within layouts/application (22.5ms)
  Rendered shared/_nav_bar.html.erb (10.0ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 59ms (Views: 57.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[36mVisit Load (0.3ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (1.0ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (3.1ms)
  Rendered visits/new.html.erb within layouts/application (3.8ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 7.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["link_id", 980190962], ["created_at", "2016-04-06 08:24:44.312775"], ["updated_at", "2016-04-06 08:24:44.312775"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[36mVisit Load (0.4ms)[0m  [1mSELECT "visits".* FROM "visits"[0m
  Rendered visits/index.html.erb within layouts/application (2.0ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-06 09:24:54 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.6ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 19ms (Views: 8.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-06 09:24:57 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.7ms)
  Rendered devise/sessions/new.html.erb within layouts/application (13.3ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 28ms (Views: 24.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2016-04-06 09:24:58 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"john@doe.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["email", "john@doe.com"]]
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.5ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"john@doe.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendered devise/shared/_links.html.erb (0.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (2.2ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-06 09:24:58 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.7ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-06 09:24:59 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.8ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 10.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-06 09:25:07 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.5ms)
  Rendered devise/registrations/new.html.erb within layouts/application (4.0ms)
  Rendered shared/_nav_bar.html.erb (1.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 33ms (Views: 32.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:25:10.663059"], ["updated_at", "2016-04-06 08:25:10.663059"], ["short", "IHq-Mw"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (8.6ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 15.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:25:10.721851"], ["updated_at", "2016-04-06 08:25:10.721851"], ["short", "dW_euA"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "links" WHERE "links"."id" = ?  [["id", 980190963]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/dashboard
Completed 302 Found in 7ms (ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:25:10.741400"], ["updated_at", "2016-04-06 08:25:10.741400"], ["short", "Np38Dw"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (20.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"Np38Dw", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/links/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:25:10.772806"], ["updated_at", "2016-04-06 08:25:10.772806"], ["short", "jJvTwg"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.0ms)
  Rendered links/partials/_form.html.erb (3.4ms)
  Rendered links/edit.html.erb within layouts/application (16.1ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 22ms (Views: 20.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:25:10.801349"], ["updated_at", "2016-04-06 08:25:10.801349"], ["short", "LALvJQ"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.7ms)
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/new.html.erb within layouts/application (3.1ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 8.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:25:10.819134"], ["updated_at", "2016-04-06 08:25:10.819134"], ["short", "FIlqzg"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"FIlqzg", "user_id"=>"980190962"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "FIlqzg"], ["created_at", "2016-04-06 08:25:10.827085"], ["updated_at", "2016-04-06 08:25:10.827085"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 7ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:25:10.836614"], ["updated_at", "2016-04-06 08:25:10.836614"], ["short", "mcqLsA"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  [1m[36mVisit Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1[0m  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (31.0ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 38ms (Views: 35.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "links"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 08:25:10', '2016-04-06 08:25:10', 980190962)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$TggAisVC9ikQGTBrb4RU4uyWSSczHDW/fmzpSlhw9pvcKvs7t.eHW', '2016-04-06 08:25:10', '2016-04-06 08:25:10', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$C1FIt43MnfszZ2Fpo8yVKus.LELtm3AS.jjLzOiGFd4oxwokYtzby', '2016-04-06 08:25:10', '2016-04-06 08:25:10', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 08:25:10', '2016-04-06 08:25:10', 980190962)
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (1.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (4.5ms)
  Rendered links/partials/_recent.html.erb (1.5ms)
  Rendered pages/index.html.erb within layouts/application (47.1ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 54ms (Views: 51.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------
VisitTest: test_valid
---------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["active", "f"], ["updated_at", "2016-04-06 08:25:11.017108"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.3ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["click_count", 1], ["updated_at", "2016-04-06 08:25:11.027140"], ["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-06 08:25:11.032559"], ["updated_at", "2016-04-06 08:25:11.032559"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to https://google.com.ng
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?  [["authentication_token", "-zyj_kwRk3UGja_R599N"]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["authentication_token", "-zyj_kwRk3UGja_R599N"], ["updated_at", "2016-04-06 08:25:11.041570"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 08:28:06', '2016-04-06 08:28:06', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$sVTSigHOAqOhSUK36TsMHu89sM3rKZDSBDDumIK5GMGHRBycYLZIG', '2016-04-06 08:28:06', '2016-04-06 08:28:06', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$tZXHiqqogQ/scvVGu7gsDO26f376cxjs4VOHopSSyi0P.tvBcI.ii', '2016-04-06 08:28:06', '2016-04-06 08:28:06', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 08:28:06', '2016-04-06 08:28:06', 980190962)[0m
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 22ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["active", "f"], ["updated_at", "2016-04-06 08:28:06.917632"], ["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (30.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["click_count", 1], ["updated_at", "2016-04-06 08:28:06.962013"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-06 08:28:06.975785"], ["updated_at", "2016-04-06 08:28:06.975785"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to https://google.com.ng
Completed 302 Found in 18ms (ActiveRecord: 1.1ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?  [["authentication_token", "-z_P8F5dwYyb8U8fWARa"]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["authentication_token", "-z_P8F5dwYyb8U8fWARa"], ["updated_at", "2016-04-06 08:28:07.187015"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (51.8ms)
  Rendered links/partials/_popular_links.html.erb (0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (5.3ms)
  Rendered links/partials/_recent.html.erb (0.7ms)
  Rendered pages/index.html.erb within layouts/application (99.1ms)
  Rendered shared/_nav_bar.html.erb (2.4ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 212ms (Views: 209.4ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------
VisitTest: test_valid
---------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-06 09:28:14 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (2.2ms)
  Rendered devise/registrations/new.html.erb within layouts/application (62.8ms)
  Rendered shared/_nav_bar.html.erb (1.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 129ms (Views: 94.6ms | ActiveRecord: 0.0ms)
Started POST "/" for 127.0.0.1 at 2016-04-06 09:28:16 +0100
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"full_name"=>"John Doe", "email"=>"john@doe.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'john@doe.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?  [["authentication_token", "dvdYp7Q6chVkq6Aj6mSc"]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["full_name", "John Doe"], ["email", "john@doe.com"], ["encrypted_password", "$2a$04$ywhcer2IXBhWmtWHlVfSiuVrrer8ucB3kyl0gq76k7AjOrpz68t0G"], ["authentication_token", "dvdYp7Q6chVkq6Aj6mSc"], ["created_at", "2016-04-06 08:28:16.504595"], ["updated_at", "2016-04-06 08:28:16.504595"]]
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["last_sign_in_at", "2016-04-06 08:28:16.509386"], ["current_sign_in_at", "2016-04-06 08:28:16.509386"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2016-04-06 08:28:16.510188"], ["id", 980190964]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
Redirected to http://127.0.0.1:59264/dashboard
Completed 302 Found in 94ms (ActiveRecord: 5.6ms)
Started GET "/dashboard" for 127.0.0.1 at 2016-04-06 09:28:16 +0100
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190964]]
  Rendered shared/_side_bar.html.erb (1.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190964]]
  Rendered links/index.html.erb within layouts/application (5.2ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 15ms (Views: 11.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-06 09:28:16 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 11.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-06 09:28:19 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.9ms)
  Rendered devise/sessions/new.html.erb within layouts/application (66.1ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 107ms (Views: 105.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2016-04-06 09:28:20 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"john@doe.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["email", "john@doe.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["current_sign_in_at", "2016-04-06 08:28:20.511681"], ["sign_in_count", 2], ["updated_at", "2016-04-06 08:28:20.512431"], ["id", 980190964]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
Redirected to http://127.0.0.1:59264/dashboard
Completed 302 Found in 27ms (ActiveRecord: 2.0ms)
Started GET "/dashboard" for 127.0.0.1 at 2016-04-06 09:28:20 +0100
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190964]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190964]]
  Rendered links/index.html.erb within layouts/application (1.3ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-06 09:28:23 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (1.1ms)
  Rendered shared/_nav_bar.html.erb (1.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 17ms (Views: 16.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-06 09:28:23 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.5ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "visits" WHERE "visits"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mVisit Load (0.3ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (31.8ms)
  Rendered visits/new.html.erb within layouts/application (35.6ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 72ms (Views: 71.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (1.0ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["link_id", 980190962], ["created_at", "2016-04-06 08:28:28.853939"], ["updated_at", "2016-04-06 08:28:28.853939"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190963
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[36mVisit Load (0.0ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/_form.html.erb (4.3ms)
  Rendered visits/edit.html.erb within layouts/application (5.2ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 9.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT "visits".* FROM "visits"[0m
  Rendered visits/index.html.erb within layouts/application (2.1ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "links"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 08:28:28', '2016-04-06 08:28:28', 980190962)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$JlnVXFQ45pX/9Sy407jBI.bIAVfyxlMEQKQypcB3iFOjIG8jgZFZG', '2016-04-06 08:28:28', '2016-04-06 08:28:28', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$YrCauWMv5J/KDc2MQLB4uOKgOcMQVduQhJYtqpPysLPLbtnWyVEEm', '2016-04-06 08:28:28', '2016-04-06 08:28:28', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 08:28:28', '2016-04-06 08:28:28', 980190962)
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:28:28.935922"], ["updated_at", "2016-04-06 08:28:28.935922"], ["short", "_GblNg"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.1ms)
  Rendered links/partials/_form.html.erb (2.4ms)
  Rendered links/edit.html.erb within layouts/application (6.4ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 29ms (Views: 27.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:28:28.975634"], ["updated_at", "2016-04-06 08:28:28.975634"], ["short", "6QWIEA"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.7ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  [1m[36mLink Load (0.4ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (4.8ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:28:28.992021"], ["updated_at", "2016-04-06 08:28:28.992021"], ["short", "7CwY9A"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"7CwY9A", "user_id"=>"980190962"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "7CwY9A"], ["created_at", "2016-04-06 08:28:28.998627"], ["updated_at", "2016-04-06 08:28:28.998627"]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 8ms (ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:28:29.008653"], ["updated_at", "2016-04-06 08:28:29.008653"], ["short", "toPPag"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.1ms)
  [1m[36mVisit Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1[0m  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (9.8ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 28ms (Views: 26.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:28:29.044479"], ["updated_at", "2016-04-06 08:28:29.044479"], ["short", "EFlrrw"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.8ms)
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/new.html.erb within layouts/application (3.3ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:28:29.060098"], ["updated_at", "2016-04-06 08:28:29.060098"], ["short", "npn-2Q"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"npn-2Q", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/links/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:28:29.072413"], ["updated_at", "2016-04-06 08:28:29.072413"], ["short", "wqCtTA"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "links" WHERE "links"."id" = ?[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/dashboard
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 08:32:08', '2016-04-06 08:32:08', 980190962)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$4NGR6HXUxwj620Wzh2L5R.0pj7z4EBBqR0BAFN/Y47Vs3sgYE7k4C', '2016-04-06 08:32:08', '2016-04-06 08:32:08', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$1lnKnRQDUPeGOWUBTg2Aee9rlvY4XkRNM4UoIAmdmMk0rmGBP1Cwm', '2016-04-06 08:32:08', '2016-04-06 08:32:08', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 08:32:08', '2016-04-06 08:32:08', 980190962)[0m
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "dUsC-J253QE1oi6wiAEq"]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["authentication_token", "dUsC-J253QE1oi6wiAEq"], ["updated_at", "2016-04-06 08:32:09.025476"], ["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 24ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["active", "f"], ["updated_at", "2016-04-06 08:32:09.258913"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["click_count", 1], ["updated_at", "2016-04-06 08:32:09.270871"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-06 08:32:09.281452"], ["updated_at", "2016-04-06 08:32:09.281452"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to https://google.com.ng
Completed 302 Found in 14ms (ActiveRecord: 0.9ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190962
Completed 302 Found in 22ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/_form.html.erb (52.4ms)
  Rendered visits/edit.html.erb within layouts/application (90.6ms)
  Rendered shared/_nav_bar.html.erb (16.1ms)
  Rendered shared/_footer.html.erb (0.6ms)
Completed 200 OK in 216ms (Views: 215.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "visits" WHERE "visits"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["link_id", 980190962], ["created_at", "2016-04-06 08:32:09.545655"], ["updated_at", "2016-04-06 08:32:09.545655"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mVisit Load (0.3ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (3.2ms)
  Rendered visits/new.html.erb within layouts/application (4.2ms)
  Rendered shared/_nav_bar.html.erb (1.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 9.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[35mVisit Load (0.1ms)[0m  SELECT "visits".* FROM "visits"
  Rendered visits/index.html.erb within layouts/application (1.9ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (1.0ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-06 09:32:09 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 21ms (Views: 8.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-06 09:32:09 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-06 09:32:09 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (2.9ms)
  Rendered devise/registrations/new.html.erb within layouts/application (40.4ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 62ms (Views: 51.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-06 09:32:09 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 09:32:09 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (3.6ms)
  Rendered links/partials/_popular_links.html.erb (0.9ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (4.9ms)
  Rendered links/partials/_recent.html.erb (1.5ms)
  Rendered pages/index.html.erb within layouts/application (43.9ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 51ms (Views: 48.5ms | ActiveRecord: 0.5ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 09:32:09 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-06 08:32:09.834853"], ["updated_at", "2016-04-06 08:32:09.834853"], ["short", "NRrZ4Q"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 36ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 09:32:09 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.5ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.8ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.5ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 5.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 09:32:09 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.3ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 4.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-06 09:32:09 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (23.7ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 54ms (Views: 52.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2016-04-06 09:32:09 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"john@doe.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["email", "john@doe.com"]]
Completed 401 Unauthorized in 18ms (ActiveRecord: 0.4ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"john@doe.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendered devise/shared/_links.html.erb (0.6ms)
  Rendered devise/sessions/new.html.erb within layouts/application (2.6ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 09:32:10 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.7ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (5.4ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 8.3ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 09:32:10 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.3ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.6ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.0ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.4ms | ActiveRecord: 0.7ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 09:32:10 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 09:32:10 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.6ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.1ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (4.9ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 09:32:10 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.7ms)
  Rendered links/partials/_recent.html.erb (0.3ms)
  Rendered pages/index.html.erb within layouts/application (4.3ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.4ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.6ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.5ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.9ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------
VisitTest: test_valid
---------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:32:10.122580"], ["updated_at", "2016-04-06 08:32:10.122580"], ["short", "B6N0mg"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"B6N0mg", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/links/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:32:10.135063"], ["updated_at", "2016-04-06 08:32:10.135063"], ["short", "nMmrhg"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "links" WHERE "links"."id" = ?  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/dashboard
Completed 302 Found in 5ms (ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:32:10.149574"], ["updated_at", "2016-04-06 08:32:10.149574"], ["short", "zHJYMg"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.8ms)
  [1m[36mVisit Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1[0m  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (35.9ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 48ms (Views: 46.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:32:10.205477"], ["updated_at", "2016-04-06 08:32:10.205477"], ["short", "vA-cEA"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (0.9ms)
  Rendered links/new.html.erb within layouts/application (2.7ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 7.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:32:10.223290"], ["updated_at", "2016-04-06 08:32:10.223290"], ["short", "UpXSHw"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (4.0ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 8.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:32:10.241175"], ["updated_at", "2016-04-06 08:32:10.241175"], ["short", "B_dQkw"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.9ms)
  Rendered links/partials/_form.html.erb (1.8ms)
  Rendered links/edit.html.erb within layouts/application (4.4ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:32:10.262486"], ["updated_at", "2016-04-06 08:32:10.262486"], ["short", "9MsvqA"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"9MsvqA", "user_id"=>"980190962"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "9MsvqA"], ["created_at", "2016-04-06 08:32:10.269387"], ["updated_at", "2016-04-06 08:32:10.269387"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 8ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 08:32:29', '2016-04-06 08:32:29', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$//W5SaSvnXOR8eyRySaxoeVANO4BJF/3lJ0z943axsv6DR3Nd1FmK', '2016-04-06 08:32:29', '2016-04-06 08:32:29', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$UrH55.W3aOMoiFuvPfnRhOoD4M5ZEDZk0A4xG5B9h3yBmJBjn7Bkq', '2016-04-06 08:32:29', '2016-04-06 08:32:29', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 08:32:29', '2016-04-06 08:32:29', 980190962)[0m
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[35mVisit Load (0.3ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190962
Completed 302 Found in 14ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (3.3ms)
  Rendered shared/_nav_bar.html.erb (8.8ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 50ms (Views: 49.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "visits" WHERE "visits"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.0ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/_form.html.erb (27.9ms)
  Rendered visits/edit.html.erb within layouts/application (30.4ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 34ms (Views: 33.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[35mVisit Load (0.1ms)[0m  SELECT "visits".* FROM "visits"
  Rendered visits/index.html.erb within layouts/application (1.8ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (2.7ms)
  Rendered visits/new.html.erb within layouts/application (3.3ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["link_id", 980190962], ["created_at", "2016-04-06 08:32:30.169563"], ["updated_at", "2016-04-06 08:32:30.169563"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (2.9ms)
  Rendered links/partials/_popular_links.html.erb (0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (5.2ms)
  Rendered links/partials/_recent.html.erb (0.6ms)
  Rendered pages/index.html.erb within layouts/application (17.6ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 32ms (Views: 24.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["active", "f"], ["updated_at", "2016-04-06 08:32:30.229849"], ["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["click_count", 1], ["updated_at", "2016-04-06 08:32:30.246028"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-06 08:32:30.251636"], ["updated_at", "2016-04-06 08:32:30.251636"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to https://google.com.ng
Completed 302 Found in 10ms (ActiveRecord: 1.0ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:32:30.295495"], ["updated_at", "2016-04-06 08:32:30.295495"], ["short", "xQ6-Hw"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "links" WHERE "links"."id" = ?[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/dashboard
Completed 302 Found in 6ms (ActiveRecord: 0.9ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:32:30.318655"], ["updated_at", "2016-04-06 08:32:30.318655"], ["short", "3qeAZw"]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.3ms)
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/new.html.erb within layouts/application (5.6ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 13.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:32:30.344789"], ["updated_at", "2016-04-06 08:32:30.344789"], ["short", "9OdzBw"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  Rendered links/partials/_form.html.erb (4.0ms)
  Rendered links/edit.html.erb within layouts/application (5.8ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 11.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:32:30.365885"], ["updated_at", "2016-04-06 08:32:30.365885"], ["short", "mgdnMg"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"mgdnMg", "user_id"=>"980190962"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "mgdnMg"], ["created_at", "2016-04-06 08:32:30.373933"], ["updated_at", "2016-04-06 08:32:30.373933"]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:32:30.383383"], ["updated_at", "2016-04-06 08:32:30.383383"], ["short", "z_XTyQ"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"z_XTyQ", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/links/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:32:30.399186"], ["updated_at", "2016-04-06 08:32:30.399186"], ["short", "0lM7Pg"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.8ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (5.2ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 12ms (Views: 9.6ms | ActiveRecord: 0.4ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:32:30.418277"], ["updated_at", "2016-04-06 08:32:30.418277"], ["short", "Mckz_A"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.8ms)
  [1m[36mVisit Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1[0m  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (14.4ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 23ms (Views: 20.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "w4VxifbtUVXfu4-MTkFN"]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["authentication_token", "w4VxifbtUVXfu4-MTkFN"], ["updated_at", "2016-04-06 08:32:30.464874"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 09:32:30 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.3ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.8ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.0ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 5.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-06 09:32:30 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.5ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-06 09:32:30 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.7ms)
  Rendered devise/sessions/new.html.erb within layouts/application (11.4ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 25ms (Views: 21.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2016-04-06 09:32:30 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"john@doe.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["email", "john@doe.com"]]
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.2ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"john@doe.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendered devise/shared/_links.html.erb (0.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (2.4ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 4.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-06 09:32:30 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-06 09:32:30 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.3ms)
  Rendered devise/registrations/new.html.erb within layouts/application (4.6ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 14ms (Views: 12.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 09:32:30 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.7ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.7ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (5.7ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 7.2ms | ActiveRecord: 0.9ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 09:32:30 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 09:32:30 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.4ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.6ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.5ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.6ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 09:32:30 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.6ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.2ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.9ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 09:32:30 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.7ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.7ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 6.1ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-06 09:32:30 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 09:32:30 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.6ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.6ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.5ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 09:32:30 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-06 08:32:30.714689"], ["updated_at", "2016-04-06 08:32:30.714689"], ["short", "vdYLug"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 09:32:30 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.6ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.0ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.4ms)
  [1m[35m (3.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
VisitTest: test_valid
---------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 08:37:29', '2016-04-06 08:37:29', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$eLdaCIrM/7pxAS9B5ch2w.kmLI1ViW/Xs7CGRnNFz6SmPEjtOAlTe', '2016-04-06 08:37:29', '2016-04-06 08:37:29', 298486374)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$q1vtIkv2I6k6/6wCEEmBNeY/A1w3Plx4WDpoYuS2fKGYncTXaqd9C', '2016-04-06 08:37:29', '2016-04-06 08:37:29', 980190962)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 08:37:29', '2016-04-06 08:37:29', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:37:29.886558"], ["updated_at", "2016-04-06 08:37:29.886558"], ["short", "-ScvMw"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.2ms)
  Rendered links/partials/_form.html.erb (15.0ms)
  Rendered links/new.html.erb within layouts/application (24.3ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 53ms (Views: 41.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:37:29.962293"], ["updated_at", "2016-04-06 08:37:29.962293"], ["short", "78OHhg"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "links" WHERE "links"."id" = ?[0m  [["id", 980190963]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/dashboard
Completed 302 Found in 6ms (ActiveRecord: 1.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:37:29.978152"], ["updated_at", "2016-04-06 08:37:29.978152"], ["short", "ukOa7A"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.8ms)
  [1m[35mVisit Exists (0.1ms)[0m  SELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (14.7ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 22ms (Views: 19.0ms | ActiveRecord: 0.4ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:37:30.007189"], ["updated_at", "2016-04-06 08:37:30.007189"], ["short", "eev-wQ"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"eev-wQ", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/links/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:37:30.018713"], ["updated_at", "2016-04-06 08:37:30.018713"], ["short", "6LSLew"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.4ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (6.0ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 9.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:37:30.037389"], ["updated_at", "2016-04-06 08:37:30.037389"], ["short", "bNQetQ"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.4ms)
  Rendered links/partials/_form.html.erb (4.6ms)
  Rendered links/edit.html.erb within layouts/application (8.9ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 18ms (Views: 16.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:37:30.063727"], ["updated_at", "2016-04-06 08:37:30.063727"], ["short", "22loHg"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"22loHg", "user_id"=>"980190962"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "22loHg"], ["created_at", "2016-04-06 08:37:30.071333"], ["updated_at", "2016-04-06 08:37:30.071333"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 8ms (ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (9.2ms)
  Rendered links/partials/_popular_links.html.erb (0.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (6.1ms)
  Rendered links/partials/_recent.html.erb (0.8ms)
  Rendered pages/index.html.erb within layouts/application (24.9ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 37ms (Views: 33.7ms | ActiveRecord: 0.9ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?  [["authentication_token", "UtG6-ANi3yoxDKSeokxs"]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["authentication_token", "UtG6-ANi3yoxDKSeokxs"], ["updated_at", "2016-04-06 08:37:30.164737"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (1.0ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 10.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["link_id", 980190962], ["created_at", "2016-04-06 08:37:30.208655"], ["updated_at", "2016-04-06 08:37:30.208655"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "visits" WHERE "visits"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (11.3ms)
  Rendered visits/new.html.erb within layouts/application (13.5ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 19ms (Views: 18.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.0ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/_form.html.erb (2.5ms)
  Rendered visits/edit.html.erb within layouts/application (3.4ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[35mVisit Load (0.1ms)[0m  SELECT "visits".* FROM "visits"
  Rendered visits/index.html.erb within layouts/application (1.5ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-06 09:37:35 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.9ms)
  Rendered shared/_nav_bar.html.erb (1.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 37ms (Views: 25.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.8ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-06 09:37:41 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (2.4ms)
  Rendered devise/registrations/new.html.erb within layouts/application (43.4ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 85ms (Views: 72.6ms | ActiveRecord: 0.0ms)
Started POST "/" for 127.0.0.1 at 2016-04-06 09:37:42 +0100
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"full_name"=>"John Doe", "email"=>"john@doe.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'john@doe.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "Tvfe2PZhd2nMhLZDZj-v"]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["full_name", "John Doe"], ["email", "john@doe.com"], ["encrypted_password", "$2a$04$gaquluAJjZIAOwTgWvxqS.2BNiMZcQV43raRL7C/idSNQBosDphwi"], ["authentication_token", "Tvfe2PZhd2nMhLZDZj-v"], ["created_at", "2016-04-06 08:37:42.423496"], ["updated_at", "2016-04-06 08:37:42.423496"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["last_sign_in_at", "2016-04-06 08:37:42.427552"], ["current_sign_in_at", "2016-04-06 08:37:42.427552"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2016-04-06 08:37:42.428405"], ["id", 980190965]]
  [1m[35m (0.9ms)[0m  commit transaction
Redirected to http://127.0.0.1:59649/dashboard
Completed 302 Found in 50ms (ActiveRecord: 3.9ms)
Started GET "/dashboard" for 127.0.0.1 at 2016-04-06 09:37:42 +0100
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190965]]
  Rendered shared/_side_bar.html.erb (1.0ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190965]]
  Rendered links/index.html.erb within layouts/application (3.3ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 4.7ms | ActiveRecord: 1.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-06 09:37:42 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.5ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 18ms (Views: 17.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-06 09:37:45 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.7ms)
  Rendered devise/sessions/new.html.erb within layouts/application (3.9ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 30ms (Views: 28.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2016-04-06 09:37:46 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"john@doe.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "john@doe.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2016-04-06 08:37:46.144025"], ["sign_in_count", 2], ["updated_at", "2016-04-06 08:37:46.144997"], ["id", 980190965]]
  [1m[35m (1.4ms)[0m  commit transaction
Redirected to http://127.0.0.1:59649/dashboard
Completed 302 Found in 36ms (ActiveRecord: 2.1ms)
Started GET "/dashboard" for 127.0.0.1 at 2016-04-06 09:37:46 +0100
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190965]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190965]]
  Rendered links/index.html.erb within layouts/application (1.4ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 2.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-06 09:37:46 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.8ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["click_count", 1], ["updated_at", "2016-04-06 08:37:52.366669"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-06 08:37:52.384885"], ["updated_at", "2016-04-06 08:37:52.384885"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to https://google.com.ng
Completed 302 Found in 23ms (ActiveRecord: 1.2ms)
  [1m[36m (6.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[36mLink Load (0.6ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?[0m  [["active", "f"], ["updated_at", "2016-04-06 08:37:52.400783"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "links"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 08:37:52', '2016-04-06 08:37:52', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$7IN5kq7qRVyoT6B6pxmboOH83ewAOcM1oGpVTMgeFFNFByekUEaQi', '2016-04-06 08:37:52', '2016-04-06 08:37:52', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$ysl8t4LqjvcpTgTIyaEIQO9yDVC4tOXom154JL7SqOS2cc2Py7p/W', '2016-04-06 08:37:52', '2016-04-06 08:37:52', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 08:37:52', '2016-04-06 08:37:52', 980190962)
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[36mVisit Load (0.3ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------
VisitTest: test_valid
---------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (1.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 08:43:50', '2016-04-06 08:43:50', 980190962)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$LE9qxNbFMra.p8l.0R7YteJkVqsAOIPGUC1y87nspu1/gwDrtBbrW', '2016-04-06 08:43:50', '2016-04-06 08:43:50', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$f6YeomL96nMM3eFIoKteSuOpMn5N/Nz5KHxn2DIK0Oqn8BpuLXNVK', '2016-04-06 08:43:50', '2016-04-06 08:43:50', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 08:43:50', '2016-04-06 08:43:50', 980190962)[0m
  [1m[35m (2.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[35mLink Load (0.5ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:43:51.476251"], ["updated_at", "2016-04-06 08:43:51.476251"], ["short", "82OSkg"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.8ms)
  [1m[35mVisit Exists (0.2ms)[0m  SELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (117.5ms)
  Rendered shared/_nav_bar.html.erb (1.5ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 242ms (Views: 219.6ms | ActiveRecord: 0.5ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:43:51.796305"], ["updated_at", "2016-04-06 08:43:51.796305"], ["short", "Q5kGow"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"Q5kGow", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/links/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:43:51.807310"], ["updated_at", "2016-04-06 08:43:51.807310"], ["short", "Jb67yw"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (3.5ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 7.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:43:51.824696"], ["updated_at", "2016-04-06 08:43:51.824696"], ["short", "Glc9jg"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  Rendered links/partials/_form.html.erb (42.7ms)
  Rendered links/edit.html.erb within layouts/application (47.3ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 53ms (Views: 51.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:43:51.884329"], ["updated_at", "2016-04-06 08:43:51.884329"], ["short", "Wz2Pbg"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.8ms)
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/new.html.erb within layouts/application (2.8ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:43:51.898444"], ["updated_at", "2016-04-06 08:43:51.898444"], ["short", "BxVxnQ"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"BxVxnQ", "user_id"=>"980190962"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "BxVxnQ"], ["created_at", "2016-04-06 08:43:51.905744"], ["updated_at", "2016-04-06 08:43:51.905744"]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:43:51.912844"], ["updated_at", "2016-04-06 08:43:51.912844"], ["short", "xek1Qg"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "links" WHERE "links"."id" = ?  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/dashboard
Completed 302 Found in 7ms (ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[36mVisit Load (0.3ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------
VisitTest: test_valid
---------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (24.4ms)
  Rendered links/partials/_popular_links.html.erb (0.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (4.3ms)
  Rendered links/partials/_recent.html.erb (1.5ms)
  Rendered pages/index.html.erb within layouts/application (57.7ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 68ms (Views: 65.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "5Hee_A9dzdC4tBdB6BFH"]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["authentication_token", "5Hee_A9dzdC4tBdB6BFH"], ["updated_at", "2016-04-06 08:43:52.049058"], ["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-06 09:43:57 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (3.5ms)
  Rendered devise/registrations/new.html.erb within layouts/application (51.2ms)
  Rendered shared/_nav_bar.html.erb (1.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 105ms (Views: 85.1ms | ActiveRecord: 0.0ms)
Started POST "/" for 127.0.0.1 at 2016-04-06 09:44:00 +0100
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"full_name"=>"John Doe", "email"=>"john@doe.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'john@doe.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?  [["authentication_token", "rAknCSprH5yCfzqS7srJ"]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["full_name", "John Doe"], ["email", "john@doe.com"], ["encrypted_password", "$2a$04$zQco6zBIVEJNH/ZgyE0E2exoqR1L4J4N75lN2EU2lnev0ogQHGCLS"], ["authentication_token", "rAknCSprH5yCfzqS7srJ"], ["created_at", "2016-04-06 08:44:00.954806"], ["updated_at", "2016-04-06 08:44:00.954806"]]
  [1m[35m (2.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["last_sign_in_at", "2016-04-06 08:44:00.959461"], ["current_sign_in_at", "2016-04-06 08:44:00.959461"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2016-04-06 08:44:00.960212"], ["id", 980190966]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Redirected to http://127.0.0.1:60098/dashboard
Completed 302 Found in 51ms (ActiveRecord: 5.2ms)
Started GET "/dashboard" for 127.0.0.1 at 2016-04-06 09:44:01 +0100
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190966]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190966]]
  Rendered links/index.html.erb within layouts/application (1.6ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 2.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-06 09:44:01 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (2.1ms)
  Rendered shared/_nav_bar.html.erb (1.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 17ms (Views: 16.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-06 09:44:01 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-06 09:44:12 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (35.3ms)
  Rendered shared/_nav_bar.html.erb (1.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 62ms (Views: 60.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2016-04-06 09:44:13 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"john@doe.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["email", "john@doe.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["current_sign_in_at", "2016-04-06 08:44:13.031395"], ["sign_in_count", 2], ["updated_at", "2016-04-06 08:44:13.033052"], ["id", 980190966]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
Redirected to http://127.0.0.1:60098/dashboard
Completed 302 Found in 30ms (ActiveRecord: 2.5ms)
Started GET "/dashboard" for 127.0.0.1 at 2016-04-06 09:44:13 +0100
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190966]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190966]]
  Rendered links/index.html.erb within layouts/application (1.4ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 2.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-06 09:44:13 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.8ms)
  Rendered shared/_nav_bar.html.erb (1.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 27ms (Views: 26.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "custom"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?[0m  [["click_count", 1], ["updated_at", "2016-04-06 08:44:17.853263"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-06 08:44:17.872881"], ["updated_at", "2016-04-06 08:44:17.872881"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to https://google.com.ng
Completed 302 Found in 24ms (ActiveRecord: 1.1ms)
  [1m[35m (4.8ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["active", "f"], ["updated_at", "2016-04-06 08:44:17.886251"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 08:44:17', '2016-04-06 08:44:17', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$X/NGgmLyLy5MxLnVWiPHV.hqeh9eU7FMWuyv9N1xU0awxLe36gLOS', '2016-04-06 08:44:17', '2016-04-06 08:44:17', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$K1xeo9G9DriM5HhfsZylwuTSgHMwmALxnJk1fo8du3Lt720p5Baz6', '2016-04-06 08:44:17', '2016-04-06 08:44:17', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 08:44:17', '2016-04-06 08:44:17', 980190962)[0m
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mVisit Load (0.3ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT "visits".* FROM "visits"[0m
  Rendered visits/index.html.erb within layouts/application (3.6ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 38ms (Views: 37.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "visits" WHERE "visits"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.0ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/_form.html.erb (29.6ms)
  Rendered visits/edit.html.erb within layouts/application (48.0ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 53ms (Views: 52.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["link_id", 980190962], ["created_at", "2016-04-06 08:44:18.085770"], ["updated_at", "2016-04-06 08:44:18.085770"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (1.0ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (2.9ms)
  Rendered visits/new.html.erb within layouts/application (4.0ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 7.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 08:49:45', '2016-04-06 08:49:45', 980190962)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$KavvnFhRVnSWPQtoQ5UKYO9WDK3lUbiy4smdmNmx6aI0JtZ9Gy09i', '2016-04-06 08:49:45', '2016-04-06 08:49:45', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$GmTZbHlr3zzyQLa54HuIAeY/Ey/K.uA6Tiy5tQEP1Vr4p.BtZEUPy', '2016-04-06 08:49:45', '2016-04-06 08:49:45', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 08:49:46', '2016-04-06 08:49:46', 980190962)[0m
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "ooGQbr1bcJofGDFpyx7c"]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["authentication_token", "ooGQbr1bcJofGDFpyx7c"], ["updated_at", "2016-04-06 08:49:46.091182"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (61.4ms)
  Rendered links/partials/_popular_links.html.erb (1.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (8.7ms)
  Rendered links/partials/_recent.html.erb (0.7ms)
  Rendered pages/index.html.erb within layouts/application (152.6ms)
  Rendered shared/_nav_bar.html.erb (1.5ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 275ms (Views: 245.6ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["active", "f"], ["updated_at", "2016-04-06 08:49:46.706768"], ["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["click_count", 1], ["updated_at", "2016-04-06 08:49:46.714182"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-06 08:49:46.726266"], ["updated_at", "2016-04-06 08:49:46.726266"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to https://google.com.ng
Completed 302 Found in 16ms (ActiveRecord: 0.8ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "visits" WHERE "visits"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits
Completed 302 Found in 22ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT "visits".* FROM "visits"[0m
  Rendered visits/index.html.erb within layouts/application (1.8ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 8.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.0ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/_form.html.erb (7.5ms)
  Rendered visits/edit.html.erb within layouts/application (9.7ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 13.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (1.2ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["link_id", 980190962], ["created_at", "2016-04-06 08:49:46.815064"], ["updated_at", "2016-04-06 08:49:46.815064"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (12.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (4.3ms)
  Rendered visits/new.html.erb within layouts/application (5.4ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 10.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------
VisitTest: test_valid
---------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:49:46.903010"], ["updated_at", "2016-04-06 08:49:46.903010"], ["short", "-jTa0A"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (2.6ms)
  Rendered links/partials/_form.html.erb (16.6ms)
  Rendered links/edit.html.erb within layouts/application (22.7ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 29.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:49:46.943940"], ["updated_at", "2016-04-06 08:49:46.943940"], ["short", "VIqshQ"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.0ms)
  [1m[35mVisit Exists (0.2ms)[0m  SELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (31.2ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 36ms (Views: 34.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:49:46.988099"], ["updated_at", "2016-04-06 08:49:46.988099"], ["short", "JhJ74A"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"JhJ74A", "user_id"=>"980190962"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "JhJ74A"], ["created_at", "2016-04-06 08:49:46.995847"], ["updated_at", "2016-04-06 08:49:46.995847"]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 7ms (ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:49:47.004820"], ["updated_at", "2016-04-06 08:49:47.004820"], ["short", "DIO6QQ"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/new.html.erb within layouts/application (2.5ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.5ms | ActiveRecord: 0.1ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:49:47.018802"], ["updated_at", "2016-04-06 08:49:47.018802"], ["short", "eqNacQ"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "links" WHERE "links"."id" = ?[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:49:47.033032"], ["updated_at", "2016-04-06 08:49:47.033032"], ["short", "9YYcDg"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (4.2ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 7.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 08:49:47.049561"], ["updated_at", "2016-04-06 08:49:47.049561"], ["short", "rSo6wg"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"rSo6wg", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/links/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-06 09:49:56 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (1.0ms)
  Rendered shared/_nav_bar.html.erb (2.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 29ms (Views: 20.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-06 09:49:59 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.7ms)
  Rendered devise/registrations/new.html.erb within layouts/application (53.9ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 125ms (Views: 81.7ms | ActiveRecord: 0.0ms)
Started POST "/" for 127.0.0.1 at 2016-04-06 09:50:00 +0100
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"full_name"=>"John Doe", "email"=>"john@doe.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'john@doe.com' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "9CwoA7uWVAKycz8_AmCV"]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["full_name", "John Doe"], ["email", "john@doe.com"], ["encrypted_password", "$2a$04$uDEqqTBimQDqmarv5USY7e5melrusnOk7e9qDvfEGWKS0ROIE7FeK"], ["authentication_token", "9CwoA7uWVAKycz8_AmCV"], ["created_at", "2016-04-06 08:50:00.726211"], ["updated_at", "2016-04-06 08:50:00.726211"]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["last_sign_in_at", "2016-04-06 08:50:00.733517"], ["current_sign_in_at", "2016-04-06 08:50:00.733517"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2016-04-06 08:50:00.734419"], ["id", 980190967]]
  [1m[35m (2.9ms)[0m  commit transaction
Redirected to http://127.0.0.1:60633/dashboard
Completed 302 Found in 84ms (ActiveRecord: 8.0ms)
Started GET "/dashboard" for 127.0.0.1 at 2016-04-06 09:50:00 +0100
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190967]]
  Rendered shared/_side_bar.html.erb (0.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190967]]
  Rendered links/index.html.erb within layouts/application (1.9ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 4.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-06 09:50:01 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.8ms)
  Rendered shared/_nav_bar.html.erb (1.5ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 34ms (Views: 33.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-06 09:50:03 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.5ms)
  Rendered devise/sessions/new.html.erb within layouts/application (3.4ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 22ms (Views: 21.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2016-04-06 09:50:04 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"john@doe.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "john@doe.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2016-04-06 08:50:04.105743"], ["sign_in_count", 2], ["updated_at", "2016-04-06 08:50:04.107086"], ["id", 980190967]]
  [1m[35m (1.3ms)[0m  commit transaction
Redirected to http://127.0.0.1:60633/dashboard
Completed 302 Found in 36ms (ActiveRecord: 2.1ms)
Started GET "/dashboard" for 127.0.0.1 at 2016-04-06 09:50:04 +0100
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190967]]
  Rendered shared/_side_bar.html.erb (0.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190967]]
  Rendered links/index.html.erb within layouts/application (2.4ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 4.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-06 09:50:04 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.9ms)
  Rendered shared/_nav_bar.html.erb (1.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 7.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (15.9ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 09:50:11', '2016-04-06 09:50:11', 980190962)
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$qzoO2e0UIj13lPnCxt3EqePcvzCd78txzDW1ZOGZWDmxPBsV3cZUe', '2016-04-06 09:50:11', '2016-04-06 09:50:11', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$diVIn/thur/BFW9PJpBMm.qPK3I4x23U8.hzMJOVgvO4kmALLNCFe', '2016-04-06 09:50:11', '2016-04-06 09:50:11', 980190962)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 09:50:11', '2016-04-06 09:50:11', 980190962)[0m
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[35mVisit Load (0.4ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "visits" WHERE "visits"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits
Completed 302 Found in 24ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.0ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/_form.html.erb (194.2ms)
  Rendered visits/edit.html.erb within layouts/application (232.9ms)
  Rendered shared/_nav_bar.html.erb (31.7ms)
  Rendered shared/_footer.html.erb (0.8ms)
Completed 200 OK in 407ms (Views: 407.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["link_id", 980190962], ["created_at", "2016-04-06 09:50:11.631076"], ["updated_at", "2016-04-06 09:50:11.631076"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (4.9ms)
  Rendered visits/new.html.erb within layouts/application (6.7ms)
  Rendered shared/_nav_bar.html.erb (1.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 29ms (Views: 28.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (2.0ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT "visits".* FROM "visits"[0m
  Rendered visits/index.html.erb within layouts/application (3.3ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 8.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 09:50:11.727421"], ["updated_at", "2016-04-06 09:50:11.727421"], ["short", "baK4kQ"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (6.6ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 27ms (Views: 12.8ms | ActiveRecord: 0.4ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 09:50:11.801190"], ["updated_at", "2016-04-06 09:50:11.801190"], ["short", "pehlcg"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  [1m[36mVisit Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1[0m  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (24.8ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 29.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 09:50:11.839960"], ["updated_at", "2016-04-06 09:50:11.839960"], ["short", "nA8urg"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"nA8urg", "user_id"=>"980190962"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "nA8urg"], ["created_at", "2016-04-06 09:50:11.848002"], ["updated_at", "2016-04-06 09:50:11.848002"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 7ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 09:50:11.855732"], ["updated_at", "2016-04-06 09:50:11.855732"], ["short", "Ml94iQ"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "links" WHERE "links"."id" = ?[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/dashboard
Completed 302 Found in 6ms (ActiveRecord: 1.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 09:50:11.869187"], ["updated_at", "2016-04-06 09:50:11.869187"], ["short", "UKJ4Fw"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (22.2ms)
  Rendered links/edit.html.erb within layouts/application (41.3ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 48ms (Views: 45.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 09:50:11.925239"], ["updated_at", "2016-04-06 09:50:11.925239"], ["short", "MST8vw"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.7ms)
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/new.html.erb within layouts/application (2.7ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 09:50:11.942445"], ["updated_at", "2016-04-06 09:50:11.942445"], ["short", "su4BlA"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"su4BlA", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/links/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------
VisitTest: test_valid
---------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["active", "f"], ["updated_at", "2016-04-06 09:50:11.983982"], ["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["click_count", 1], ["updated_at", "2016-04-06 09:50:11.992013"], ["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-06 09:50:12.015855"], ["updated_at", "2016-04-06 09:50:12.015855"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to https://google.com.ng
Completed 302 Found in 31ms (ActiveRecord: 1.1ms)
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.3ms)
  Rendered links/partials/_popular_links.html.erb (0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (4.1ms)
  Rendered links/partials/_recent.html.erb (1.1ms)
  Rendered pages/index.html.erb within layouts/application (25.1ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 36ms (Views: 34.2ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-06 10:50:27 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.8ms)
  Rendered shared/_nav_bar.html.erb (1.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 30ms (Views: 21.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-06 10:50:28 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (4.5ms)
  Rendered devise/sessions/new.html.erb within layouts/application (54.9ms)
  Rendered shared/_nav_bar.html.erb (1.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 101ms (Views: 83.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2016-04-06 10:50:29 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"john@doe.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "john@doe.com"]]
Completed 401 Unauthorized in 86ms (ActiveRecord: 0.4ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"john@doe.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendered devise/shared/_links.html.erb (0.4ms)
  Rendered devise/sessions/new.html.erb within layouts/application (2.0ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-06 10:50:30 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.8ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 27ms (Views: 26.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-06 10:50:36 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.5ms)
  Rendered devise/registrations/new.html.erb within layouts/application (3.4ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 13ms (Views: 12.1ms | ActiveRecord: 0.0ms)
Started POST "/" for 127.0.0.1 at 2016-04-06 10:50:37 +0100
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"full_name"=>"John Doe", "email"=>"john@doe.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'john@doe.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?  [["authentication_token", "aCodNhspN4xuA-UxhHUz"]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["full_name", "John Doe"], ["email", "john@doe.com"], ["encrypted_password", "$2a$04$dMqeoG/qKFuIITu56LBYWuL7dPfde8afP.ZnbZmA2swV7wv8D0nzu"], ["authentication_token", "aCodNhspN4xuA-UxhHUz"], ["created_at", "2016-04-06 09:50:37.456191"], ["updated_at", "2016-04-06 09:50:37.456191"]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["last_sign_in_at", "2016-04-06 09:50:37.461114"], ["current_sign_in_at", "2016-04-06 09:50:37.461114"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2016-04-06 09:50:37.461999"], ["id", 980190968]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
Redirected to http://127.0.0.1:61388/dashboard
Completed 302 Found in 47ms (ActiveRecord: 3.9ms)
Started GET "/dashboard" for 127.0.0.1 at 2016-04-06 10:50:37 +0100
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190968]]
  Rendered shared/_side_bar.html.erb (0.8ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190968]]
  Rendered links/index.html.erb within layouts/application (2.0ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 4.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-06 10:50:37 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (1.2ms)
  Rendered shared/_nav_bar.html.erb (1.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 21ms (Views: 20.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "links"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 09:50:39', '2016-04-06 09:50:39', 980190962)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$A65BBgAI.8C6HWapSzkaBuMUKL5vbl7IR3dzDA4GBV2oEnZx7PzGK', '2016-04-06 09:50:39', '2016-04-06 09:50:39', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$4JqjKZGAD/GUrcz4SSkfkekMQqo9H3.KCTtFToCs7ilUNux7PKNn6', '2016-04-06 09:50:39', '2016-04-06 09:50:39', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 09:50:39', '2016-04-06 09:50:39', 980190962)
  [1m[36m (9.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?  [["authentication_token", "SPzoCUzTWsLsfYy8pj6x"]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["authentication_token", "SPzoCUzTWsLsfYy8pj6x"], ["updated_at", "2016-04-06 09:50:39.831387"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (10.7ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 09:55:24', '2016-04-06 09:55:24', 980190962)
  [1m[36mFixture Delete (1.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$dAM99voKBnGSyoT/6v5cM.ReDvAAdl3ZJsBdUsMCgFrQcro9il1BO', '2016-04-06 09:55:24', '2016-04-06 09:55:24', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$wqzeDE6BWzlNr1xF2ANx8ex8R8tY97vQwjrI/eEd1/5o1xCK/A/K2', '2016-04-06 09:55:24', '2016-04-06 09:55:24', 980190962)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 09:55:24', '2016-04-06 09:55:24', 980190962)[0m
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["active", "f"], ["updated_at", "2016-04-06 09:55:24.814265"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 21ms (ActiveRecord: 0.2ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["click_count", 1], ["updated_at", "2016-04-06 09:55:24.874174"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-06 09:55:24.884656"], ["updated_at", "2016-04-06 09:55:24.884656"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to https://google.com.ng
Completed 302 Found in 14ms (ActiveRecord: 1.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (171.9ms)
  Rendered links/partials/_popular_links.html.erb (0.8ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (10.5ms)
  Rendered links/partials/_recent.html.erb (1.1ms)
  Rendered pages/index.html.erb within layouts/application (286.3ms)
  Rendered shared/_nav_bar.html.erb (1.9ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 389ms (Views: 386.3ms | ActiveRecord: 0.9ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-06 10:55:25 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 12ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 10:55:25 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.1ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.2ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 10:55:25 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.1ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-06 10:55:25 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (2.0ms)
  Rendered devise/registrations/new.html.erb within layouts/application (38.5ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 60ms (Views: 49.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-06 10:55:25 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.7ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-06 10:55:25 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 10:55:25 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (2.3ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.9ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (6.5ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 7.4ms | ActiveRecord: 0.9ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-06 10:55:25 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (37.3ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 47ms (Views: 45.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2016-04-06 10:55:25 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"john@doe.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "john@doe.com"]]
Completed 401 Unauthorized in 17ms (ActiveRecord: 0.3ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"john@doe.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendered devise/shared/_links.html.erb (0.4ms)
  Rendered devise/sessions/new.html.erb within layouts/application (2.2ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 10:55:25 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.4ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.5ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 10:55:25 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 10:55:25 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.6ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.3ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 10:55:25 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.2ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.5ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 10:55:25 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)[0m  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-06 09:55:25.676661"], ["updated_at", "2016-04-06 09:55:25.676661"], ["short", "P5uBfw"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 39ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 10:55:25 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.4ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.5ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 09:55:25.726655"], ["updated_at", "2016-04-06 09:55:25.726655"], ["short", "3t2y_w"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"3t2y_w", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/links/980190963
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 09:55:25.778496"], ["updated_at", "2016-04-06 09:55:25.778496"], ["short", "WYTIuQ"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.2ms)
  [1m[36mVisit Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1[0m  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (41.3ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 49ms (Views: 48.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 09:55:25.835321"], ["updated_at", "2016-04-06 09:55:25.835321"], ["short", "h-BjEQ"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/edit.html.erb within layouts/application (3.2ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 09:55:25.850471"], ["updated_at", "2016-04-06 09:55:25.850471"], ["short", "4U4oAA"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (3.9ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 7.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 09:55:25.867629"], ["updated_at", "2016-04-06 09:55:25.867629"], ["short", "47mSIw"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  Rendered links/partials/_form.html.erb (1.3ms)
  Rendered links/new.html.erb within layouts/application (2.8ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.8ms | ActiveRecord: 0.1ms)
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 09:55:25.884840"], ["updated_at", "2016-04-06 09:55:25.884840"], ["short", "TnTFrQ"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"TnTFrQ", "user_id"=>"980190962"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "TnTFrQ"], ["created_at", "2016-04-06 09:55:25.895977"], ["updated_at", "2016-04-06 09:55:25.895977"]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (27.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 09:55:25.931155"], ["updated_at", "2016-04-06 09:55:25.931155"], ["short", "LgPn2Q"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "links" WHERE "links"."id" = ?[0m  [["id", 980190963]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/dashboard
Completed 302 Found in 9ms (ActiveRecord: 1.6ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "NRQJMoLHikNG92uo66Jv"]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["authentication_token", "NRQJMoLHikNG92uo66Jv"], ["updated_at", "2016-04-06 09:55:25.968099"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[35mVisit Load (0.3ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
VisitTest: test_valid
---------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["link_id", 980190962], ["created_at", "2016-04-06 09:55:26.023758"], ["updated_at", "2016-04-06 09:55:26.023758"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190963
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (25.7ms)
  Rendered visits/new.html.erb within layouts/application (28.8ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 51ms (Views: 50.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190962
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "visits" WHERE "visits"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/_form.html.erb (2.8ms)
  Rendered visits/edit.html.erb within layouts/application (3.9ms)
  Rendered shared/_nav_bar.html.erb (1.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 10.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (0.8ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[35mVisit Load (0.3ms)[0m  SELECT "visits".* FROM "visits"
  Rendered visits/index.html.erb within layouts/application (4.0ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 9.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (13.9ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 09:58:53', '2016-04-06 09:58:53', 980190962)
  [1m[36mFixture Delete (1.7ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$dV9suAShI8.Nwts8d/F3XuBhVHWA0H9InrhLWJSSpJdEyKA44mup2', '2016-04-06 09:58:53', '2016-04-06 09:58:53', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$goLBggS4R7vw8W4eAloRl.IVuBDVxhY9NLJCDt.i1NeWkjDFWGkmq', '2016-04-06 09:58:53', '2016-04-06 09:58:53', 980190962)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 09:58:53', '2016-04-06 09:58:53', 980190962)[0m
  [1m[35m (2.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (158.6ms)
  Rendered links/partials/_popular_links.html.erb (0.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (6.5ms)
  Rendered links/partials/_recent.html.erb (0.6ms)
  Rendered pages/index.html.erb within layouts/application (258.4ms)
  Rendered shared/_nav_bar.html.erb (1.5ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 381ms (Views: 348.3ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "MniKLDP-jsAJhB5W2E2f"]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["authentication_token", "MniKLDP-jsAJhB5W2E2f"], ["updated_at", "2016-04-06 09:58:54.405088"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mVisit Load (0.3ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (35.2ms)
  Rendered visits/new.html.erb within layouts/application (39.1ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 66ms (Views: 65.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (1.3ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 25ms (Views: 7.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["link_id", 980190962], ["created_at", "2016-04-06 09:58:54.605173"], ["updated_at", "2016-04-06 09:58:54.605173"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[35mVisit Load (0.1ms)[0m  SELECT "visits".* FROM "visits"
  Rendered visits/index.html.erb within layouts/application (1.7ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[35mVisit Load (0.0ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.0ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "visits" WHERE "visits"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.0ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/_form.html.erb (2.5ms)
  Rendered visits/edit.html.erb within layouts/application (3.3ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
VisitTest: test_valid
---------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 10:58:54 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.7ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.8ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.5ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 19ms (Views: 5.8ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-06 10:58:54 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.6ms)
  Rendered devise/sessions/new.html.erb within layouts/application (41.1ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 90ms (Views: 70.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2016-04-06 10:58:54 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"john@doe.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "john@doe.com"]]
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.5ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"john@doe.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendered devise/shared/_links.html.erb (0.4ms)
  Rendered devise/sessions/new.html.erb within layouts/application (2.4ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-06 10:58:54 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.5ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 10:58:54 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.8ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.8ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 5.7ms | ActiveRecord: 0.5ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 10:58:54 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 10:58:54 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.4ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (2.2ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (4.7ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 6.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-06 10:58:54 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.8ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 8.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 10:58:54 +0100
Processing by PagesController#index as HTML
  [1m[35m (1.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (2.5ms)
  Rendered links/partials/_popular_links.html.erb (0.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (3.5ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (8.4ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 17ms (Views: 11.0ms | ActiveRecord: 2.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-06 10:58:54 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 10:58:55 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.9ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (3.2ms)
  Rendered links/partials/_recent.html.erb (0.4ms)
  Rendered pages/index.html.erb within layouts/application (6.9ms)
  Rendered shared/_nav_bar.html.erb (1.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 13ms (Views: 10.2ms | ActiveRecord: 0.9ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 10:58:55 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (11.8ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)[0m  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-06 09:58:55.031384"], ["updated_at", "2016-04-06 09:58:55.031384"], ["short", "m_WMig"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 19ms (ActiveRecord: 12.0ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 10:58:55 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.5ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.9ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (5.3ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 7.2ms | ActiveRecord: 0.6ms)
  [1m[36m (17.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 10:58:55 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (2.1ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.1ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (5.3ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 6.8ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-06 10:58:55 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.8ms)
  Rendered devise/registrations/new.html.erb within layouts/application (4.6ms)
  Rendered shared/_nav_bar.html.erb (1.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 47ms (Views: 44.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?[0m  [["active", "f"], ["updated_at", "2016-04-06 09:58:55.220265"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "custom"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?[0m  [["click_count", 1], ["updated_at", "2016-04-06 09:58:55.233003"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-06 09:58:55.260598"], ["updated_at", "2016-04-06 09:58:55.260598"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to https://google.com.ng
Completed 302 Found in 34ms (ActiveRecord: 1.2ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 09:58:55.271257"], ["updated_at", "2016-04-06 09:58:55.271257"], ["short", "soUmQA"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.3ms)
  Rendered links/partials/_form.html.erb (1.6ms)
  Rendered links/new.html.erb within layouts/application (7.2ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 18ms (Views: 15.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 09:58:55.300943"], ["updated_at", "2016-04-06 09:58:55.300943"], ["short", "afVJ8g"]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"afVJ8g", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/links/980190963
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 09:58:55.319284"], ["updated_at", "2016-04-06 09:58:55.319284"], ["short", "c4OCkw"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.0ms)
  [1m[36mVisit Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1[0m  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (43.6ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 50ms (Views: 48.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 09:58:55.379070"], ["updated_at", "2016-04-06 09:58:55.379070"], ["short", "bVwrTg"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.9ms)
  Rendered links/partials/_form.html.erb (2.0ms)
  Rendered links/edit.html.erb within layouts/application (4.9ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 12ms (Views: 11.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 09:58:55.398323"], ["updated_at", "2016-04-06 09:58:55.398323"], ["short", "BwazhQ"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"BwazhQ", "user_id"=>"980190962"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "BwazhQ"], ["created_at", "2016-04-06 09:58:55.406366"], ["updated_at", "2016-04-06 09:58:55.406366"]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 7ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 09:58:55.414851"], ["updated_at", "2016-04-06 09:58:55.414851"], ["short", "egncog"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "links" WHERE "links"."id" = ?[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 09:58:55.428179"], ["updated_at", "2016-04-06 09:58:55.428179"], ["short", "sMHmZA"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (3.3ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.3ms)
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (15.1ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 10:00:11', '2016-04-06 10:00:11', 980190962)
  [1m[36mFixture Delete (1.8ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$9ScG.AtB4Dn8QPr3L6uY6.W7oGKxD6JGqg0y9tRV/W8050z57iYfC', '2016-04-06 10:00:11', '2016-04-06 10:00:11', 298486374)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$S5cNCclPPIA9GLFwdmu5o.iV49qQhvZaMsq1VzsnPeWNaTSMkNwfW', '2016-04-06 10:00:11', '2016-04-06 10:00:11', 980190962)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 10:00:11', '2016-04-06 10:00:11', 980190962)[0m
  [1m[35m (2.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[35mVisit Load (0.3ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
VisitTest: test_valid
---------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-06 11:00:11 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (20.5ms)
  Rendered shared/_nav_bar.html.erb (7.3ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 216ms (Views: 167.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 11:00:11 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (171.4ms)
  Rendered links/partials/_popular_links.html.erb (2.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (5.2ms)
  Rendered links/partials/_recent.html.erb (0.7ms)
  Rendered pages/index.html.erb within layouts/application (254.5ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 261ms (Views: 259.1ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-06 11:00:12 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (2.7ms)
  Rendered devise/sessions/new.html.erb within layouts/application (73.9ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 100ms (Views: 97.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2016-04-06 11:00:12 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"john@doe.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "john@doe.com"]]
Completed 401 Unauthorized in 16ms (ActiveRecord: 0.2ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"john@doe.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendered devise/shared/_links.html.erb (0.7ms)
  Rendered devise/sessions/new.html.erb within layouts/application (3.7ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-06 11:00:12 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.6ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 20ms (Views: 19.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 11:00:12 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (2.3ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.7ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (5.1ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 7.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 11:00:12 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.9ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (2.2ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (5.3ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 7.2ms | ActiveRecord: 0.7ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 11:00:12 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)[0m  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-06 10:00:12.504507"], ["updated_at", "2016-04-06 10:00:12.504507"], ["short", "oHL-2Q"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 11:00:12 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.3ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.2ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.4ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 0.5ms)
  [1m[36m (23.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-06 11:00:12 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.9ms)
  Rendered devise/registrations/new.html.erb within layouts/application (4.3ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 16ms (Views: 14.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 11:00:12 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.9ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.8ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (5.1ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 7.4ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 11:00:12 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.4ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.3ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.3ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.0ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (4.5ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 6.6ms | ActiveRecord: 0.9ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 11:00:12 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 11:00:12 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.3ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 6.9ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-06 11:00:12 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.7ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["click_count", 1], ["updated_at", "2016-04-06 10:00:12.732888"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-06 10:00:12.751533"], ["updated_at", "2016-04-06 10:00:12.751533"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to https://google.com.ng
Completed 302 Found in 22ms (ActiveRecord: 0.9ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?[0m  [["active", "f"], ["updated_at", "2016-04-06 10:00:12.757010"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "13ZkHXaWEA28Guppdk5r"]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["authentication_token", "13ZkHXaWEA28Guppdk5r"], ["updated_at", "2016-04-06 10:00:12.768397"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.4ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.6ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.7ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:00:12.870639"], ["updated_at", "2016-04-06 10:00:12.870639"], ["short", "5e-8RQ"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.5ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (8.6ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 79ms (Views: 76.5ms | ActiveRecord: 0.4ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:00:12.957734"], ["updated_at", "2016-04-06 10:00:12.957734"], ["short", "vS257g"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"vS257g", "user_id"=>"980190962"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "vS257g"], ["created_at", "2016-04-06 10:00:12.966290"], ["updated_at", "2016-04-06 10:00:12.966290"]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 9ms (ActiveRecord: 1.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:00:12.975875"], ["updated_at", "2016-04-06 10:00:12.975875"], ["short", "mS6E9A"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "links" WHERE "links"."id" = ?  [["id", 980190963]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:00:12.990830"], ["updated_at", "2016-04-06 10:00:12.990830"], ["short", "OJ5gqg"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"OJ5gqg", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/links/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:00:13.003156"], ["updated_at", "2016-04-06 10:00:13.003156"], ["short", "74P2xg"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.9ms)
  Rendered links/partials/_form.html.erb (1.3ms)
  Rendered links/new.html.erb within layouts/application (3.2ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:00:13.017380"], ["updated_at", "2016-04-06 10:00:13.017380"], ["short", "w6qhzA"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.8ms)
  [1m[35mVisit Exists (0.2ms)[0m  SELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (28.4ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 34ms (Views: 32.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:00:13.058615"], ["updated_at", "2016-04-06 10:00:13.058615"], ["short", "wPe0Qw"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  Rendered links/partials/_form.html.erb (1.5ms)
  Rendered links/edit.html.erb within layouts/application (3.2ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 7.5ms | ActiveRecord: 0.1ms)
  [1m[36m (32.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["link_id", 980190962], ["created_at", "2016-04-06 10:00:13.136066"], ["updated_at", "2016-04-06 10:00:13.136066"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.0ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/_form.html.erb (32.6ms)
  Rendered visits/edit.html.erb within layouts/application (36.7ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 60ms (Views: 59.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.0ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "visits" WHERE "visits"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT "visits".* FROM "visits"[0m
  Rendered visits/index.html.erb within layouts/application (1.8ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (2.4ms)
  Rendered visits/new.html.erb within layouts/application (3.1ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 6.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.0ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (0.9ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 10:01:10', '2016-04-06 10:01:10', 980190962)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$NYOqrvW9TTbR67kDujxiu.9ErgDbUlu01cK3UrlbTKGmXKEkf/fQ6', '2016-04-06 10:01:10', '2016-04-06 10:01:10', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$3YN2ajqTPRKYh8mGUNyFgONFgedwf6G/Vl8NSn1CIPKuxSNE4V0P.', '2016-04-06 10:01:10', '2016-04-06 10:01:10', 980190962)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 10:01:10', '2016-04-06 10:01:10', 980190962)[0m
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (27.2ms)
  Rendered links/partials/_popular_links.html.erb (0.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (4.8ms)
  Rendered links/partials/_recent.html.erb (0.6ms)
  Rendered pages/index.html.erb within layouts/application (46.9ms)
  Rendered shared/_nav_bar.html.erb (1.6ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 81ms (Views: 69.0ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT "visits".* FROM "visits"[0m
  Rendered visits/index.html.erb within layouts/application (2.5ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 9.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["link_id", 980190962], ["created_at", "2016-04-06 10:01:10.279921"], ["updated_at", "2016-04-06 10:01:10.279921"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (9.6ms)
  Rendered visits/new.html.erb within layouts/application (12.3ms)
  Rendered shared/_nav_bar.html.erb (1.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 17ms (Views: 17.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/_form.html.erb (2.6ms)
  Rendered visits/edit.html.erb within layouts/application (3.4ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 7.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.0ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "visits" WHERE "visits"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (1.4ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[36mVisit Load (0.0ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------
VisitTest: test_valid
---------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 11:01:10 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (2.4ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.7ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (6.4ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 20ms (Views: 8.4ms | ActiveRecord: 0.6ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 11:01:10 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-06 10:01:10.419260"], ["updated_at", "2016-04-06 10:01:10.419260"], ["short", "cWsUtQ"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 11:01:10 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.2ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 11:01:10 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.6ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (3.6ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-06 11:01:10 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (2.8ms)
  Rendered devise/sessions/new.html.erb within layouts/application (16.0ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 28ms (Views: 26.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2016-04-06 11:01:10 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"john@doe.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["email", "john@doe.com"]]
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.2ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"john@doe.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendered devise/shared/_links.html.erb (0.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 11:01:10 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.4ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 11:01:10 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.9ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.7ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 4.9ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-06 11:01:10 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 11:01:10 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.3ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.8ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.9ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.0ms | ActiveRecord: 0.5ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 11:01:10 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 11:01:10 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.6ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.5ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-06 11:01:10 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.3ms)
  Rendered devise/registrations/new.html.erb within layouts/application (2.3ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 8.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-06 11:01:10 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.6ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-06 11:01:10 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.5ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?  [["authentication_token", "RZ1h1NZhdvaiQq27_Jov"]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["authentication_token", "RZ1h1NZhdvaiQq27_Jov"], ["updated_at", "2016-04-06 10:01:10.617346"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["click_count", 1], ["updated_at", "2016-04-06 10:01:10.630782"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-06 10:01:10.635006"], ["updated_at", "2016-04-06 10:01:10.635006"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to https://google.com.ng
Completed 302 Found in 8ms (ActiveRecord: 0.9ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?[0m  [["active", "f"], ["updated_at", "2016-04-06 10:01:10.640053"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:01:10.651668"], ["updated_at", "2016-04-06 10:01:10.651668"], ["short", "4zXrIA"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"4zXrIA", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/links/980190963
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:01:10.667159"], ["updated_at", "2016-04-06 10:01:10.667159"], ["short", "U5KOpw"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "links" WHERE "links"."id" = ?  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/dashboard
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:01:10.681489"], ["updated_at", "2016-04-06 10:01:10.681489"], ["short", "nWnptw"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.0ms)
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/edit.html.erb within layouts/application (4.7ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 10.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:01:10.700311"], ["updated_at", "2016-04-06 10:01:10.700311"], ["short", "xHt70Q"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.8ms)
  [1m[36mVisit Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1[0m  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (13.7ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 21ms (Views: 18.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:01:10.728107"], ["updated_at", "2016-04-06 10:01:10.728107"], ["short", "Ojih6w"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"Ojih6w", "user_id"=>"980190962"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "Ojih6w"], ["created_at", "2016-04-06 10:01:10.734444"], ["updated_at", "2016-04-06 10:01:10.734444"]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:01:10.741616"], ["updated_at", "2016-04-06 10:01:10.741616"], ["short", "P73H-A"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (1.6ms)
  Rendered links/new.html.erb within layouts/application (3.1ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:01:10.756714"], ["updated_at", "2016-04-06 10:01:10.756714"], ["short", "mp8-Sw"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (14.3ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 20ms (Views: 18.0ms | ActiveRecord: 0.3ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 10:03:01', '2016-04-06 10:03:01', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$4Mj0XY30mYMer.fBd7z4X.uHvVEYbzpIneniQcyiTzHVasy0obDBG', '2016-04-06 10:03:01', '2016-04-06 10:03:01', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$YiWOphnVw7Ikfxu/IHU4LuNFY2Z3HvwJD5ZrPzJz9bOdkffP8MiWu', '2016-04-06 10:03:01', '2016-04-06 10:03:01', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 10:03:01', '2016-04-06 10:03:01', 980190962)[0m
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "nHHKhtqH7mgmK1p2Mncy"]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["authentication_token", "nHHKhtqH7mgmK1p2Mncy"], ["updated_at", "2016-04-06 10:03:01.356657"], ["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-06 11:03:10 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (3.6ms)
  Rendered devise/registrations/new.html.erb within layouts/application (82.7ms)
  Rendered shared/_nav_bar.html.erb (4.5ms)
  Rendered shared/_footer.html.erb (0.8ms)
Completed 200 OK in 266ms (Views: 212.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-06 11:03:14 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.6ms)
  Rendered shared/_nav_bar.html.erb (1.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 21ms (Views: 20.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-06 11:03:17 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (41.3ms)
  Rendered shared/_nav_bar.html.erb (1.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 73ms (Views: 70.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2016-04-06 11:03:18 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"john@doe.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["email", "john@doe.com"]]
Completed 401 Unauthorized in 18ms (ActiveRecord: 0.3ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"john@doe.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendered devise/shared/_links.html.erb (0.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (2.1ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-06 11:03:25 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (1.2ms)
  Rendered shared/_nav_bar.html.erb (1.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 12ms (Views: 11.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-06 11:03:29 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.8ms)
  Rendered shared/_nav_bar.html.erb (1.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 46ms (Views: 45.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[36mLink Load (0.3ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["click_count", 1], ["updated_at", "2016-04-06 10:03:31.472749"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-06 10:03:31.510147"], ["updated_at", "2016-04-06 10:03:31.510147"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to https://google.com.ng
Completed 302 Found in 44ms (ActiveRecord: 1.2ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[36mLink Load (0.4ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?[0m  [["active", "f"], ["updated_at", "2016-04-06 10:03:31.517902"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "links"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 10:03:31', '2016-04-06 10:03:31', 980190962)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$JTu2sW/zL5bvZoU0otyBSeaOEyjiMQUQaA/Bp1bX3QAPnzZM.8456', '2016-04-06 10:03:31', '2016-04-06 10:03:31', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$sM8fTLw7uyJQnof5F.TuSusaJNe/Og25lxSxoHkl0E3boVU7ThpEG', '2016-04-06 10:03:31', '2016-04-06 10:03:31', 980190962)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "visits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 10:03:31', '2016-04-06 10:03:31', 980190962)
  [1m[36m (15.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (4.8ms)
  Rendered links/partials/_popular_links.html.erb (1.3ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (5.5ms)
  Rendered links/partials/_recent.html.erb (1.4ms)
  Rendered pages/index.html.erb within layouts/application (66.1ms)
  Rendered shared/_nav_bar.html.erb (1.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 74ms (Views: 71.8ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:03:31.688496"], ["updated_at", "2016-04-06 10:03:31.688496"], ["short", "4nf7Gg"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (2.7ms)
  Rendered links/partials/_form.html.erb (2.0ms)
  Rendered links/new.html.erb within layouts/application (13.7ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 33ms (Views: 30.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:03:31.797472"], ["updated_at", "2016-04-06 10:03:31.797472"], ["short", "HQaYpg"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  [1m[35mVisit Exists (0.2ms)[0m  SELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (28.0ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 35ms (Views: 32.9ms | ActiveRecord: 0.4ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:03:31.841831"], ["updated_at", "2016-04-06 10:03:31.841831"], ["short", "DVgwCA"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "links" WHERE "links"."id" = ?[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/dashboard
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:03:31.856791"], ["updated_at", "2016-04-06 10:03:31.856791"], ["short", "867tUg"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"867tUg", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/links/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:03:31.873627"], ["updated_at", "2016-04-06 10:03:31.873627"], ["short", "HW9FQA"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (4.0ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 7.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:03:31.894086"], ["updated_at", "2016-04-06 10:03:31.894086"], ["short", "kgALxA"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.8ms)
  Rendered links/partials/_form.html.erb (1.5ms)
  Rendered links/edit.html.erb within layouts/application (3.5ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:03:31.909051"], ["updated_at", "2016-04-06 10:03:31.909051"], ["short", "gWs3Yw"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"gWs3Yw", "user_id"=>"980190962"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "gWs3Yw"], ["created_at", "2016-04-06 10:03:31.916018"], ["updated_at", "2016-04-06 10:03:31.916018"]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 7ms (ActiveRecord: 1.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
VisitTest: test_valid
---------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190962
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/_form.html.erb (19.5ms)
  Rendered visits/edit.html.erb within layouts/application (23.7ms)
  Rendered shared/_nav_bar.html.erb (1.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 44ms (Views: 43.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[35mVisit Load (0.1ms)[0m  SELECT "visits".* FROM "visits"
  Rendered visits/index.html.erb within layouts/application (1.8ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.0ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (2.2ms)
  Rendered shared/_nav_bar.html.erb (1.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (2.9ms)
  Rendered visits/new.html.erb within layouts/application (3.8ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["link_id", 980190962], ["created_at", "2016-04-06 10:03:32.065929"], ["updated_at", "2016-04-06 10:03:32.065929"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.0ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "visits" WHERE "visits"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 10:04:44', '2016-04-06 10:04:44', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$XigzPqXe2BpVkBmLre8hdOPV/IIviSubvCp7X1QCM.r8eCh4FEF4S', '2016-04-06 10:04:44', '2016-04-06 10:04:44', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$8.gAVXR2QGxI4/nF4rrAhOEzAixcK79dSNBKJNXTcH9faZpBH9ugm', '2016-04-06 10:04:44', '2016-04-06 10:04:44', 980190962)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 10:04:44', '2016-04-06 10:04:44', 980190962)[0m
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[35mLink Load (0.4ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[36mLink Load (0.4ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "custom"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?[0m  [["click_count", 1], ["updated_at", "2016-04-06 10:04:44.875299"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-06 10:04:44.887471"], ["updated_at", "2016-04-06 10:04:44.887471"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to https://google.com.ng
Completed 302 Found in 69ms (ActiveRecord: 1.2ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["active", "f"], ["updated_at", "2016-04-06 10:04:44.896201"], ["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------
VisitTest: test_valid
---------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "ftowtGKSToJkJTHzmXey"]]
  [1m[35mSQL (0.6ms)[0m  UPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["authentication_token", "ftowtGKSToJkJTHzmXey"], ["updated_at", "2016-04-06 10:04:45.070736"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (52.0ms)
  Rendered links/partials/_popular_links.html.erb (0.8ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (4.8ms)
  Rendered links/partials/_recent.html.erb (0.5ms)
  Rendered pages/index.html.erb within layouts/application (101.9ms)
  Rendered shared/_nav_bar.html.erb (1.5ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 197ms (Views: 194.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (25.3ms)
  Rendered visits/new.html.erb within layouts/application (28.6ms)
  Rendered shared/_nav_bar.html.erb (1.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 41ms (Views: 40.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (1.1ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["link_id", 980190962], ["created_at", "2016-04-06 10:04:45.437988"], ["updated_at", "2016-04-06 10:04:45.437988"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "visits" WHERE "visits"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT "visits".* FROM "visits"[0m
  Rendered visits/index.html.erb within layouts/application (1.6ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/_form.html.erb (2.4ms)
  Rendered visits/edit.html.erb within layouts/application (3.2ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 11:04:45 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.6ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.4ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 4.7ms | ActiveRecord: 0.4ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 11:04:45 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)[0m  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-06 10:04:45.523616"], ["updated_at", "2016-04-06 10:04:45.523616"], ["short", "-C2yRA"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 11:04:45 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.2ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.4ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-06 11:04:45 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-06 11:04:45 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (3.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (40.5ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 82ms (Views: 72.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2016-04-06 11:04:45 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"john@doe.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "john@doe.com"]]
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.2ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"john@doe.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendered devise/shared/_links.html.erb (0.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 11:04:45 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.6ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.4ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-06 11:04:45 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-06 11:04:45 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 11:04:45 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.2ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 11:04:45 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.4ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.9ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.5ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 11:04:45 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.2ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.5ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 11:04:45 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 11:04:45 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.8ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (2.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (5.5ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-06 11:04:45 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.5ms)
  Rendered devise/registrations/new.html.erb within layouts/application (3.9ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 16ms (Views: 15.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:04:45.811768"], ["updated_at", "2016-04-06 10:04:45.811768"], ["short", "V9NSiw"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (6.6ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 14ms (Views: 12.3ms | ActiveRecord: 0.4ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:04:45.834765"], ["updated_at", "2016-04-06 10:04:45.834765"], ["short", "9fVvXQ"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.7ms)
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/new.html.erb within layouts/application (3.1ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:04:45.849973"], ["updated_at", "2016-04-06 10:04:45.849973"], ["short", "OGU1Zw"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "links" WHERE "links"."id" = ?  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/dashboard
Completed 302 Found in 7ms (ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (1.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:04:45.866969"], ["updated_at", "2016-04-06 10:04:45.866969"], ["short", "QtxHoQ"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  Rendered links/partials/_form.html.erb (1.3ms)
  Rendered links/edit.html.erb within layouts/application (3.4ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:04:45.881290"], ["updated_at", "2016-04-06 10:04:45.881290"], ["short", "3Ovt3A"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"3Ovt3A", "user_id"=>"980190962"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "3Ovt3A"], ["created_at", "2016-04-06 10:04:45.887372"], ["updated_at", "2016-04-06 10:04:45.887372"]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:04:45.895800"], ["updated_at", "2016-04-06 10:04:45.895800"], ["short", "HeGsPg"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  [1m[35mVisit Exists (0.2ms)[0m  SELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (18.5ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 23ms (Views: 21.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:04:45.927206"], ["updated_at", "2016-04-06 10:04:45.927206"], ["short", "a8tozg"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"a8tozg", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/links/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (14.5ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 10:16:19', '2016-04-06 10:16:19', 980190962)
  [1m[36mFixture Delete (1.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$WCpihhAV1ARHR1FJNG.Mdu80Ak5tGYDr3x.Doz0t52QiM3CYyzHre', '2016-04-06 10:16:19', '2016-04-06 10:16:19', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$p5uyTH.W4U9Fs6kCQnHEX.zf0F7se5ENBbK1bA6jWb1hSIB0xMNvC', '2016-04-06 10:16:19', '2016-04-06 10:16:19', 980190962)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 10:16:19', '2016-04-06 10:16:19', 980190962)[0m
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[35mVisit Load (0.4ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
VisitTest: test_valid
---------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?  [["authentication_token", "zseqMMkD-QGBbQdVr17J"]]
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["authentication_token", "zseqMMkD-QGBbQdVr17J"], ["updated_at", "2016-04-06 10:16:19.229763"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["click_count", 1], ["updated_at", "2016-04-06 10:16:19.647018"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-06 10:16:19.651824"], ["updated_at", "2016-04-06 10:16:19.651824"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to https://google.com.ng
Completed 302 Found in 43ms (ActiveRecord: 1.0ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?[0m  [["active", "f"], ["updated_at", "2016-04-06 10:16:19.656735"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT "visits".* FROM "visits"[0m
  Rendered visits/index.html.erb within layouts/application (23.4ms)
  Rendered shared/_nav_bar.html.erb (51.9ms)
  Rendered shared/_footer.html.erb (0.8ms)
Completed 200 OK in 206ms (Views: 205.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "visits" WHERE "visits"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (16.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["link_id", 980190962], ["created_at", "2016-04-06 10:16:19.914556"], ["updated_at", "2016-04-06 10:16:19.914556"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/_form.html.erb (83.7ms)
  Rendered visits/edit.html.erb within layouts/application (86.4ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 91ms (Views: 90.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (5.0ms)
  Rendered visits/new.html.erb within layouts/application (6.8ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 24ms (Views: 24.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (2.2ms)
  Rendered shared/_nav_bar.html.erb (1.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 7.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (4.5ms)
  Rendered links/partials/_popular_links.html.erb (1.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (5.8ms)
  Rendered links/partials/_recent.html.erb (1.3ms)
  Rendered pages/index.html.erb within layouts/application (68.0ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 89ms (Views: 86.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:16:20.207042"], ["updated_at", "2016-04-06 10:16:20.207042"], ["short", "lHdR_Q"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35mLink Load (0.1ms)[0m  SELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (6.4ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 14.2ms | ActiveRecord: 0.4ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:16:20.231743"], ["updated_at", "2016-04-06 10:16:20.231743"], ["short", "qrLCPg"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (21.3ms)
  Rendered links/edit.html.erb within layouts/application (23.4ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 29ms (Views: 27.3ms | ActiveRecord: 0.2ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:16:20.269178"], ["updated_at", "2016-04-06 10:16:20.269178"], ["short", "PMBa8w"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/new.html.erb within layouts/application (2.5ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:16:20.283639"], ["updated_at", "2016-04-06 10:16:20.283639"], ["short", "YKlIWA"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.7ms)
  [1m[35mVisit Exists (0.1ms)[0m  SELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (45.5ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 50ms (Views: 48.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:16:20.340232"], ["updated_at", "2016-04-06 10:16:20.340232"], ["short", "gHzafw"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "links" WHERE "links"."id" = ?[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:16:20.353050"], ["updated_at", "2016-04-06 10:16:20.353050"], ["short", "ihmw4A"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"ihmw4A", "user_id"=>"980190962"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "ihmw4A"], ["created_at", "2016-04-06 10:16:20.361022"], ["updated_at", "2016-04-06 10:16:20.361022"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 8ms (ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:16:20.371860"], ["updated_at", "2016-04-06 10:16:20.371860"], ["short", "zwr4Kw"]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"zwr4Kw", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/links/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 10:17:29', '2016-04-06 10:17:29', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$FRvvfk.UH4I2F09ZLI/sW.RrqcTRTP5lNkPFoEjWIxP5YwhjbV3W6', '2016-04-06 10:17:29', '2016-04-06 10:17:29', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$qCZjAqFvZalZqQjady2jZeXHlssPXrxlnTMuF7cjoyWkg.IMfLOAW', '2016-04-06 10:17:29', '2016-04-06 10:17:29', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 10:17:29', '2016-04-06 10:17:29', 980190962)[0m
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?[0m  [["authentication_token", "onsUzp7SZz9yAQQ4SvB_"]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["authentication_token", "onsUzp7SZz9yAQQ4SvB_"], ["updated_at", "2016-04-06 10:17:29.241433"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-06 11:17:29 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (2.5ms)
  Rendered shared/_nav_bar.html.erb (5.1ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 66ms (Views: 43.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 11:17:29 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (8.6ms)
  Rendered links/partials/_popular_links.html.erb (0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (4.3ms)
  Rendered links/partials/_recent.html.erb (0.5ms)
  Rendered pages/index.html.erb within layouts/application (21.5ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 26ms (Views: 24.3ms | ActiveRecord: 0.5ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 11:17:29 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 11:17:29 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.7ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.6ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-06 11:17:29 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-06 11:17:29 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-06 11:17:29 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (3.5ms)
  Rendered devise/registrations/new.html.erb within layouts/application (34.9ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 63ms (Views: 50.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 11:17:29 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.3ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 11:17:29 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.2ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 11:17:29 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.7ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (3.7ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-06 11:17:29 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.1ms)
  Rendered devise/sessions/new.html.erb within layouts/application (9.8ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 19ms (Views: 17.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2016-04-06 11:17:29 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"john@doe.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["email", "john@doe.com"]]
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.2ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"john@doe.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendered devise/shared/_links.html.erb (0.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 2.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 11:17:29 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.3ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.5ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 11:17:29 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-06 10:17:29.664588"], ["updated_at", "2016-04-06 10:17:29.664588"], ["short", "aoJHlw"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 0.7ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 11:17:29 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.6ms)
  Rendered links/partials/_popular_links.html.erb (0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.9ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.7ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["active", "f"], ["updated_at", "2016-04-06 10:17:29.697855"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["click_count", 1], ["updated_at", "2016-04-06 10:17:29.709617"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-06 10:17:29.719116"], ["updated_at", "2016-04-06 10:17:29.719116"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to https://google.com.ng
Completed 302 Found in 13ms (ActiveRecord: 0.9ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:17:29.727988"], ["updated_at", "2016-04-06 10:17:29.727988"], ["short", "1wcL9g"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.4ms)
  Rendered links/partials/_form.html.erb (1.5ms)
  Rendered links/edit.html.erb within layouts/application (6.7ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 18ms (Views: 15.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:17:29.758808"], ["updated_at", "2016-04-06 10:17:29.758808"], ["short", "PtMbgQ"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.4ms)
  [1m[36mVisit Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1[0m  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (13.7ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 18ms (Views: 16.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:17:29.783750"], ["updated_at", "2016-04-06 10:17:29.783750"], ["short", "ds59zg"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"ds59zg", "user_id"=>"980190962"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "ds59zg"], ["created_at", "2016-04-06 10:17:29.790098"], ["updated_at", "2016-04-06 10:17:29.790098"]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:17:29.797231"], ["updated_at", "2016-04-06 10:17:29.797231"], ["short", "bqcSDw"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"bqcSDw", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/links/980190963
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:17:29.810442"], ["updated_at", "2016-04-06 10:17:29.810442"], ["short", "OomUVQ"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (6.0ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 12ms (Views: 9.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:17:29.829444"], ["updated_at", "2016-04-06 10:17:29.829444"], ["short", "vZFD8A"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "links" WHERE "links"."id" = ?  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:17:29.843543"], ["updated_at", "2016-04-06 10:17:29.843543"], ["short", "-D7Skw"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (1.8ms)
  Rendered links/new.html.erb within layouts/application (3.1ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.6ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (2.7ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (5.7ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["link_id", 980190962], ["created_at", "2016-04-06 10:17:29.882911"], ["updated_at", "2016-04-06 10:17:29.882911"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190963
Completed 302 Found in 6ms (ActiveRecord: 1.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "visits" WHERE "visits"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.0ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (1.3ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 8.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/_form.html.erb (8.6ms)
  Rendered visits/edit.html.erb within layouts/application (11.0ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 16ms (Views: 15.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/visits/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (2.3ms)
  Rendered visits/new.html.erb within layouts/application (2.9ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT "visits".* FROM "visits"[0m
  Rendered visits/index.html.erb within layouts/application (1.6ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
VisitTest: test_valid
---------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 10:49:43', '2016-04-06 10:49:43', 980190962)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$K/oKZWinPwj9YqkseVJ3RuNBsp5lf2RLwW1dDb8sLmjHULGwjaN3y', '2016-04-06 10:49:43', '2016-04-06 10:49:43', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$bUAVOjYd605HHC2A62T2hOI2pEiwn1d383/6ul/yi4J0xrAX9o7ia', '2016-04-06 10:49:43', '2016-04-06 10:49:43', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 10:49:43', '2016-04-06 10:49:43', 980190962)[0m
  [1m[35m (2.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[35mVisit Load (0.3ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (3.4ms)
  Rendered shared/_nav_bar.html.erb (9.9ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 41ms (Views: 35.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[36mVisit Load (0.0ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "visits" WHERE "visits"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["link_id", 980190962], ["created_at", "2016-04-06 10:49:43.113892"], ["updated_at", "2016-04-06 10:49:43.113892"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190963
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[35mVisit Load (0.1ms)[0m  SELECT "visits".* FROM "visits"
  Rendered visits/index.html.erb within layouts/application (1.6ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered visits/_form.html.erb (24.9ms)
  Rendered visits/edit.html.erb within layouts/application (28.6ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 34ms (Views: 33.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mVisit Load (0.3ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (2.8ms)
  Rendered visits/new.html.erb within layouts/application (4.0ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 9.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (2.6ms)
  Rendered links/partials/_popular_links.html.erb (0.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (4.8ms)
  Rendered links/partials/_recent.html.erb (1.0ms)
  Rendered pages/index.html.erb within layouts/application (20.0ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 37ms (Views: 28.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["active", "f"], ["updated_at", "2016-04-06 10:49:43.243554"], ["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["click_count", 1], ["updated_at", "2016-04-06 10:49:43.259146"], ["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-06 10:49:43.262429"], ["updated_at", "2016-04-06 10:49:43.262429"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to https://google.com.ng
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:49:43.272990"], ["updated_at", "2016-04-06 10:49:43.272990"], ["short", "gafeIA"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?  [["user_id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC[0m  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (5.4ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 26ms (Views: 11.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:49:43.324649"], ["updated_at", "2016-04-06 10:49:43.324649"], ["short", "YbDWQw"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "links" WHERE "links"."id" = ?  [["id", 980190963]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:49:43.341067"], ["updated_at", "2016-04-06 10:49:43.341067"], ["short", "CssvZw"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"CssvZw", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/links/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:49:43.354984"], ["updated_at", "2016-04-06 10:49:43.354984"], ["short", "gOy0nQ"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.0ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.0ms)
  Rendered links/partials/_form.html.erb (4.1ms)
  Rendered links/edit.html.erb within layouts/application (6.5ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 9.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:49:43.372101"], ["updated_at", "2016-04-06 10:49:43.372101"], ["short", "QGl83w"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.5ms)
  Rendered links/partials/_form.html.erb (1.4ms)
  Rendered links/new.html.erb within layouts/application (2.9ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:49:43.385796"], ["updated_at", "2016-04-06 10:49:43.385796"], ["short", "_J3iBw"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"_J3iBw", "user_id"=>"980190962"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "_J3iBw"], ["created_at", "2016-04-06 10:49:43.392273"], ["updated_at", "2016-04-06 10:49:43.392273"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.com/
Completed 302 Found in 6ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 10:49:43.401470"], ["updated_at", "2016-04-06 10:49:43.401470"], ["short", "DaU0_g"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.7ms)
  [1m[36mVisit Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1[0m  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (17.5ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 22ms (Views: 20.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
VisitTest: test_valid
---------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mLink Load (0.0ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 11:49:43 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.3ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 4.7ms | ActiveRecord: 0.5ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 11:49:43 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 11:49:43 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.8ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.6ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (5.8ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 12ms (Views: 8.3ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-06 11:49:43 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.7ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 11:49:43 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.4ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.8ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (4.1ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.3ms | ActiveRecord: 0.7ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 11:49:43 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-06 10:49:43.506143"], ["updated_at", "2016-04-06 10:49:43.506143"], ["short", "2uO5RQ"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 11:49:43 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.9ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.8ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 11:49:43 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.0ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 11:49:43 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.1ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-06 11:49:43 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.7ms)
  Rendered devise/sessions/new.html.erb within layouts/application (8.9ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 24ms (Views: 20.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2016-04-06 11:49:43 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"john@doe.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["email", "john@doe.com"]]
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.2ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"john@doe.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendered devise/shared/_links.html.erb (0.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-06 11:49:43 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.7ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-06 11:49:43 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.4ms)
  Rendered devise/registrations/new.html.erb within layouts/application (2.6ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 13ms (Views: 11.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 11:49:43 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.7ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.1ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (5.1ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 6.7ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-06 11:49:43 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?  [["authentication_token", "gQRmTn5AkDJzNi68r3zx"]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["authentication_token", "gQRmTn5AkDJzNi68r3zx"], ["updated_at", "2016-04-06 10:49:43.681989"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (9.9ms)[0m  [1mDELETE FROM "links"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "links" ("long", "short", "created_at", "updated_at", "id") VALUES ('https://google.com.ng', 'custom', '2016-04-06 18:55:23', '2016-04-06 18:55:23', 980190962)
  [1m[36mFixture Delete (1.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test Two', 'two@test.com', '$2a$04$PahoQNSAuLY0jdw9SlT7tOtYEgeuMnsl6WEVVXoTQMYEok4HwHchy', '2016-04-06 18:55:23', '2016-04-06 18:55:23', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("full_name", "email", "encrypted_password", "created_at", "updated_at", "id") VALUES ('Test One', 'one@test.com', '$2a$04$fc.RWFGSDEMYY0HiziVifOkMVOEzhzTQs0900V6.gE/nxGgC5NhAy', '2016-04-06 18:55:23', '2016-04-06 18:55:23', 980190962)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "visits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "visits" ("link_id", "ip", "browser", "browser_version", "os", "created_at", "updated_at", "id") VALUES (980190962, NULL, NULL, NULL, NULL, '2016-04-06 18:55:23', '2016-04-06 18:55:23', 980190962)[0m
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_show_link
------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 18:55:23.549961"], ["updated_at", "2016-04-06 18:55:23.549961"], ["short", "satFzw"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.4ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (1.6ms)
  [1m[35mVisit Exists (0.1ms)[0m  SELECT  1 AS one FROM "visits" WHERE "visits"."link_id" = ? LIMIT 1  [["link_id", 980190963]]
  Rendered links/show.html.erb within layouts/application (63.4ms)
  Rendered shared/_nav_bar.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 182ms (Views: 149.4ms | ActiveRecord: 0.7ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LinksControllerTest: test_should_create_link
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 18:55:23.806540"], ["updated_at", "2016-04-06 18:55:23.806540"], ["short", "tzSP2w"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
Processing by LinksController#create as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"tzSP2w", "user_id"=>"980190962"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("user_id", "long", "short", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["long", "http://google.com.ng"], ["short", "tzSP2w"], ["created_at", "2016-04-06 18:55:23.817270"], ["updated_at", "2016-04-06 18:55:23.817270"]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.com/
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
LinksControllerTest: test_should_update_link
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 18:55:23.823877"], ["updated_at", "2016-04-06 18:55:23.823877"], ["short", "Iubszw"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#update as HTML
  Parameters: {"link"=>{"long"=>"http://google.com.ng", "short"=>"Iubszw", "user_id"=>"980190962"}, "id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/links/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
LinksControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 18:55:23.837168"], ["updated_at", "2016-04-06 18:55:23.837168"], ["short", "anvRQg"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#edit as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190963]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.7ms)
  Rendered links/partials/_form.html.erb (148.7ms)
  Rendered links/edit.html.erb within layouts/application (160.6ms)
  Rendered shared/_nav_bar.html.erb (0.2ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 166ms (Views: 164.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LinksControllerTest: test_should_destroy_link
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 18:55:24.010298"], ["updated_at", "2016-04-06 18:55:24.010298"], ["short", "Bfhdxw"]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
Processing by LinksController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "links" WHERE "links"."id" = ?  [["id", 980190963]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) - 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "links"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
LinksControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)[0m  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 18:55:24.023205"], ["updated_at", "2016-04-06 18:55:24.023205"], ["short", "2DoFGg"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by LinksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.7ms)
  Rendered links/partials/_form.html.erb (1.3ms)
  Rendered links/new.html.erb within layouts/application (3.7ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 28ms (Views: 26.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
LinksControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "links" ("long", "user_id", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?, ?)  [["long", "http://google.com.ng"], ["user_id", 980190962], ["created_at", "2016-04-06 18:55:24.058620"], ["updated_at", "2016-04-06 18:55:24.058620"], ["short", "vNmg7A"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "links_count" = COALESCE("links_count", 0) + 1 WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by LinksController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered shared/_side_bar.html.erb (0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "links" WHERE "links"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35mLink Load (0.2ms)[0m  SELECT "links".* FROM "links" WHERE "links"."user_id" = ?  ORDER BY created_at DESC  [["user_id", 980190962]]
  Rendered links/index.html.erb within layouts/application (3.7ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 8.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
VisitsControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mVisit Load (0.2ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#new as HTML
  Rendered visits/_form.html.erb (38.7ms)
  Rendered visits/new.html.erb within layouts/application (41.3ms)
  Rendered shared/_nav_bar.html.erb (23.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 80ms (Views: 79.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
VisitsControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mVisit Load (0.2ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/_form.html.erb (3.1ms)
  Rendered visits/edit.html.erb within layouts/application (4.2ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 8.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
VisitsControllerTest: test_should_update_visit
----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#update as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}, "id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
VisitsControllerTest: test_should_show_visit
--------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by VisitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered visits/show.html.erb within layouts/application (1.0ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 5.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
VisitsControllerTest: test_should_destroy_visit
-----------------------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "visits"[0m
Processing by VisitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "visits" WHERE "visits"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
VisitsControllerTest: test_should_create_visit
----------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
Processing by VisitsController#create as HTML
  Parameters: {"visit"=>{"browser"=>nil, "browser_version"=>nil, "ip"=>nil, "link_id"=>"980190962", "os"=>nil}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "visits" ("link_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["link_id", 980190962], ["created_at", "2016-04-06 18:55:24.224966"], ["updated_at", "2016-04-06 18:55:24.224966"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/visits/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "visits"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
VisitsControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mVisit Load (0.1ms)[0m  [1mSELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by VisitsController#index as HTML
  [1m[35mVisit Load (0.1ms)[0m  SELECT "visits".* FROM "visits"
  Rendered visits/index.html.erb within layouts/application (1.9ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_deleted_page_for_unavailable_url
-----------------------------------------------------------------------------
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"dsfjsdkjfd"}
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "dsfjsdkjfd"]]
Redirected to http://test.host/pages/deleted
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------
RedirectControllerTest: test_it_redirects_to_long_url
-----------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1  [["short", "custom"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "links" SET "click_count" = ?, "updated_at" = ? WHERE "links"."id" = ?  [["click_count", 1], ["updated_at", "2016-04-06 18:55:24.262671"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "visits" ("link_id", "browser", "ip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["link_id", 980190962], ["browser", "Rails"], ["ip", "0.0.0.0"], ["created_at", "2016-04-06 18:55:24.269265"], ["updated_at", "2016-04-06 18:55:24.269265"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to https://google.com.ng
Completed 302 Found in 10ms (ActiveRecord: 0.9ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
RedirectControllerTest: test_it_redirects_to_disabled_page_for_disabled_url
---------------------------------------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "links" SET "active" = ?, "updated_at" = ? WHERE "links"."id" = ?[0m  [["active", "f"], ["updated_at", "2016-04-06 18:55:24.273904"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by RedirectController#show as HTML
  Parameters: {"short_url"=>"custom"}
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."short" = ?  ORDER BY "links"."id" ASC LIMIT 1[0m  [["short", "custom"]]
Redirected to http://test.host/pages/inactive
Filter chain halted as :short_link rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------
VisitTest: test_belongs_to_link
-------------------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
VisitTest: test_valid
---------------------
  [1m[35mVisit Load (0.1ms)[0m  SELECT  "visits".* FROM "visits" WHERE "visits"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
PagesControllerTest: test_index_should_render_correct_template
--------------------------------------------------------------
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (1.5ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (7.1ms)
  Rendered links/partials/_recent.html.erb (0.7ms)
  Rendered pages/index.html.erb within layouts/application (49.0ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 69ms (Views: 67.1ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
PagesControllerTest: test_it_redirects_to_advertise
---------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
PagesControllerTest: test_it_redirects_to_about_page
----------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
PagesControllerTest: test_it_redirects_to_contact_page
------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
PagesControllerTest: test_it_redirects_to_homepage
--------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
LinkTest: test_responds_to_to_short_url
---------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
LinkTest: test_has_many_visits
------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
LinkTest: test_responds_to_url_slug
-----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
LinkTest: test_invalid_without_long
-----------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
LinkTest: test_link_valid
-------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------
LinkTest: test_format_of_long
-----------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
LinkTest: test_valid_without_short
----------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
LinkTest: test_presenece_of_click_count
---------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
LinkTest: test_presence_of_short_after_save
-------------------------------------------
  [1m[36mLink Load (0.1ms)[0m  [1mSELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
LinkTest: test_short_invalid_if_key_word
----------------------------------------
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links".* FROM "links" WHERE "links"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------
VisitorVisitsSite: test_visit_homepage
--------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 19:55:24 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.8ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (2.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (5.4ms)
  Rendered shared/_nav_bar.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 19ms (Views: 7.7ms | ActiveRecord: 0.7ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 19:55:24 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>""}, "commit"=>"Create Link"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 19:55:24 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.2ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.4ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_recently_added
---------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 19:55:24 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.2ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.2ms)
  Rendered pages/index.html.erb within layouts/application (3.6ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.8ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_popular_links
--------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 19:55:24 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.0ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.4ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.1ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_about_page
-------------------------------------------------------
Started GET "/pages/about" for 127.0.0.1 at 2016-04-06 19:55:24 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"about"}
  Rendered pages/about.html.erb within layouts/application (0.7ms)
  Rendered shared/_nav_bar.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_influential_users
------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 19:55:24 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.4ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_contact_page
---------------------------------------------------------
Started GET "/pages/contact" for 127.0.0.1 at 2016-04-06 19:55:24 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"contact"}
  Rendered pages/contact.html.erb within layouts/application (0.4ms)
  Rendered shared/_nav_bar.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
VisitorVisitsSite: test_visitor_shoudl_visit_login_page
-------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2016-04-06 19:55:24 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (3.1ms)
  Rendered devise/sessions/new.html.erb within layouts/application (35.2ms)
  Rendered shared/_nav_bar.html.erb (1.0ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 63ms (Views: 49.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2016-04-06 19:55:24 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"john@doe.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "john@doe.com"]]
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.2ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"john@doe.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendered devise/shared/_links.html.erb (0.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
  Rendered shared/_nav_bar.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_visit_sign_up_page
---------------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2016-04-06 19:55:24 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.3ms)
  Rendered devise/registrations/new.html.erb within layouts/application (2.4ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 10.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
VisitorVisitsSite: test_visitor_should_see_advertise_page
---------------------------------------------------------
Started GET "/pages/advertise" for 127.0.0.1 at 2016-04-06 19:55:24 +0100
Processing by PagesController#show as HTML
  Parameters: {"page"=>"advertise"}
  Rendered pages/advertise.html.erb within layouts/application (0.6ms)
  Rendered shared/_nav_bar.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
VisitorVisitsSite: test_create_a_short_link
-------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-04-06 19:55:24 +0100
Processing by PagesController#index as HTML
  [1m[35m (0.3ms)[0m  SELECT "links"."short" FROM "links"  ORDER BY created_at DESC
  [1m[36mLink Load (0.2ms)[0m  [1mSELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5[0m
  Rendered links/partials/_form.html.erb (1.1ms)
  Rendered links/partials/_popular_links.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3[0m
  Rendered pages/_top_users.html.erb (1.9ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.8ms)
  Rendered shared/_nav_bar.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 5.0ms | ActiveRecord: 0.6ms)
Started POST "/links" for 127.0.0.1 at 2016-04-06 19:55:24 +0100
Processing by LinksController#create as HTML
  Parameters: {"utf8"=>"✓", "link"=>{"long"=>"http://www.google.com.ng"}, "commit"=>"Create Link"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "links" ("long", "created_at", "updated_at", "short") VALUES (?, ?, ?, ?)[0m  [["long", "http://www.google.com.ng"], ["created_at", "2016-04-06 18:55:24.661677"], ["updated_at", "2016-04-06 18:55:24.661677"], ["short", "v6KL3g"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2016-04-06 19:55:24 +0100
Processing by PagesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT "links"."short" FROM "links"  ORDER BY created_at DESC[0m
  [1m[35mLink Load (0.1ms)[0m  SELECT  "links"."short", "links"."click_count" FROM "links"  ORDER BY click_count DESC LIMIT 5
  Rendered links/partials/_form.html.erb (1.3ms)
  Rendered links/partials/_popular_links.html.erb (0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT 3) subquery_for_count[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users"."full_name", "users"."created_at", "users"."links_count" FROM "users"  ORDER BY links_count desc LIMIT 3
  Rendered pages/_top_users.html.erb (1.5ms)
  Rendered links/partials/_recent.html.erb (0.1ms)
  Rendered pages/index.html.erb within layouts/application (3.6ms)
  Rendered shared/_nav_bar.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.9ms | ActiveRecord: 0.4ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UserTest: test_presence_of_encrypted_password
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_match_email_pattern
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------
UserTest: test_user_valid
-------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."authentication_token" = ?  [["authentication_token", "57WQA9_pr7e68d1c1KFR"]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "authentication_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["authentication_token", "57WQA9_pr7e68d1c1KFR"], ["updated_at", "2016-04-06 18:55:24.682095"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_invalid_without_full_name
----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------
UserTest: test_invalid_without_email
------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
UserTest: test_uniqueness_of_email
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_links
-----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
=======
>>>>>>> d885e272e5f92b1834352db5bdff98903e1d7661
